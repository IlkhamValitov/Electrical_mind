import{U as Ke,g as Ca,s as Ct,G as _a,E as Ws,o as ue,c as le,a as ce,l as Ce,f as Qt,h as Un,b as xr,d as fs,e as wr,R as de,j as n,i as hs,r as Y,k as Yn,m as Wn,n as x,p as F,q as zn,t as Vn,A as Xn,u as Kn,v as Q,w as Ta,x as jr,y as Qn,z as Sr,B as Ot,C as Nr,D as Gn,F as ka,H as Zn,I as Pa,J as be,K as Jn,L as Ea,M as Aa,S as Oa,N as Ra,O as Ia,P as Is,Q as Da,T as La,V as ei,W as Ma,X as ti,Y as si,Z as ri,_ as Ds,$ as ar,a0 as Fa,a1 as Ha,a2 as ks,a3 as $a,a4 as qa,a5 as Ba,a6 as Ua,a7 as ni,a8 as Ya,a9 as Wa,aa as za,ab as Va,ac as Xa,ad as ii,ae as zs,af as Ka,ag as Qa,ah as Ls,ai as Yr,aj as Ga,ak as Za,al as Ja,am as eo,an as to,ao as so,ap as ai,aq as Je,ar as ls,as as ro,at as no,au as io,av as ao,aw as oo,ax as lo,ay as co,az as Wr,aA as uo,aB as zr,aC as Vr,aD as Xr,aE as ho,aF as po,aG as or,aH as Kr,aI as mo,aJ as fo,aK as go,aL as vo,aM as yo,aN as bo,aO as xo,aP as wo,aQ as jo,aR as So,aS as us,aT as js,aU as No,aV as Co,aW as Qr,aX as _o,aY as To}from"./common.mjs";function ko(e){if(!e)return[];const s=[100];let t=350;for(;t<e&&t<=1350;)s.push(t),t+=500;return s.push(e),s}function Po(e,s){return e.map(t=>{const r=`/images/published/${oi(s)}_${t}.webp`;return`${encodeURI(r)} ${t}w`}).join(", ")}function oi(e){return e.slice(0,e.indexOf("."))}const Eo=function(e,s){return e.join(s).toLowerCase()},Ao="(?:[a-z](?=[A-Z])|[A-Z](?=[A-Z][a-z]))";function Oo(e,s){for(let t=0,r=e.length;t<r;t++){const i=e[t],a=s[i];if(a!==void 0){e=e.substr(0,t)+a+e.substr(t+1);const o=String(a).length-1;t+=o,r+=o}}return e}const Ro=/[\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF]+/g,Io=/[A-Za-z\d]+/g,Do=new RegExp("[A-Za-z\\d]*?"+Ao+"|[A-Za-z\\d]+","g");function lr(e,s){s=s||{};const t=s.camelCase!==void 0?s.camelCase:!0,r=s.separator!==void 0?s.separator:"-",i=s.transformer!==void 0?s.transformer:Eo,a=(s.dictionary?Oo(String(e),s.dictionary):String(e)).normalize("NFKD").replace(Ro,"").match(t?Do:Io);return a?i?i(a,r):a.join(r):""}function Ms(e){const s=Ke.fromURL(e);return s.isGoogleDoc?"gdoc":s.isGrapher?"grapher":s.isExplorer?"explorer":"url"}function li(e){const s=Ke.fromURL(e);if(s.isGoogleDoc){const t=e.match(Ca);if(t){const[r,i]=t;return i}}return(s.isGrapher||s.isExplorer)&&s.slug?s.slug:e}function zt(e){return lr(Ct(e))}class Rt extends _a{logCountryProfileSearch(s){this.logToGA({event:Ws.CountryProfileSearch,eventContext:s})}logPageNotFoundError(s){this.logToGA({event:Ws.SiteError,eventAction:"not_found",eventContext:s})}logChartsPageSearchQuery(s){this.logToGA({event:Ws.Filter,eventAction:"charts_page",eventContext:s})}}var Lo=Object.defineProperty,Mo=Object.getOwnPropertyDescriptor,It=(e,s,t,r)=>{for(var i=r>1?void 0:r?Mo(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&Lo(s,t,i),i};function Fo(e){return encodeURIComponent(e.replace(/ /g,"-"))}function Ho(e){return decodeURIComponent(e).replace(/-/g," ")}let pt=class{constructor(){this.chartItems=[],this.chartItemsByTitle={},this.results=[],this.sections=[],this.query="",this.analytics=new Rt,this.searchInput=document.querySelector(".chartsSearchInput"),this.sections=Array.from(document.querySelectorAll(".ChartsIndexPage main .content section"));const s=Array.from(document.querySelectorAll(".ChartsIndexPage main .content li"));this.chartItems=s.map(t=>({title:t.children[0].textContent.replace(/₂/g,"2"),li:t,ul:t.closest("ul")})),this.chartItemsByTitle=Ce.keyBy(this.chartItems,"title"),this.strings=this.chartItems.map(t=>Qt.prepare(t.title))}get searchStrings(){return this.chartItems.map(s=>Qt.prepare(s.title))}get searchResults(){return Qt.go(this.query,this.searchStrings,{threshold:-150})}get resultsByTitle(){return Ce.keyBy(this.searchResults,"target")}logSearchQuery(){this.analytics.logChartsPageSearchQuery(this.query)}onSearchInput(){this.query=this.searchInput.value,this.timeout!==void 0&&clearTimeout(this.timeout),this.timeout=setTimeout(this.logSearchQuery,500)}render(){var s;if(history.replaceState(null,document.title,window.location.pathname+(this.query?`?search=${Fo(this.query)}`:"")+window.location.hash),!this.query){for(const t of this.sections)t.style.display="";for(const t of this.chartItems)t.ul.append(t.li),t.li.style.display="",t.li.children[0].innerHTML=t.title;return}for(const t of this.chartItems){const r=this.resultsByTitle[t.title];r?(t.li.style.display="",t.li.children[0].innerHTML=(s=Un(r))!=null?s:""):t.li.style.display="none"}for(const t of this.sections)Array.from(t.querySelectorAll("li")).some(r=>r.style.display!=="none")?t.style.display="":t.style.display="none"}run(){this.searchInput.addEventListener("input",this.onSearchInput),xr(()=>this.render());const s=window.location.search.match(/search=(.+)/);s&&(this.searchInput.value=Ho(s[1])),this.query=this.searchInput.value}};It([ue],pt.prototype,"query",2);It([le],pt.prototype,"searchStrings",1);It([le],pt.prototype,"searchResults",1);It([le],pt.prototype,"resultsByTitle",1);It([ce.bound],pt.prototype,"logSearchQuery",1);It([ce.bound],pt.prototype,"onSearchInput",1);It([ce.bound],pt.prototype,"run",1);function $o(){new pt().run()}var ci={exports:{}};/*! algoliasearch-lite.umd.js | 4.17.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(e,s){(function(t,r){e.exports=r()})(wr,function(){function t(f,g,y){return g in f?Object.defineProperty(f,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[g]=y,f}function r(f,g){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(f);g&&(j=j.filter(function(E){return Object.getOwnPropertyDescriptor(f,E).enumerable})),y.push.apply(y,j)}return y}function i(f){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?r(Object(y),!0).forEach(function(j){t(f,j,y[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):r(Object(y)).forEach(function(j){Object.defineProperty(f,j,Object.getOwnPropertyDescriptor(y,j))})}return f}function a(f,g){if(f==null)return{};var y,j,E=function(I,M){if(I==null)return{};var ne,m,b={},C=Object.keys(I);for(m=0;m<C.length;m++)ne=C[m],M.indexOf(ne)>=0||(b[ne]=I[ne]);return b}(f,g);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(f);for(j=0;j<R.length;j++)y=R[j],g.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(f,y)&&(E[y]=f[y])}return E}function o(f,g){return function(y){if(Array.isArray(y))return y}(f)||function(y,j){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var E=[],R=!0,I=!1,M=void 0;try{for(var ne,m=y[Symbol.iterator]();!(R=(ne=m.next()).done)&&(E.push(ne.value),!j||E.length!==j);R=!0);}catch(b){I=!0,M=b}finally{try{R||m.return==null||m.return()}finally{if(I)throw M}}return E}}(f,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(f){return function(g){if(Array.isArray(g)){for(var y=0,j=new Array(g.length);y<g.length;y++)j[y]=g[y];return j}}(f)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(f){var g,y="algoliasearch-client-js-".concat(f.key),j=function(){return g===void 0&&(g=f.localStorage||window.localStorage),g},E=function(){return JSON.parse(j().getItem(y)||"{}")};return{get:function(R,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var ne=JSON.stringify(R),m=E()[ne];return Promise.all([m||I(),m!==void 0])}).then(function(ne){var m=o(ne,2),b=m[0],C=m[1];return Promise.all([b,C||M.miss(b)])}).then(function(ne){return o(ne,1)[0]})},set:function(R,I){return Promise.resolve().then(function(){var M=E();return M[JSON.stringify(R)]=I,j().setItem(y,JSON.stringify(M)),I})},delete:function(R){return Promise.resolve().then(function(){var I=E();delete I[JSON.stringify(R)],j().setItem(y,JSON.stringify(I))})},clear:function(){return Promise.resolve().then(function(){j().removeItem(y)})}}}function c(f){var g=l(f.caches),y=g.shift();return y===void 0?{get:function(j,E){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},I=E();return I.then(function(M){return Promise.all([M,R.miss(M)])}).then(function(M){return o(M,1)[0]})},set:function(j,E){return Promise.resolve(E)},delete:function(j){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(j,E){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return y.get(j,E,R).catch(function(){return c({caches:g}).get(j,E,R)})},set:function(j,E){return y.set(j,E).catch(function(){return c({caches:g}).set(j,E)})},delete:function(j){return y.delete(j).catch(function(){return c({caches:g}).delete(j)})},clear:function(){return y.clear().catch(function(){return c({caches:g}).clear()})}}}function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},g={};return{get:function(y,j){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},R=JSON.stringify(y);if(R in g)return Promise.resolve(f.serializable?JSON.parse(g[R]):g[R]);var I=j(),M=E&&E.miss||function(){return Promise.resolve()};return I.then(function(ne){return M(ne)}).then(function(){return I})},set:function(y,j){return g[JSON.stringify(y)]=f.serializable?JSON.stringify(j):j,Promise.resolve(j)},delete:function(y){return delete g[JSON.stringify(y)],Promise.resolve()},clear:function(){return g={},Promise.resolve()}}}function h(f){for(var g=f.length-1;g>0;g--){var y=Math.floor(Math.random()*(g+1)),j=f[g];f[g]=f[y],f[y]=j}return f}function p(f,g){return g&&Object.keys(g).forEach(function(y){f[y]=g[y](f)}),f}function v(f){for(var g=arguments.length,y=new Array(g>1?g-1:0),j=1;j<g;j++)y[j-1]=arguments[j];var E=0;return f.replace(/%s/g,function(){return encodeURIComponent(y[E++])})}var w={WithinQueryParameters:0,WithinHeaders:1};function _(f,g){var y=f||{},j=y.data||{};return Object.keys(y).forEach(function(E){["timeout","headers","queryParameters","data","cacheable"].indexOf(E)===-1&&(j[E]=y[E])}),{data:Object.entries(j).length>0?j:void 0,timeout:y.timeout||g,headers:y.headers||{},queryParameters:y.queryParameters||{},cacheable:y.cacheable}}var P={Read:1,Write:2,Any:3},B=1,G=2,U=3;function W(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B;return i(i({},f),{},{status:g,lastUpdate:Date.now()})}function S(f){return typeof f=="string"?{protocol:"https",url:f,accept:P.Any}:{protocol:f.protocol||"https",url:f.url,accept:f.accept||P.Any}}var V="GET",H="POST";function z(f,g){return Promise.all(g.map(function(y){return f.get(y,function(){return Promise.resolve(W(y))})})).then(function(y){var j=y.filter(function(I){return function(M){return M.status===B||Date.now()-M.lastUpdate>12e4}(I)}),E=y.filter(function(I){return function(M){return M.status===U&&Date.now()-M.lastUpdate<=12e4}(I)}),R=[].concat(l(j),l(E));return{getTimeout:function(I,M){return(E.length===0&&I===0?1:E.length+3+I)*M},statelessHosts:R.length>0?R.map(function(I){return S(I)}):g}})}function Pe(f,g,y,j){var E=[],R=function(k,T){if(!(k.method===V||k.data===void 0&&T.data===void 0)){var N=Array.isArray(k.data)?k.data:i(i({},k.data),T.data);return JSON.stringify(N)}}(y,j),I=function(k,T){var N=i(i({},k.headers),T.headers),A={};return Object.keys(N).forEach(function(D){var $=N[D];A[D.toLowerCase()]=$}),A}(f,j),M=y.method,ne=y.method!==V?{}:i(i({},y.data),j.data),m=i(i(i({"x-algolia-agent":f.userAgent.value},f.queryParameters),ne),j.queryParameters),b=0,C=function k(T,N){var A=T.pop();if(A===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:$e(E)};var D={data:R,headers:I,method:M,url:He(A,y.path,m),connectTimeout:N(b,f.timeouts.connect),responseTimeout:N(b,j.timeout)},$=function(O){var L={request:D,response:O,host:A,triesLeft:T.length};return E.push(L),L},X={onSuccess:function(O){return function(L){try{return JSON.parse(L.content)}catch(ee){throw function(J,ve){return{name:"DeserializationError",message:J,response:ve}}(ee.message,L)}}(O)},onRetry:function(O){var L=$(O);return O.isTimedOut&&b++,Promise.all([f.logger.info("Retryable failure",st(L)),f.hostsCache.set(A,W(A,O.isTimedOut?U:G))]).then(function(){return k(T,N)})},onFail:function(O){throw $(O),function(L,ee){var J=L.content,ve=L.status,we=J;try{we=JSON.parse(J).message}catch{}return function(Se,_e,Re){return{name:"ApiError",message:Se,status:_e,transporterStackTrace:Re}}(we,ve,ee)}(O,$e(E))}};return f.requester.send(D).then(function(O){return function(L,ee){return function(J){var ve=J.status;return J.isTimedOut||function(we){var Se=we.isTimedOut,_e=we.status;return!Se&&~~_e==0}(J)||~~(ve/100)!=2&&~~(ve/100)!=4}(L)?ee.onRetry(L):~~(L.status/100)==2?ee.onSuccess(L):ee.onFail(L)}(O,X)})};return z(f.hostsCache,g).then(function(k){return C(l(k.statelessHosts).reverse(),k.getTimeout)})}function Ee(f){var g={value:"Algolia for JavaScript (".concat(f,")"),add:function(y){var j="; ".concat(y.segment).concat(y.version!==void 0?" (".concat(y.version,")"):"");return g.value.indexOf(j)===-1&&(g.value="".concat(g.value).concat(j)),g}};return g}function He(f,g,y){var j=Ye(y),E="".concat(f.protocol,"://").concat(f.url,"/").concat(g.charAt(0)==="/"?g.substr(1):g);return j.length&&(E+="?".concat(j)),E}function Ye(f){return Object.keys(f).map(function(g){return v("%s=%s",g,(y=f[g],Object.prototype.toString.call(y)==="[object Object]"||Object.prototype.toString.call(y)==="[object Array]"?JSON.stringify(f[g]):f[g]));var y}).join("&")}function $e(f){return f.map(function(g){return st(g)})}function st(f){var g=f.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},f),{},{request:i(i({},f.request),{},{headers:i(i({},f.request.headers),g)})})}var We=function(f){var g=f.appId,y=function(E,R,I){var M={"x-algolia-api-key":I,"x-algolia-application-id":R};return{headers:function(){return E===w.WithinHeaders?M:{}},queryParameters:function(){return E===w.WithinQueryParameters?M:{}}}}(f.authMode!==void 0?f.authMode:w.WithinHeaders,g,f.apiKey),j=function(E){var R=E.hostsCache,I=E.logger,M=E.requester,ne=E.requestsCache,m=E.responsesCache,b=E.timeouts,C=E.userAgent,k=E.hosts,T=E.queryParameters,N={hostsCache:R,logger:I,requester:M,requestsCache:ne,responsesCache:m,timeouts:b,userAgent:C,headers:E.headers,queryParameters:T,hosts:k.map(function(A){return S(A)}),read:function(A,D){var $=_(D,N.timeouts.read),X=function(){return Pe(N,N.hosts.filter(function(L){return(L.accept&P.Read)!=0}),A,$)};if(($.cacheable!==void 0?$.cacheable:A.cacheable)!==!0)return X();var O={request:A,mappedRequestOptions:$,transporter:{queryParameters:N.queryParameters,headers:N.headers}};return N.responsesCache.get(O,function(){return N.requestsCache.get(O,function(){return N.requestsCache.set(O,X()).then(function(L){return Promise.all([N.requestsCache.delete(O),L])},function(L){return Promise.all([N.requestsCache.delete(O),Promise.reject(L)])}).then(function(L){var ee=o(L,2);return ee[0],ee[1]})})},{miss:function(L){return N.responsesCache.set(O,L)}})},write:function(A,D){return Pe(N,N.hosts.filter(function($){return($.accept&P.Write)!=0}),A,_(D,N.timeouts.write))}};return N}(i(i({hosts:[{url:"".concat(g,"-dsn.algolia.net"),accept:P.Read},{url:"".concat(g,".algolia.net"),accept:P.Write}].concat(h([{url:"".concat(g,"-1.algolianet.com")},{url:"".concat(g,"-2.algolianet.com")},{url:"".concat(g,"-3.algolianet.com")}]))},f),{},{headers:i(i(i({},y.headers()),{"content-type":"application/x-www-form-urlencoded"}),f.headers),queryParameters:i(i({},y.queryParameters()),f.queryParameters)}));return p({transporter:j,appId:g,addAlgoliaAgent:function(E,R){j.userAgent.add({segment:E,version:R})},clearCache:function(){return Promise.all([j.requestsCache.clear(),j.responsesCache.clear()]).then(function(){})}},f.methods)},lt=function(f){return function(g,y){return g.method===V?f.transporter.read(g,y):f.transporter.write(g,y)}},ze=function(f){return function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j={transporter:f.transporter,appId:f.appId,indexName:g};return p(j,y.methods)}},ke=function(f){return function(g,y){var j=g.map(function(E){return i(i({},E),{},{params:Ye(E.params||{})})});return f.transporter.read({method:H,path:"1/indexes/*/queries",data:{requests:j},cacheable:!0},y)}},qe=function(f){return function(g,y){return Promise.all(g.map(function(j){var E=j.params,R=E.facetName,I=E.facetQuery,M=a(E,["facetName","facetQuery"]);return ze(f)(j.indexName,{methods:{searchForFacetValues:Ae}}).searchForFacetValues(R,I,i(i({},y),M))}))}},Lt=function(f){return function(g,y,j){return f.transporter.read({method:H,path:v("1/answers/%s/prediction",f.indexName),data:{query:g,queryLanguages:y},cacheable:!0},j)}},rt=function(f){return function(g,y){return f.transporter.read({method:H,path:v("1/indexes/%s/query",f.indexName),data:{query:g},cacheable:!0},y)}},Ae=function(f){return function(g,y,j){return f.transporter.read({method:H,path:v("1/indexes/%s/facets/%s/query",f.indexName,g),data:{facetQuery:y},cacheable:!0},j)}},Qe=1,ge=2,he=3;function Oe(f,g,y){var j,E={appId:f,apiKey:g,timeouts:{connect:1,read:2,write:30},requester:{send:function(R){return new Promise(function(I){var M=new XMLHttpRequest;M.open(R.method,R.url,!0),Object.keys(R.headers).forEach(function(C){return M.setRequestHeader(C,R.headers[C])});var ne,m=function(C,k){return setTimeout(function(){M.abort(),I({status:0,content:k,isTimedOut:!0})},1e3*C)},b=m(R.connectTimeout,"Connection timeout");M.onreadystatechange=function(){M.readyState>M.OPENED&&ne===void 0&&(clearTimeout(b),ne=m(R.responseTimeout,"Socket timeout"))},M.onerror=function(){M.status===0&&(clearTimeout(b),clearTimeout(ne),I({content:M.responseText||"Network request failed",status:M.status,isTimedOut:!1}))},M.onload=function(){clearTimeout(b),clearTimeout(ne),I({content:M.responseText,status:M.status,isTimedOut:!1})},M.send(R.data)})}},logger:(j=he,{debug:function(R,I){return Qe>=j&&console.debug(R,I),Promise.resolve()},info:function(R,I){return ge>=j&&console.info(R,I),Promise.resolve()},error:function(R,I){return console.error(R,I),Promise.resolve()}}),responsesCache:d(),requestsCache:d({serializable:!1}),hostsCache:c({caches:[u({key:"".concat("4.17.0","-").concat(f)}),d()]}),userAgent:Ee("4.17.0").add({segment:"Browser",version:"lite"}),authMode:w.WithinQueryParameters};return We(i(i(i({},E),y),{},{methods:{search:ke,searchForFacetValues:qe,multipleQueries:ke,multipleSearchForFacetValues:qe,customRequest:lt,initIndex:function(R){return function(I){return ze(R)(I,{methods:{search:rt,searchForFacetValues:Ae,findAnswers:Lt}})}}}}))}return Oe.version="4.17.0",Oe})})(ci);var qo=ci.exports;const Bo=fs(qo);var ui={exports:{}},_t={};function di(){typeof Object.assign!="function"&&(Object.assign=function(e,s){var t=arguments;if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var a=t[i];if(a!=null)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r})}function Uo(){var e,s,t,r;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,s=!{toString:null}.propertyIsEnumerable("toString"),r=(t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(i){if(typeof i!="function"&&(typeof i!="object"||i===null))throw new TypeError("Object.keys called on non-object");var a,o,l=[];for(a in i)e.call(i,a)&&l.push(a);if(s)for(o=0;o<r;o++)e.call(i,t[o])&&l.push(t[o]);return l}))}function hi(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}function mt(e){return e.reduce(function(s,t){var r=s.events,i=s.additionalParams;return"index"in t?{additionalParams:i,events:r.concat([t])}:{events:r,additionalParams:t}},{events:[],additionalParams:void 0})}Object.defineProperty(_t,"__esModule",{value:!0});var Yo=function(){try{return!!navigator.cookieEnabled}catch{return!1}},Wo=function(){try{return!!navigator.sendBeacon}catch{return!1}},zo=function(){try{return!!XMLHttpRequest}catch{return!1}},ds=function(e){return e===void 0},Vo=function(e){return typeof e=="number"},gs=function(e){return typeof e=="function"};function Xo(e){return function(s,t){var r,i,a,o=this;if(!this._userHasOptedOut){if(!(!ds(this._apiKey)&&!ds(this._appId)||!((r=t)===null||r===void 0)&&r.headers["X-Algolia-Application-Id"]&&(!((i=t)===null||i===void 0)&&i.headers["X-Algolia-API-Key"])))throw new Error("Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters or provide custom credentials in additional parameters.");!this._userToken&&this._anonymousUserToken&&this.setAnonymousUserToken(!0);var l=s.map(function(u){var c,d,h=u.filters,p=hi(u,["filters"]),v=Object.assign(Object.assign({},p),{userToken:(d=(c=u)===null||c===void 0?void 0:c.userToken,d!=null?d:o._userToken)});return ds(h)||(v.filters=h.map(encodeURIComponent)),v});return Ko(e,this._appId,this._apiKey,this._ua,this._endpointOrigin,l,(a=t)===null||a===void 0?void 0:a.headers)}}}function Ko(e,s,t,r,i,a,o){o===void 0&&(o={});var l=Object.assign({"X-Algolia-Application-Id":s,"X-Algolia-API-Key":t,"X-Algolia-Agent":encodeURIComponent(r.join("; "))},o);return e(i+"/1/events?"+Object.keys(l).map(function(u){return u+"="+l[u]}).join("&"),{events:a})}var Ps="2.6.0",Qo=["insights-js ("+Ps+")","insights-js-browser-cjs ("+Ps+")"];function Go(e){this._ua.indexOf(e)===-1&&this._ua.push(e)}var cr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var s=16*Math.random()|0;return(e==="x"?s:3&s|8).toString(16)})},Gr="_ALGOLIA",pi=2592e6,Zo=function(e,s,t){var r=new Date;r.setTime(r.getTime()+t);var i="expires="+r.toUTCString();document.cookie=e+"="+s+";"+i+";path=/"},Jo=function(e){for(var s=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var i=t[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(s)===0)return i.substring(s.length,i.length)}return""};function el(e){if(e===void 0&&(e=!1),e)this.setUserToken("anonymous-"+cr());else if(Yo()){var s=Jo(Gr);s&&s!==""&&s.indexOf("anonymous-")===0?this.setUserToken(s):(this.setUserToken("anonymous-"+cr()),Zo(Gr,this._userToken,this._cookieDuration))}}function tl(e){this._userToken=e,gs(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}function sl(e,s){return gs(s)&&s(null,this._userToken),this._userToken}function rl(e,s){this._onUserTokenChangeCallback=e,s&&s.immediate&&gs(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}di();var Zr=["de","us"];function nl(e){var s,t;if(e===void 0&&(e={}),!ds(e.region)&&Zr.indexOf(e.region)===-1)throw new Error("optional region is incorrect, please provide either one of: "+Zr.join(", ")+".");if(!(ds(e.cookieDuration)||Vo(e.cookieDuration)&&isFinite(e.cookieDuration)&&Math.floor(e.cookieDuration)===e.cookieDuration))throw new Error("optional cookieDuration is incorrect, expected an integer.");il(this,e,{_userHasOptedOut:!!e.userHasOptedOut,_region:e.region,_host:e.host,_anonymousUserToken:(s=e.anonymousUserToken,s==null||s),_useCookie:(t=e.useCookie,t!=null&&t),_cookieDuration:e.cookieDuration||6*pi}),this._endpointOrigin=this._host||(this._region?"https://insights."+this._region+".algolia.io":"https://insights.algolia.io"),this._ua=[].concat(Qo),e.userToken?this.setUserToken(e.userToken):this._userToken||this._userHasOptedOut||!this._useCookie||this.setAnonymousUserToken()}function il(e,s,t){var r=s.partial,i=hi(s,["partial"]);r||Object.assign(e,t),Object.assign(e,Object.keys(i).reduce(function(a,o){var l;return Object.assign(Object.assign({},a),((l={})["_"+o]=i[o],l))},{}))}function al(e){gs(e)&&e(this.version)}function ft(e,s){return s.map(function(t){return Object.assign({eventType:e},t)})}function ol(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("click",r),i)}function ll(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("click",r),i)}function cl(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("click",r),i)}function ul(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("conversion",r),i)}function dl(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("conversion",r),i)}function hl(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("conversion",r),i)}function pl(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("view",r),i)}function ml(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=mt(e),r=t.events,i=t.additionalParams;return this.sendEvents(ft("view",r),i)}Uo(),di();var mi=function(e){var s=e.requestFn;this._endpointOrigin="https://insights.algolia.io",this._anonymousUserToken=!0,this._userHasOptedOut=!1,this._useCookie=!1,this._cookieDuration=6*pi,this._ua=[],this.version=Ps,this.sendEvents=Xo(s).bind(this),this.init=nl.bind(this),this.addAlgoliaAgent=Go.bind(this),this.setUserToken=tl.bind(this),this.setAnonymousUserToken=el.bind(this),this.getUserToken=sl.bind(this),this.onUserTokenChange=rl.bind(this),this.clickedObjectIDsAfterSearch=ol.bind(this),this.clickedObjectIDs=ll.bind(this),this.clickedFilters=cl.bind(this),this.convertedObjectIDsAfterSearch=ul.bind(this),this.convertedObjectIDs=dl.bind(this),this.convertedFilters=hl.bind(this),this.viewedObjectIDs=pl.bind(this),this.viewedFilters=ml.bind(this),this.getVersion=al.bind(this)};function Cr(e){return function(s){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];s&&gs(e[s])?e[s].apply(e,t):console.warn("The method `"+s+"` doesn't exist.")}}var fl=function(e,s){var t=JSON.stringify(s);if(!navigator.sendBeacon(e,t))return fi(e,s)},fi=function(e,s){var t=JSON.stringify(s),r=new XMLHttpRequest;r.open("POST",e),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Content-Length",""+t.length),r.send(t)};function gi(){if(Wo())return fl;if(zo())return fi;throw new Error("Could not find a supported HTTP request client in this environment.")}function gl(e){var s=e.AlgoliaAnalyticsObject;if(s){var t=Cr(this),r=e[s];r.queue=r.queue||[];var i=r.queue;i.forEach(function(a){var o=[].slice.call(a),l=o[0],u=o.slice(1);t.apply(void 0,[l].concat(u))}),i.push=function(a){var o=[].slice.call(a),l=o[0],u=o.slice(1);t.apply(void 0,[l].concat(u))}}}function vl(e){var s=Cr(new mi({requestFn:e}));if(typeof window=="object"&&!window.AlgoliaAnalyticsObject){var t;do t=cr();while(window[t]!==void 0);window.AlgoliaAnalyticsObject=t,window[window.AlgoliaAnalyticsObject]=s}return s.version=Ps,s}var yl=vl(gi());_t.AlgoliaAnalytics=mi,_t.default=yl,_t.getFunctionalInterface=Cr,_t.getRequesterForBrowser=gi,_t.processQueue=gl;(function(e){const s=_t;e.exports=s.default,Object.keys(s).forEach(t=>{t!=="default"&&(e.exports[t]=s[t])})})(ui);var bl=ui.exports;const Jr=fs(bl),vi="cookie_preferences",xl=new Rt,en=({title:e,name:s,consent:t,disabled:r,toggleConsent:i,children:a})=>{const o=`cookie-preference-${Wn(s)}`,l=()=>{i(),xl.logSiteClick(vi,`${t?"Refuse":"Accept"} ${s}`)};return n.jsxs("div",{className:"cookie-preference",children:[n.jsx("input",{id:o,type:"checkbox",onChange:l,checked:t,disabled:r,"data-test":`${s}-preference`}),n.jsx("label",{htmlFor:o,children:e}),n.jsx("div",{className:"description",children:a})]})},wl=({preferences:e,date:s,dispatch:t})=>{const r=document.querySelector(".wp-block-cookie-preferences");return r?de.createPortal(n.jsxs("div",{"data-test":"cookie-preferences",className:"cookie-preferences",children:[n.jsx(en,{title:"Necessary cookies",name:"necessary",consent:!0,disabled:!0,children:"The website cannot function properly without these cookies. If you wish, you can disable cookies completely in your browser preferences."}),n.jsx(en,{title:"Analytics cookies",name:"analytics",consent:kr(ps.Analytics,e),toggleConsent:()=>t({type:Es.TogglePreference,payload:{preferenceType:ps.Analytics,date:ur()}}),children:"We use these cookies to monitor and improve website performance."}),s?n.jsxs("div",{className:"last-updated",children:["Preferences last updated:"," ",hs(s,_r).format("MMMM D, YYYY")]}):n.jsxs("button",{className:"owid-button",onClick:()=>t({type:Es.Accept,payload:{date:ur()}}),"data-test":"accept","data-track-note":vi,children:[n.jsx("span",{className:"icon",children:n.jsx(Y.FontAwesomeIcon,{icon:Yn})}),"I agree"]})]}),r):null},jl=({accepted:e,outdated:s,dispatch:t})=>{const[r,i]=x.useState(!1);return x.useEffect(()=>{setTimeout(()=>{i(!0)},200)},[]),n.jsx("div",{className:F("cookie-notice",{open:r&&(!e||s)}),"data-test":"cookie-notice",children:n.jsxs("div",{className:"cookie-notice__inner",children:[n.jsxs("div",{children:[n.jsx("p",{className:"cookie-notice__text",children:"We use cookies to give you the best experience on our website."}),n.jsx("p",{className:"cookie-notice__text",children:"By continuing without changing your cookie settings, we assume you agree to this."})]}),n.jsxs("div",{className:"actions",children:[n.jsx("a",{href:"/privacy-policy",className:"button",children:"Manage preferences"}),n.jsxs("button",{className:"button accept",onClick:()=>t({type:Es.Accept,payload:{date:ur()}}),"data-test":"accept","data-track-note":"cookie_notice",children:[n.jsx("span",{className:"icon",children:n.jsx(Y.FontAwesomeIcon,{icon:Yn})}),"I agree"]})]})]})})};var ps=(e=>(e.Analytics="a",e.Marketing="m",e))(ps||{}),Es=(e=>(e[e.Accept=0]="Accept",e[e.TogglePreference=1]="TogglePreference",e[e.Reset=2]="Reset",e))(Es||{});const Vs=20201009,_r="YYYYMMDD",yi="cookie_preferences",bi="|",xi="-",Sl=":",Tr={preferences:[{type:"a",value:!0}]},Nl=({initialState:e=Tr})=>{var r;const[s,t]=x.useReducer(Cl,e);return x.useEffect(()=>{sn(s.date,Vs)&&t({type:2})},[s.date]),x.useEffect(()=>{s.date&&zn.set(yi,El(s),{expires:365*3})},[s]),n.jsxs("div",{"data-test-policy-date":Vs,className:"cookie-manager",children:[n.jsx(jl,{accepted:!!s.date,outdated:sn(s.date,Vs),dispatch:t}),n.jsx(wl,{preferences:s.preferences,date:(r=s.date)==null?void 0:r.toString(),dispatch:t})]})},Cl=(e,{type:s,payload:t})=>{switch(s){case 0:return{date:t.date,preferences:tn("a",!0,e.preferences)};case 1:return{date:t.date,preferences:tn(t.preferenceType,!kr(t.preferenceType,e.preferences),e.preferences)};case 2:return Tr;default:return e}},wi=()=>{var e;return(e=_l(zn.get(yi)))!=null?e:Tr},_l=e=>{if(!e)return;const[s,t]=e.split(xi),r=Pl(t);if(!r)return;const i=Tl(s);if(i.length)return{preferences:i,date:r}},Tl=e=>e?e.split(bi).map(s=>{const[t,,r]=s;return{type:t,value:r==="1"}}).filter(s=>kl(s)):[],kl=({type:e,value:s})=>Object.values(ps).includes(e)&&typeof s=="boolean",Pl=e=>{if(e)return hs(e,_r,!0).isValid()?parseInt(e,10):void 0},kr=(e,s=wi().preferences)=>{var t,r;return(r=(t=s.find(i=>i.type===e))==null?void 0:t.value)!=null?r:!1},tn=(e,s,t)=>t.map(r=>r.type!==e?r:{...r,value:s}),sn=(e,s)=>e?e<s:!1,El=e=>`${e.preferences.map(t=>`${t.type}${Sl}${t.value?1:0}`).join(bi)}${xi}${e.date}`,ur=()=>hs().format(_r),Xs=()=>{const e=document.createElement("div");document.body.appendChild(e),de.render(n.jsx(Nl,{initialState:wi()}),e)};let Ks;const Al=()=>(Ks||(Ks=Bo(Xn,Kn)),Ks);let rn=!1;const Ol=()=>(rn||(Jr("init",{appId:Xn,apiKey:Kn,userHasOptedOut:!kr(ps.Analytics),useCookie:!0}),rn=!0),Jr),ji=async e=>{var i;let s=e.trim();const t=[];for(const a of Vn){const o=[a.name,...(i=a.variantNames)!=null?i:[]];for(const l of o){const u=new RegExp(`\\b(${l})\\b`,"gi"),c=s.replace(u,"");c!==s&&(t.push(a),c.trim().length&&(s=c))}}const r=await Al().search([{indexName:"pages",query:e,params:{attributesToRetrieve:["objectID","slug","title","type"],attributesToSnippet:["excerpt:20","content:20"],attributesToHighlight:["title"],hitsPerPage:10,clickAnalytics:!0}},{indexName:"charts",query:s,params:{attributesToRetrieve:["objectID","chartId","slug","title","variantName"],attributesToSnippet:["subtitle:24"],attributesToHighlight:["title","availableEntities"],hitsPerPage:10,removeStopWords:!0,replaceSynonymsInHighlight:!1,clickAnalytics:!0}}]);return{pages:r.results[0],charts:r.results[1],countries:t}},Si=e=>{Ol()("clickedObjectIDsAfterSearch",{...e,eventName:"click"})};var Rl=Object.defineProperty,Il=Object.getOwnPropertyDescriptor,es=(e,s,t,r)=>{for(var i=r>1?void 0:r?Il(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&Rl(s,t,i),i};let dt=class extends Q.Component{get url(){return Ke.fromURL(this.props.src)}get configUrl(){return this.url.originAndPath}get queryStr(){return this.url.queryStr}async loadConfig(){const{configUrl:e}=this;if(e===void 0)return;const s=await fetch(e);if(this.configUrl!==e)return;const t=await s.text(),r=Ta(t);jr(()=>{this.grapher=new Sr({...r,isEmbeddedInAnOwidPage:!0,queryStr:this.queryStr}),this.currentUrl=this.props.src})}componentDidMount(){this.dispose=xr(()=>this.props.src&&this.loadConfig())}componentWillUnmount(){this.dispose&&this.dispose()}render(){return this.grapher?n.jsx(Qn,{grapher:this.grapher},this.currentUrl):n.jsx("figure",{"data-grapher-src":this.props.src})}};es([le],dt.prototype,"url",1);es([le],dt.prototype,"configUrl",1);es([le],dt.prototype,"queryStr",1);es([ue],dt.prototype,"grapher",2);es([ue],dt.prototype,"currentUrl",2);dt=es([Ot],dt);var Dl=Object.defineProperty,Ll=Object.getOwnPropertyDescriptor,gt=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ll(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&Dl(s,t,i),i};class Fs extends Q.Component{get entities(){return Ci(this.props.hit,this.props.queryCountries)}get slug(){const{hit:s}=this.props,{entities:t}=this;return t.length?Nr(Ke.fromURL(s.slug).updateQueryParams({tab:"chart"}),t).fullUrl:s.slug}get title(){var a,o,l;const{hit:s}=this.props,{entities:t}=this,r=(l=(o=(a=s._highlightResult)==null?void 0:a.title)==null?void 0:o.value)!=null?l:"",i=n.jsx("span",{dangerouslySetInnerHTML:{__html:r}});return t.length?n.jsxs(n.Fragment,{children:[i,", ",t.join(", ")]}):i}render(){var i;const{hit:s}=this.props,{slug:t,title:r}=this;return n.jsxs("li",{className:"ChartResult",children:[n.jsx("a",{href:`${Gn}/${t}`,onClick:()=>{this.props.queryId&&Si({index:"charts",objectIDs:[s.objectID],positions:[this.props.index+1],queryID:this.props.queryId})},children:r}),s.variantName?n.jsxs("span",{className:"variantName",children:[" ",s.variantName]}):void 0,((i=s._snippetResult)==null?void 0:i.subtitle)&&n.jsx("p",{dangerouslySetInnerHTML:{__html:s._snippetResult.subtitle.value}})]})}}gt([le],Fs.prototype,"entities",1);gt([le],Fs.prototype,"slug",1);gt([le],Fs.prototype,"title",1);class Ni extends Q.Component{get textToShow(){var o,l,u,c,d,h,p;const{hit:s}=this.props;if(!((u=(l=(o=s._snippetResult)==null?void 0:o.excerpt)==null?void 0:l.value)!=null&&u.length))return((d=(c=s._snippetResult)==null?void 0:c.content)==null?void 0:d.value)||"";const t=[{name:"title",...s._highlightResult.title},{name:"excerpt",...s._snippetResult.excerpt},{name:"content",...s._snippetResult.content}],r=["none","partial","full"],i=t.map(v=>{var w;return{...v,matchLevel:r.indexOf((w=v.matchLevel)!=null?w:"none")}}),a=Ce.maxBy(i,v=>v.matchLevel);return(a==null?void 0:a.name)==="content"?((h=s._snippetResult.content)==null?void 0:h.value)||"":((p=s._snippetResult.excerpt)==null?void 0:p.value)||""}render(){const{hit:s}=this.props,r=["topic","country","article"].includes(s.type);return n.jsxs("li",{children:[n.jsx("a",{href:`/${s.slug}`,dangerouslySetInnerHTML:{__html:s._highlightResult.title.value},onClick:()=>{this.props.queryId&&Si({index:"pages",queryID:this.props.queryId,objectIDs:[s.objectID],positions:[this.props.index+1]})}}),r?n.jsx("span",{className:"variantName",children:Ce.capitalize(s.type)}):void 0,n.jsx("p",{dangerouslySetInnerHTML:{__html:this.textToShow}})]})}}gt([le],Ni.prototype,"textToShow",1);function Ci(e,s){var i,a;const t=[],r=(a=(i=e._highlightResult)==null?void 0:i.availableEntities)!=null?a:[];for(const o of r){const l=o.value.replace(/<\/?strong>/g,"");(o.fullyHighlighted||o.matchedWords.some(c=>c.length>=4)||s.some(c=>c.name===l))&&t.push(l)}return Ce.uniq(t)}let kt=class extends Q.Component{get bestChartHit(){var e;return(e=this.props.results.charts.hits[0])!=null?e:void 0}get bestChartEntities(){const e=this.bestChartHit;return e?Ci(e,this.props.results.countries):[]}get bestChartSlug(){const{bestChartHit:e,bestChartEntities:s}=this;if(e)return s.length?Nr(Ke.fromURL(e.slug).updateQueryParams({tab:"chart"}),s).fullUrl:e.slug}render(){const{results:e}=this.props;return n.jsxs("div",{className:"SearchResults",children:[n.jsxs("div",{className:"container",children:[n.jsxs("div",{className:"postResults",children:[n.jsx("h2",{children:"Pages"}),!e.pages.hits.length&&n.jsx("p",{children:"No matching pages."}),n.jsx("ul",{children:e.pages.hits.map((s,t)=>n.jsx(Ni,{hit:s,queryId:e.pages.queryID,index:t},s.objectID))})]}),n.jsxs("div",{className:"chartResults",children:[n.jsx("h2",{children:"Charts"}),!e.charts.hits.length&&n.jsx("p",{children:"No matching charts."}),this.bestChartSlug&&n.jsx(dt,{src:`${Gn}/${this.bestChartSlug}`}),n.jsx("ul",{children:e.charts.hits.map((s,t)=>n.jsx(Fs,{hit:s,queryCountries:e.countries,index:t,queryId:e.charts.queryID},s.chartId))})]})]}),n.jsx("div",{className:"algoliaCredit",children:n.jsxs("a",{href:"https://algolia.com",children:["Search powered by",n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2196.2 500",children:[n.jsx("defs",{children:n.jsx("style",{children:".cls-1,.cls-2{fill:#003dff;}.cls-2{fill-rule:evenodd;}"})}),n.jsx("path",{className:"cls-2",d:"M1070.38,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z"}),n.jsx("rect",{className:"cls-1",x:"1845.88",y:"104.73",width:"62.58",height:"277.9",rx:"5.9",ry:"5.9"}),n.jsx("path",{className:"cls-2",d:"M1851.78,71.38h50.77c3.26,0,5.9-2.64,5.9-5.9V5.9c0-3.62-3.24-6.39-6.82-5.83l-50.77,7.95c-2.87,.45-4.99,2.92-4.99,5.83v51.62c0,3.26,2.64,5.9,5.9,5.9Z"}),n.jsx("path",{className:"cls-2",d:"M1764.03,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z"}),n.jsx("path",{className:"cls-2",d:"M1631.95,142.72c-11.14-12.25-24.83-21.65-40.78-28.31-15.92-6.53-33.26-9.85-52.07-9.85-18.78,0-36.15,3.17-51.92,9.85-15.59,6.66-29.29,16.05-40.76,28.31-11.47,12.23-20.38,26.87-26.76,44.03-6.38,17.17-9.24,37.37-9.24,58.36,0,20.99,3.19,36.87,9.55,54.21,6.38,17.32,15.14,32.11,26.45,44.36,11.29,12.23,24.83,21.62,40.6,28.46,15.77,6.83,40.12,10.33,52.4,10.48,12.25,0,36.78-3.82,52.7-10.48,15.92-6.68,29.46-16.23,40.78-28.46,11.29-12.25,20.05-27.04,26.25-44.36,6.22-17.34,9.24-33.22,9.24-54.21,0-20.99-3.34-41.19-10.03-58.36-6.38-17.17-15.14-31.8-26.43-44.03Zm-44.43,163.75c-11.47,15.75-27.56,23.7-48.09,23.7-20.55,0-36.63-7.8-48.1-23.7-11.47-15.75-17.21-34.01-17.21-61.2,0-26.89,5.59-49.14,17.06-64.87,11.45-15.75,27.54-23.52,48.07-23.52,20.55,0,36.63,7.78,48.09,23.52,11.47,15.57,17.36,37.98,17.36,64.87,0,27.19-5.72,45.3-17.19,61.2Z"}),n.jsx("path",{className:"cls-2",d:"M894.42,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z"}),n.jsx("path",{className:"cls-2",d:"M2133.97,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z"}),n.jsx("path",{className:"cls-2",d:"M1314.05,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-11.79,18.34-19.6,39.64-22.11,62.59-.58,5.3-.88,10.68-.88,16.14s.31,11.15,.93,16.59c4.28,38.09,23.14,71.61,50.66,94.52,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47h0c17.99,0,34.61-5.93,48.16-15.97,16.29-11.58,28.88-28.54,34.48-47.75v50.26h-.11v11.08c0,21.84-5.71,38.27-17.34,49.36-11.61,11.08-31.04,16.63-58.25,16.63-11.12,0-28.79-.59-46.6-2.41-2.83-.29-5.46,1.5-6.27,4.22l-12.78,43.11c-1.02,3.46,1.27,7.02,4.83,7.53,21.52,3.08,42.52,4.68,54.65,4.68,48.91,0,85.16-10.75,108.89-32.21,21.48-19.41,33.15-48.89,35.2-88.52V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,64.1s.65,139.13,0,143.36c-12.08,9.77-27.11,13.59-43.49,14.7-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-1.32,0-2.63-.03-3.94-.1-40.41-2.11-74.52-37.26-74.52-79.38,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33Z"}),n.jsx("path",{className:"cls-1",d:"M249.83,0C113.3,0,2,110.09,.03,246.16c-2,138.19,110.12,252.7,248.33,253.5,42.68,.25,83.79-10.19,120.3-30.03,3.56-1.93,4.11-6.83,1.08-9.51l-23.38-20.72c-4.75-4.21-11.51-5.4-17.36-2.92-25.48,10.84-53.17,16.38-81.71,16.03-111.68-1.37-201.91-94.29-200.13-205.96,1.76-110.26,92-199.41,202.67-199.41h202.69V407.41l-115-102.18c-3.72-3.31-9.42-2.66-12.42,1.31-18.46,24.44-48.53,39.64-81.93,37.34-46.33-3.2-83.87-40.5-87.34-86.81-4.15-55.24,39.63-101.52,94-101.52,49.18,0,89.68,37.85,93.91,85.95,.38,4.28,2.31,8.27,5.52,11.12l29.95,26.55c3.4,3.01,8.79,1.17,9.63-3.3,2.16-11.55,2.92-23.58,2.07-35.92-4.82-70.34-61.8-126.93-132.17-131.26-80.68-4.97-148.13,58.14-150.27,137.25-2.09,77.1,61.08,143.56,138.19,145.26,32.19,.71,62.03-9.41,86.14-26.95l150.26,133.2c6.44,5.71,16.61,1.14,16.61-7.47V9.48C499.66,4.25,495.42,0,490.18,0H249.83Z"})]})]})})]})}};gt([le],kt.prototype,"bestChartHit",1);gt([le],kt.prototype,"bestChartEntities",1);gt([le],kt.prototype,"bestChartSlug",1);kt=gt([Ot],kt);var Ml=Object.defineProperty,Fl=Object.getOwnPropertyDescriptor,vs=(e,s,t,r)=>{for(var i=r>1?void 0:r?Fl(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&Ml(s,t,i),i};let Pt=class extends Q.Component{constructor(){super(...arguments),this.query=ka().q||""}async runSearch(e){const s=await ji(e);this.lastQuery===e&&jr(()=>this.results=s)}onSearch(e){this.lastQuery=e,e?this.runSearch(e):this.results=void 0}componentDidMount(){const e=document.querySelector(".SearchPage > main > form input");e.value=this.query,e.focus(),this.onSearch(this.query)}onSearchInput(e){this.query=e.currentTarget.value}render(){return n.jsx(Q.Fragment,{children:this.results&&n.jsx(kt,{results:this.results})})}};vs([ue],Pt.prototype,"query",2);vs([ue.ref],Pt.prototype,"results",2);vs([ce.bound],Pt.prototype,"onSearch",1);vs([ce.bound],Pt.prototype,"onSearchInput",1);Pt=vs([Ot],Pt);function Hl(){de.render(n.jsx(Pt,{}),document.querySelector(".searchResults"))}const $l=new Rt;function ql(){const e=window.location.pathname.split("/"),s=document.getElementById("search_q");s&&e.length&&(s.value=decodeURIComponent(e[e.length-1]).replace(/[\-_\+|]/g," ")),$l.logPageNotFoundError(window.location.href)}var Bl=Object.defineProperty,Ul=Object.getOwnPropertyDescriptor,xe=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ul(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&Bl(s,t,i),i};const Yl=async e=>{const s={...Aa(e),environment:`Current URL: ${window.location.href}
User Agent: ${navigator.userAgent}
Viewport: ${window.innerWidth}x${window.innerHeight}`};return await fetch("https://owid-feedback.netlify.app/.netlify/functions/hello",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(s)}).then(t=>{if(!t.ok)throw new Error(`Sending feedback failed: ${t.status} ${t.statusText}`)})};class ys{constructor(){this.name="",this.email="",this.message="",this.environment=""}clear(){this.name="",this.email="",this.message=""}}xe([ue],ys.prototype,"name",2);xe([ue],ys.prototype,"email",2);xe([ue],ys.prototype,"message",2);xe([ce.bound],ys.prototype,"clear",1);const Wl=/vaccination|vaccine|doses|vaccinat/i,zl=/license|licensing|copyright|permission|permit/i,Vl=/cite|citation|citing|reference/i,Xl=/translat/i,Kl=[{regex:Wl,topic:0},{regex:zl,topic:1},{regex:Vl,topic:2},{regex:Xl,topic:3}],Ql=n.jsx("a",{href:`${be}/covid-vaccinations#frequently-asked-questions`,target:"_blank",rel:"noreferrer",children:"Covid Vaccines Questions"},"vaccineNotice"),Gl=n.jsx("a",{href:`${be}/faqs#how-is-your-work-copyrighted`,target:"_blank",rel:"noreferrer",children:"Copyright Queries"},"copyrightNotice"),Zl=n.jsx("a",{href:`${be}/faqs#how-should-i-cite-your-work`,target:"_blank",rel:"noreferrer",children:"How to Cite our Work"},"citationNotice"),Jl=n.jsx("a",{href:`${be}/faqs#can-i-translate-your-work-into-another-language`,target:"_blank",rel:"noreferrer",children:"Translating our work"},"translateNotice"),ec=new Map([[0,Ql],[2,Zl],[1,Gl],[3,Jl]]);let Fe=class extends Q.Component{constructor(){super(...arguments),this.feedback=new ys,this.loading=!1,this.done=!1}async submit(){try{await Yl(this.feedback),this.feedback.clear(),this.done=!0}catch(e){this.error=Zn(e)}finally{this.loading=!1}}onSubmit(e){e.preventDefault(),this.done=!1,this.error=void 0,this.loading=!0,this.submit()}onName(e){this.feedback.name=e.currentTarget.value}onEmail(e){this.feedback.email=e.currentTarget.value}onMessage(e){this.feedback.message=e.currentTarget.value}onClose(){this.props.onClose&&this.props.onClose(),this.done=!1}get specialTopic(){var s;const{message:e}=this.feedback;return(s=Kl.find(t=>t.regex.test(e)))==null?void 0:s.topic}renderBody(){var a;const{loading:e,done:s,specialTopic:t}=this,r=(a=this.props.autofocus)!=null?a:!0;if(s)return n.jsxs("div",{className:"doneMessage",children:[n.jsx("div",{className:"icon",children:n.jsx(Y.FontAwesomeIcon,{icon:Pa})}),n.jsxs("div",{className:"message",children:[n.jsx("h3",{children:"Thank you for your feedback"}),n.jsx("p",{children:"We read all feedback, but due to a high volume of messages we are not able to reply to all."})]}),n.jsx("div",{className:"actions",children:n.jsx("button",{onClick:this.onClose,children:"Close"})})]});const i=t?ec.get(t):void 0;return n.jsxs(Q.Fragment,{children:[n.jsx("div",{className:"header",children:"Leave us feedback"}),n.jsx("div",{className:"notice",children:n.jsxs("p",{children:[n.jsx("strong",{children:"Have a question?"})," You may find an answer in:",n.jsx("br",{}),n.jsx("a",{href:`${be}/faqs`,target:"_blank",rel:"noreferrer",children:n.jsx("strong",{children:"General FAQ"})})," ","or"," ",n.jsx("a",{href:`${be}/covid-vaccinations#frequently-asked-questions`,target:"_blank",rel:"noreferrer",children:n.jsx("strong",{children:"Vaccinations FAQ"})})]})}),n.jsxs("div",{className:"formBody",children:[n.jsxs("div",{className:"formSection formSectionExpand",children:[n.jsx("label",{htmlFor:"feedback.message",children:"Message"}),n.jsx("textarea",{id:"feedback.message",onChange:this.onMessage,rows:5,minLength:30,required:!0,disabled:e}),i?n.jsxs("div",{className:"topic-notice",children:["Your question may be answered in"," ",n.jsx("strong",{children:i}),"."]}):null]}),n.jsxs("div",{className:"formSection",children:[n.jsx("label",{htmlFor:"feedback.name",children:"Your name"}),n.jsx("input",{id:"feedback.name",onChange:this.onName,autoFocus:r,disabled:e})]}),n.jsxs("div",{className:"formSection",children:[n.jsx("label",{htmlFor:"feedback.email",children:"Email address"}),n.jsx("input",{id:"feedback.email",onChange:this.onEmail,type:"email",required:!0,disabled:e})]}),this.error?n.jsx("div",{style:{color:"red"},children:this.error}):void 0,this.done?n.jsx("div",{style:{color:"green"},children:"Thanks for your feedback!"}):void 0]}),n.jsx("div",{className:"footer",children:n.jsx("button",{type:"submit",disabled:e,children:"Send message"})})]})}render(){return n.jsx("form",{className:F("FeedbackForm",{loading:this.loading}),onSubmit:this.onSubmit,children:this.renderBody()})}};xe([ue],Fe.prototype,"loading",2);xe([ue],Fe.prototype,"done",2);xe([ue],Fe.prototype,"error",2);xe([ce.bound],Fe.prototype,"onSubmit",1);xe([ce.bound],Fe.prototype,"onName",1);xe([ce.bound],Fe.prototype,"onEmail",1);xe([ce.bound],Fe.prototype,"onMessage",1);xe([ce.bound],Fe.prototype,"onClose",1);xe([le],Fe.prototype,"specialTopic",1);Fe=xe([Ot],Fe);let Et=class extends Q.Component{constructor(){super(...arguments),this.isOpen=!1}toggleOpen(){this.isOpen=!this.isOpen}onClose(){this.isOpen=!1}onClickOutside(){this.onClose()}render(){return n.jsxs("div",{className:`feedbackPromptContainer${this.isOpen?" active":""}`,children:[n.jsxs("div",{style:{display:this.isOpen?"block":"none"},children:[n.jsx("div",{className:"overlay",onClick:this.onClickOutside}),n.jsx("div",{className:"box",children:n.jsx(Fe,{onClose:this.onClose})})]}),this.isOpen?n.jsxs("button",{className:"prompt",onClick:this.toggleOpen,children:[n.jsx(Y.FontAwesomeIcon,{icon:Jn})," Close"]}):n.jsxs("button",{className:"prompt","data-track-note":"page_open_feedback",onClick:this.toggleOpen,children:[n.jsx(Y.FontAwesomeIcon,{icon:Ea})," Feedback"]})]})}};xe([ue],Et.prototype,"isOpen",2);xe([ce.bound],Et.prototype,"toggleOpen",1);xe([ce.bound],Et.prototype,"onClose",1);xe([ce.bound],Et.prototype,"onClickOutside",1);Et=xe([Ot],Et);function tc(){de.render(n.jsx("div",{className:"box",children:n.jsx(Fe,{})}),document.querySelector(".FeedbackPage main"))}var _i={exports:{}};(function(e,s){(function(t,r){e.exports=r(x)})(wr,function(t){return function(r){function i(o){if(a[o])return a[o].exports;var l=a[o]={exports:{},id:o,loaded:!1};return r[o].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}var a={};return i.m=r,i.c=a,i.p="",i(0)}([function(r,i,a){function o(W){return W&&W.__esModule?W:{default:W}}function l(W,S){if(!(W instanceof S))throw new TypeError("Cannot call a class as a function")}function u(W,S){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?W:S}function c(W,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);W.prototype=Object.create(S&&S.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(W,S):W.__proto__=S)}Object.defineProperty(i,"__esModule",{value:!0});var d=function(){function W(S,V){for(var H=0;H<V.length;H++){var z=V[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(S,z.key,z)}}return function(S,V,H){return V&&W(S.prototype,V),H&&W(S,H),S}}(),h=a(6),p=o(h),v=a(4),w=o(v),_={className:w.default.string,onloadCallbackName:w.default.string,elementID:w.default.string,onloadCallback:w.default.func,verifyCallback:w.default.func,expiredCallback:w.default.func,render:w.default.oneOf(["onload","explicit"]),sitekey:w.default.string,theme:w.default.oneOf(["light","dark"]),type:w.default.string,verifyCallbackName:w.default.string,expiredCallbackName:w.default.string,size:w.default.oneOf(["invisible","compact","normal"]),tabindex:w.default.string,hl:w.default.string,badge:w.default.oneOf(["bottomright","bottomleft","inline"])},P={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},B=function(){return typeof window<"u"&&typeof window.grecaptcha<"u"&&typeof window.grecaptcha.render=="function"},G=void 0,U=function(W){function S(V){l(this,S);var H=u(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,V));return H._renderGrecaptcha=H._renderGrecaptcha.bind(H),H.reset=H.reset.bind(H),H.state={ready:B(),widget:null},H.state.ready||typeof window>"u"||(G=setInterval(H._updateReadyState.bind(H),1e3)),H}return c(S,W),d(S,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(V,H){var z=this.props,Pe=z.render,Ee=z.onloadCallback;Pe==="explicit"&&Ee&&this.state.ready&&!H.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(G)}},{key:"reset",value:function(){var V=this.state,H=V.ready,z=V.widget;H&&z!==null&&grecaptcha.reset(z)}},{key:"execute",value:function(){var V=this.state,H=V.ready,z=V.widget;H&&z!==null&&grecaptcha.execute(z)}},{key:"_updateReadyState",value:function(){B()&&(this.setState({ready:!0}),clearInterval(G))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return this.props.render==="explicit"&&this.props.onloadCallback?p.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):p.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),S}(h.Component);i.default=U,U.propTypes=_,U.defaultProps=P,r.exports=i.default},function(r,i){function a(l){return function(){return l}}var o=function(){};o.thatReturns=a,o.thatReturnsFalse=a(!1),o.thatReturnsTrue=a(!0),o.thatReturnsNull=a(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(l){return l},r.exports=o},function(r,i,a){function o(l,u,c,d,h,p,v,w){if(!l){var _;if(u===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var P=[c,d,h,p,v,w],B=0;_=new Error(u.replace(/%s/g,function(){return P[B++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}}r.exports=o},function(r,i,a){var o=a(1),l=a(2),u=a(5);r.exports=function(){function c(p,v,w,_,P,B){B!==u&&l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function d(){return c}c.isRequired=c;var h={array:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d};return h.checkPropTypes=o,h.PropTypes=h,h}},function(r,i,a){r.exports=a(3)()},function(r,i){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";r.exports=a},function(r,i){r.exports=t}])})})(_i);var sc=_i.exports;const rc=fs(sc),nn=window.Stripe,Ss=nn?nn(Oa):void 0;var nc=Object.defineProperty,ic=Object.getOwnPropertyDescriptor,ae=(e,s,t,r)=>{for(var i=r>1?void 0:r?ic(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&nc(s,t,i),i};const ac={USD:"$",GBP:"£",EUR:"€"},an=[10,50,100,500,1e3],oc=[5,10,20,50,100],on=1,lc=1,cc=1,uc=1e4,dc=["USD","GBP","EUR"];let re=class extends Q.Component{constructor(){super(...arguments),this.interval="once",this.presetAmount=an[on],this.customAmount="",this.isCustom=!1,this.name="",this.showOnList=!0,this.isSubmitting=!1,this.isLoading=!0,this.currencyCode="USD"}setInterval(e){this.interval=e,this.presetAmount=this.intervalAmounts[e==="monthly"?lc:on]}setPresetAmount(e){this.presetAmount=e,this.isCustom=!1}setCustomAmount(e){this.customAmount=e,this.isCustom=!0}setIsCustom(e){this.isCustom=e}setName(e){this.name=e}setShowOnList(e){this.showOnList=e}setErrorMessage(e){this.errorMessage=e}setCurrency(e){this.currencyCode=e}get amount(){return this.isCustom?parseFloat(this.customAmount||""):this.presetAmount}get intervalAmounts(){return this.interval==="monthly"?oc:an}get currencySymbol(){return ac[this.currencyCode]}async submitDonation(){if(!this.amount||this.amount>uc||this.amount<cc)throw new Error("You can only donate between $1 and $10,000 USD. For other amounts, please get in touch with us at donate@ourworldindata.org.");const e=await this.getCaptchaToken(),s=await fetch(Ra,{method:"POST",credentials:"same-origin",headers:{Accept:"application/json"},body:JSON.stringify({name:this.name,showOnList:this.showOnList,currency:this.currencyCode,amount:Math.floor(this.amount*100),interval:this.interval,successUrl:`${be}/donate/thank-you`,cancelUrl:`${be}/donate`,captchaToken:e})}),t=await s.json();if(!s.ok)throw t;if(!Ss)throw new Error("Could not connect to Stripe, our payment provider.");const r=await(Ss==null?void 0:Ss.redirectToCheckout({sessionId:t.id}));if(r.error)throw r.error}async getCaptchaToken(){return new Promise((e,s)=>{if(!this.captchaInstance)return s(new Error("Could not load reCAPTCHA. Please try again. If the problem persists, please get in touch with us at donate@ourworldindata.org"));this.captchaPromiseHandlers={resolve:e,reject:s},this.captchaInstance.reset(),this.captchaInstance.execute()})}onCaptchaLoad(){this.isLoading=!1}onCaptchaVerify(e){this.captchaPromiseHandlers&&this.captchaPromiseHandlers.resolve(e)}async onSubmit(e){e.preventDefault(),this.isSubmitting=!0,this.errorMessage=void 0;try{await this.submitDonation()}catch(s){this.isSubmitting=!1,jr(()=>this.errorMessage=Zn(s)||"Something went wrong. Please get in touch with us at donate@ourworldindata.org")}}render(){return n.jsxs("form",{className:"donate-form",onSubmit:this.onSubmit,children:[n.jsxs("fieldset",{className:"donate-form-interval",children:[n.jsx("legend",{children:n.jsx("h3",{children:"Donation type"})}),n.jsxs("div",{className:"owid-radios",children:[n.jsxs("div",{className:"owid-radio",children:[n.jsx("input",{type:"radio",id:"once",value:"once",name:"interval",onChange:()=>this.setInterval("once"),checked:this.interval==="once"}),n.jsx("label",{htmlFor:"once",children:"One time"})]}),n.jsxs("div",{className:"owid-radio",children:[n.jsx("input",{type:"radio",id:"monthly",value:"monthly",name:"interval",onChange:()=>this.setInterval("monthly"),checked:this.interval==="monthly"}),n.jsx("label",{htmlFor:"monthly",children:"Monthly"})]})]})]}),n.jsxs("fieldset",{className:"donate-form-currency",children:[n.jsx("legend",{children:n.jsx("h3",{children:"Currency"})}),n.jsx("div",{className:"owid-radios",children:dc.map(e=>n.jsxs("div",{className:"owid-radio",children:[n.jsx("input",{type:"radio",id:e,value:e,name:"currency",onChange:()=>this.setCurrency(e),checked:this.currencyCode===e}),n.jsx("label",{htmlFor:e,children:e})]},e))})]}),n.jsxs("fieldset",{className:"donate-form-amount",children:[n.jsx("legend",{children:n.jsx("h3",{children:"Amount"})}),n.jsxs("div",{className:"radios",children:[this.intervalAmounts.map(e=>n.jsxs("div",{className:"owid-radio",children:[n.jsx("input",{type:"radio",id:`amount-${e}`,value:e,name:"amount",onChange:()=>this.setPresetAmount(e),checked:e===this.presetAmount&&!this.isCustom}),n.jsxs("label",{htmlFor:`amount-${e}`,children:[this.currencySymbol,e]})]},e)),n.jsxs("div",{className:"owid-radio custom-radio",children:[n.jsx("input",{type:"radio",id:"custom",name:"amount",checked:this.isCustom,onChange:e=>this.setIsCustom(e.target.checked)}),n.jsxs("label",{htmlFor:"custom",children:[this.currencySymbol,n.jsx("input",{type:"text",placeholder:"Other",name:"custom-amount",className:"custom-amount-input",onChange:e=>this.setCustomAmount(e.target.value),value:this.customAmount})]})]})]})]}),n.jsx("fieldset",{children:n.jsxs("div",{className:"owid-block-field",children:[n.jsx("label",{htmlFor:"name",children:n.jsx("h3",{children:"Your name (optional)"})}),n.jsx("input",{id:"name",type:"text",className:"owid-input",value:this.name,onChange:e=>this.setName(e.target.value)})]})}),n.jsx("fieldset",{children:n.jsx("div",{className:"owid-checkboxes",children:n.jsxs("div",{className:"owid-checkbox-inline",children:[n.jsx("input",{type:"checkbox",id:"showOnList",value:"showOnList",name:"type",checked:this.showOnList,onChange:e=>this.setShowOnList(e.target.checked)}),n.jsxs("label",{htmlFor:"showOnList",children:["Include me on the public"," ",n.jsx("a",{href:"/funding",target:"_blank",children:"list of donors"})]})]})})}),this.errorMessage&&n.jsx("p",{className:"error",children:this.errorMessage}),n.jsx(rc,{ref:e=>this.captchaInstance=e,sitekey:Ia,size:"invisible",badge:"bottomleft",render:"explicit",onloadCallback:this.onCaptchaLoad,verifyCallback:this.onCaptchaVerify}),n.jsxs("button",{type:"submit",className:F("owid-button",{disabled:this.isSubmitting}),disabled:this.isLoading,children:["Donate"," ",this.amount?`${this.currencySymbol}${this.amount}`:""," ",this.interval==="monthly"?"per month":""]}),n.jsx("p",{className:"note",children:"You will be redirected to a secure page to enter your payment details. We will not share any details you enter with any third parties."}),n.jsxs("p",{className:"note",children:["This site is protected by reCAPTCHA and the Google"," ",n.jsx("a",{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," ","and"," ",n.jsx("a",{href:"https://policies.google.com/terms",children:"Terms of Service"})," ","apply."]})]})}};ae([ue],re.prototype,"interval",2);ae([ue],re.prototype,"presetAmount",2);ae([ue],re.prototype,"customAmount",2);ae([ue],re.prototype,"isCustom",2);ae([ue],re.prototype,"name",2);ae([ue],re.prototype,"showOnList",2);ae([ue],re.prototype,"errorMessage",2);ae([ue],re.prototype,"isSubmitting",2);ae([ue],re.prototype,"isLoading",2);ae([ue],re.prototype,"currencyCode",2);ae([ue.ref],re.prototype,"captchaPromiseHandlers",2);ae([ce.bound],re.prototype,"setInterval",1);ae([ce.bound],re.prototype,"setPresetAmount",1);ae([ce.bound],re.prototype,"setCustomAmount",1);ae([ce.bound],re.prototype,"setIsCustom",1);ae([ce.bound],re.prototype,"setName",1);ae([ce.bound],re.prototype,"setShowOnList",1);ae([ce.bound],re.prototype,"setErrorMessage",1);ae([ce.bound],re.prototype,"setCurrency",1);ae([le],re.prototype,"amount",1);ae([le],re.prototype,"intervalAmounts",1);ae([le],re.prototype,"currencySymbol",1);ae([Is.bind],re.prototype,"getCaptchaToken",1);ae([Is.bind],re.prototype,"onCaptchaLoad",1);ae([Is.bind],re.prototype,"onCaptchaVerify",1);ae([Is.bind],re.prototype,"onSubmit",1);re=ae([Ot],re);class hc{async run(){de.render(n.jsx(re,{}),document.querySelector(".donate-form-container"))}}function pc(){new hc().run()}var mc=Object.defineProperty,fc=Object.getOwnPropertyDescriptor,Dt=(e,s,t,r)=>{for(var i=r>1?void 0:r?fc(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&mc(s,t,i),i};function gc(e){return encodeURIComponent(e.replace(/ /g,"-"))}function vc(e){return decodeURIComponent(e).replace(/-/g," ")}class vt{constructor(){this.chartItems=[],this.chartItemsByTitle={},this.results=[],this.sections=[],this.query="",this.analytics=new Rt,this.searchInput=document.querySelector(".chartsSearchInput"),this.sections=Array.from(document.querySelectorAll(".CountryProfilePage main section"));const s=Array.from(document.querySelectorAll(".CountryProfilePage main li"));this.chartItems=s.map(t=>{var r,i,a;return{title:(a=(i=(r=t.querySelector(".indicatorName > a"))==null?void 0:r.textContent)==null?void 0:i.replace(/₂/g,"2"))!=null?a:"",li:t,ul:t.closest("ul")}}),this.chartItemsByTitle=Ce.keyBy(this.chartItems,"title"),this.strings=this.chartItems.map(t=>Qt.prepare(t.title))}get searchStrings(){return this.chartItems.map(s=>Qt.prepare(s.title))}get searchResults(){return Qt.go(this.query,this.searchStrings,{threshold:-150})}get resultsByTitle(){return Ce.keyBy(this.searchResults,"target")}logSearchQuery(){this.analytics.logChartsPageSearchQuery(this.query)}onSearchInput(){this.query=this.searchInput.value,this.timeout!==void 0&&clearTimeout(this.timeout),this.timeout=setTimeout(this.logSearchQuery,500)}render(){var s;if(history.replaceState(null,document.title,window.location.pathname+(this.query?`#search=${gc(this.query)}`:"")),!this.query){for(const t of this.sections)t.style.display="";for(const t of this.chartItems)t.ul.append(t.li),t.li.style.display="",t.li.children[0].children[0].innerHTML=t.title;return}for(const t of this.chartItems){const r=this.resultsByTitle[t.title];r?(t.li.style.display="",t.li.children[0].children[0].innerHTML=(s=Un(r))!=null?s:""):t.li.style.display="none"}for(const t of this.sections)Array.from(t.querySelectorAll("li")).some(r=>r.style.display!=="none")?t.style.display="":t.style.display="none"}run(){this.searchInput.addEventListener("input",this.onSearchInput),xr(()=>this.render());const s=window.location.hash.match(/search=(.+)/);s&&(this.searchInput.value=vc(s[1])),this.query=this.searchInput.value}}Dt([ue],vt.prototype,"query",2);Dt([le],vt.prototype,"searchStrings",1);Dt([le],vt.prototype,"searchResults",1);Dt([le],vt.prototype,"resultsByTitle",1);Dt([ce.bound],vt.prototype,"logSearchQuery",1);Dt([ce.bound],vt.prototype,"onSearchInput",1);Dt([ce.bound],vt.prototype,"run",1);function yc(){new vt().run()}const Ti="toc-wrapper",ln=e=>e.rootBounds&&e.boundingClientRect.top<e.rootBounds.height/2,bc=(e,s)=>{var t;return(t=s.find(r=>r.slug===(e==null?void 0:e.target.id)))==null?void 0:t.previous},xc=({headings:e,pageTitle:s,hideSubheadings:t})=>{const[r,i]=x.useState(!1),[a,o]=x.useState(""),l=x.useRef(null),u=()=>{i(!r)};return La(l,r,i),x.useEffect(()=>{if("IntersectionObserver"in window){const c=e.map((w,_)=>({slug:w.slug,previous:_>0?e[_-1].slug:null}));let d,h=!0;const p=new IntersectionObserver(w=>{let _;d=w.find(P=>P.isIntersecting&&P.intersectionRatio!==1&&ln(P)),d?o(d.target.id):(_=w.find(P=>ln(P)&&P.intersectionRatio===1),_?o(bc(_,c)||""):h&&(d=w.reverse().find(P=>P.boundingClientRect.top<0),o((d==null?void 0:d.target.id)||""))),h=!1},{rootMargin:"-10px",threshold:new Array(11).fill(0).map((w,_)=>_/10)});let v=null;t?v=document.querySelectorAll("h2"):v=document.querySelectorAll("h2, h3"),v.forEach(w=>{p.observe(w)})}},[e,t]),n.jsx("div",{className:Ti,children:n.jsxs("aside",{className:F("entry-sidebar",{"entry-sidebar--is-open":r}),ref:l,children:[n.jsx("nav",{className:"entry-toc",children:n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx("a",{onClick:()=>{u(),o("")},href:"#","data-track-note":"toc_header",children:s})}),e.filter(c=>!(t&&c.isSubheading)).map((c,d)=>n.jsx("li",{className:(c.isSubheading?"subsection":"section")+(c.slug===a?" active":""),children:n.jsx("a",{onClick:u,href:`#${c.slug}`,"data-track-note":"toc_link",children:c.text})},d))]})}),n.jsx("div",{className:"toggle-toc",children:n.jsxs("button",{"data-track-note":"page_toggle_toc","aria-label":`${r?"Close":"Open"} table of contents`,onClick:u,children:[n.jsx(Y.FontAwesomeIcon,{icon:r?Jn:ei}),n.jsx("span",{className:"label",children:r?"Close":"Contents"})]})})]})})},wc=e=>{const s=document.querySelector(`.${Ti}`);if(!s)return;const t=Da(s,["sidebar-root"]);de.hydrate(n.jsx(xc,{...e}),t)};var dr=(e=>(e.prev="prev",e.next="next",e))(dr||{});const cn=({disabled:e,onClick:s,direction:t})=>{const r=t==="next"?"horizontal":void 0,i=["gallery-arrow",t];return n.jsx("button",{disabled:e,onClick:s,className:i.join(" "),children:n.jsx(Y.FontAwesomeIcon,{icon:Ma,flip:r})})},jc=({chart:e,onClick:s,isActive:t})=>n.jsxs("li",{className:t?"active":"",children:[n.jsxs("a",{href:`${be}/grapher/${e.slug}`,onClick:s,children:[n.jsx("img",{src:`${ti}/${e.slug}.svg`,loading:"lazy","data-no-lightbox":!0,"data-no-img-formatting":!0,width:si,height:ri}),n.jsx("span",{children:e.title})]}),e.variantName?n.jsx("span",{className:"variantName",children:e.variantName}):null]},e.slug),ki="related-charts",Pr=({charts:e})=>{var c;const s=x.useRef(null),[t,r]=x.useState(0),i=t===0,a=t===e.length-1,o=Ce.orderBy(e,d=>d.isKeyChart,"desc"),l=(c=o[t])==null?void 0:c.slug,u=(d,h)=>{!d.metaKey&&!d.shiftKey&&!d.ctrlKey&&(d.preventDefault(),r(h))};return Ds(t,s),n.jsx("div",{className:ki,children:n.jsxs("div",{className:"grid grid-cols-12",children:[n.jsx("div",{className:"related-charts__thumbnails span-cols-5 span-md-cols-12",children:n.jsx("ul",{className:"related-charts__list",children:o.map((d,h)=>n.jsx(jc,{chart:d,onClick:p=>u(p,h),isActive:h===t},d.slug))})}),n.jsxs("div",{className:"related-charts__chart span-cols-7 span-md-cols-12",ref:s,children:[n.jsx("figure",{"data-grapher-src":`${be}/grapher/${l}`},l),n.jsxs("div",{className:"gallery-navigation",children:[n.jsx(cn,{disabled:i,onClick:()=>r(t-1),direction:dr.prev}),n.jsx("div",{className:"gallery-pagination",children:`Chart ${t+1} of ${e.length}`}),n.jsx(cn,{disabled:a,onClick:()=>r(t+1),direction:dr.next})]})]})]})})},Sc=e=>{const s=document.querySelector(`.${ki}`);if(s){const t=s.parentElement;de.hydrate(n.jsx(Pr,{charts:e}),t)}};var Pi={exports:{}};(function(e,s){(function(t){e.exports=t()})(function(){var t={};function r(){return r=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c},r.apply(this,arguments)}function i(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function a(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,o(c,d)}function o(c,d){return o=Object.setPrototypeOf||function(p,v){return p.__proto__=v,p},o(c,d)}t=function(){function c(){var h=typeof window<"u"&&window.React;if(this.name="react",this.lazy=arguments.length===0&&!h,!this.lazy&&(this.React=(arguments.length<=0?void 0:arguments[0])||h,!this.React))throw new Error("@bugsnag/plugin-react reference to `React` was undefined")}var d=c.prototype;return d.load=function(p){if(!this.lazy){var v=u(this.React,p);return v.createErrorBoundary=function(){return v},v}var w=function(){throw new Error(`@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:
Pass React to the plugin constructor

  \`Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })\`
and then call \`const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()\`

Or if React is not available until after Bugsnag has started,
construct the plugin with no arguments
  \`Bugsnag.start({ plugins: [new BugsnagPluginReact()] })\`,
then pass in React when available to construct your error boundary
  \`const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)\``)};return w.createErrorBoundary=function(_){if(!_)throw new Error("@bugsnag/plugin-react reference to `React` was undefined");return u(_,p)},w},c}();var l=function(c){for(var d=c.split(/\s*\n\s*/g),h="",p=0,v=d.length;p<v;p++)d[p].length&&(h+=(h.length?`
`:"")+d[p]);return h},u=function(c,d){return function(h){a(p,h);function p(w){var _;return _=h.call(this,w)||this,_.state={error:null,info:null},_.handleClearError=_.handleClearError.bind(i(_)),_}var v=p.prototype;return v.handleClearError=function(){this.setState({error:null,info:null})},v.componentDidCatch=function(_,P){var B=this.props.onError,G={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},U=d.Event.create(_,!0,G,1);P&&P.componentStack&&(P.componentStack=l(P.componentStack)),U.addMetadata("react",P),d._notify(U,B),this.setState({error:_,info:P})},v.render=function(){var _=this.state.error;if(_){var P=this.props.FallbackComponent;return P?c.createElement(P,r({},this.state,{clearError:this.handleClearError})):null}return this.props.children},p}(c.Component)};return t.formatComponentStack=l,t.default=t,t})})(Pi);var Nc=Pi.exports;const Cc=fs(Nc),Vt=e=>e===!0||e===!1,ts=e=>!!e&&typeof e=="object"&&!Array.isArray(e),Gt=e=>typeof e=="number"&&Number.isFinite(e)&&!Number.isNaN(e),ms=e=>typeof e=="string",As=e=>ms(e)&&e.length>0,_c=e=>ts(e)&&typeof e.debug=="function"&&typeof e.info=="function"&&typeof e.warn=="function"&&typeof e.error=="function",Tc=e=>Array.isArray(e)&&e.every(As),kc=e=>Array.isArray(e)&&e.every(s=>As(s)||s instanceof RegExp);function Pc(e){return ts(e)&&Gt(e.value)&&Gt(e.time)}const Ei=e=>ts(e)&&typeof e.id=="string"&&typeof e.traceId=="string"&&typeof e.isValid=="function";function Ec(e){return Gt(e)||e instanceof Date}class Ai{constructor(s){this.attributes=s}set(s,t){(typeof t=="string"||typeof t=="boolean"||Gt(t))&&this.attributes.set(s,t)}remove(s){this.attributes.delete(s)}toJson(){return Array.from(this.attributes).map(([s,t])=>Oc(s,t))}}class Ac extends Ai{constructor(s,t,r,i){const a=new Map([["deployment.environment",s],["telemetry.sdk.name",r],["telemetry.sdk.version",i]]);t.length>0&&a.set("service.version",t),super(a)}}function Oc(e,s){switch(typeof s){case"number":return Number.isNaN(s)||!Number.isFinite(s)?void 0:e!=="bugsnag.sampling.p"&&Number.isInteger(s)?{key:e,value:{intValue:`${s}`}}:{key:e,value:{doubleValue:s}};case"boolean":return{key:e,value:{boolValue:s}};case"string":return{key:e,value:{stringValue:s}};default:return}}const Rc=1e6;function Ic(e){return e*Rc}const un={appVersion:{defaultValue:"",message:"should be a string",validate:As},endpoint:{defaultValue:"https://otlp.bugsnag.com/v1/traces",message:"should be a string",validate:ms},apiKey:{defaultValue:"",message:"should be a 32 character hexadecimal string",validate:e=>ms(e)&&/^[a-f0-9]{32}$/.test(e)},logger:{defaultValue:{debug(e){console.debug(e)},info(e){console.info(e)},warn(e){console.warn(e)},error(e){console.error(e)}},message:"should be a Logger object",validate:_c},releaseStage:{defaultValue:"production",message:"should be a string",validate:As},enabledReleaseStages:{defaultValue:null,message:"should be an array of strings",validate:e=>e===null||Tc(e)},samplingProbability:{defaultValue:1,message:"should be a number between 0 and 1",validate:e=>Gt(e)&&e>=0&&e<=1}};function Dc(e,s){if(typeof e=="string"&&(e={apiKey:e}),!ts(e)||!ms(e.apiKey)||e.apiKey.length===0)throw new Error("No Bugsnag API Key set");let t="";const r={};for(const i of Object.keys(s))Object.prototype.hasOwnProperty.call(e,i)?s[i].validate(e[i])?r[i]=e[i]:(t+=`
  - ${i} ${s[i].message}, got ${typeof e[i]}`,r[i]=s[i].defaultValue):r[i]=s[i].defaultValue;return r.apiKey=e.apiKey,r.maximumBatchSize=e.maximumBatchSize||100,r.batchInactivityTimeoutMs=e.batchInactivityTimeoutMs||30*1e3,t.length>0&&r.logger.warn(`Invalid configuration${t}`),r}class Lc{constructor(s,t,r,i,a,o){this.batch=[],this.timeout=null,this.delivery=s,this.configuration=t,this.retryQueue=r,this.sampler=i,this.probabilityManager=a,this.encoder=o,this.flush=this.flush.bind(this)}stop(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(s){this.configuration.enabledReleaseStages&&!this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage)||(this.batch.push(s),this.batch.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop();const s=this.prepareBatch();if(!s)return;const t=await this.encoder.encode(s),r=Date.now();try{const i=await this.delivery.send(t);switch(i.samplingProbability!==void 0&&this.probabilityManager.setProbability(i.samplingProbability),i.state){case"success":this.retryQueue.flush();break;case"failure-discard":this.configuration.logger.warn("delivery failed");break;case"failure-retryable":this.configuration.logger.info("delivery failed, adding to retry queue"),this.retryQueue.add(t,r);break;default:return i.state}}catch{this.configuration.logger.warn("delivery failed")}}prepareBatch(){if(this.batch.length===0)return;const s=[],t=this.sampler.spanProbability;for(const r of this.batch)r.samplingProbability.raw<t.raw&&(r.samplingProbability=t),this.sampler.sample(r)&&s.push(r);if(this.batch=[],s.length!==0)return s}}class Mc{constructor(){this.events=[]}add(s,t){this.events.push({name:s,time:t})}toJson(s){return this.events.map(({name:t,time:r})=>({name:t,timeUnixNano:s.toUnixTimestampNanoseconds(r)}))}}function Fc(e){let s=0;for(let t=0;t<e.length/8;t++){const r=t*8,i=Number.parseInt(e.slice(r,r+8),16);s=(s^i)>>>0}return s}function Hc(e,s){return{name:e.name,kind:e.kind,spanId:e.id,traceId:e.traceId,parentSpanId:e.parentSpanId,startTimeUnixNano:s.toUnixTimestampNanoseconds(e.startTime),endTimeUnixNano:s.toUnixTimestampNanoseconds(e.endTime),attributes:e.attributes.toJson(),events:e.events.toJson(s)}}class $c{constructor(s,t,r,i,a,o){this.kind=3,this.events=new Mc,this.id=s,this.traceId=t,this.parentSpanId=o,this.name=r,this.startTime=i,this.attributes=a,this.samplingRate=Fc(this.traceId)}addEvent(s,t){this.events.add(s,t)}setAttribute(s,t){this.attributes.set(s,t)}end(s,t){this.endTime=s;let r=t;return this.attributes.set("bugsnag.sampling.p",r.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:s,get samplingProbability(){return r},set samplingProbability(i){r=i,this.attributes.set("bugsnag.sampling.p",r.raw)},parentSpanId:this.parentSpanId}}isValid(){return this.endTime===void 0}}const Oi={startTime:{message:"should be a number or Date",getDefaultValue:()=>{},validate:Ec},parentContext:{message:"should be a SpanContext",getDefaultValue:()=>{},validate:e=>e===null||Ei(e)},makeCurrentContext:{message:"should be true|false",getDefaultValue:()=>{},validate:Vt},isFirstClass:{message:"should be true|false",getDefaultValue:()=>{},validate:Vt}};function Ri(e,s,t,r){let i="";const a={};if(typeof e!="string"&&(i+=`
  - name should be a string, got ${typeof e}`,e=String(e)),s!==void 0&&!ts(s))i+=`
  - options is not an object`;else{const o=s||{};for(const l of Object.keys(t))Object.prototype.hasOwnProperty.call(o,l)&&o[l]!==void 0?t[l].validate(o[l])?a[l]=o[l]:(i+=`
  - ${l} ${t[l].message}, got ${typeof o[l]}`,a[l]=t[l].getDefaultValue(o[l])):a[l]=t[l].getDefaultValue(o[l])}return i.length>0&&r.warn(`Invalid span options${i}`),{name:e,options:a}}class qc{constructor(s,t,r){this.clock=s,this.configuration=t,this.resourceAttributeSource=r}async encode(s){const t=await this.resourceAttributeSource(this.configuration),r=Array(s.length);for(let a=0;a<s.length;++a)r[a]=Hc(s[a],this.clock);return{body:{resourceSpans:[{resource:{attributes:t.toJson()},scopeSpans:[{spans:r}]}]},headers:{"Bugsnag-Api-Key":this.configuration.apiKey,"Content-Type":"application/json","Bugsnag-Span-Sampling":this.generateSamplingHeader(s)}}}generateSamplingHeader(s){if(s.length===0)return"1:0";const t=Object.create(null);for(const a of s){const o=t[a.samplingProbability.raw]||0;t[a.samplingProbability.raw]=o+1}const r=Object.keys(t),i=Array(r.length);for(let a=0;a<r.length;++a){const o=r[a];i[a]=`${o}:${t[o]}`}return i.join(";")}}const Bc=new Set([402,407,408,429]);function Uc(e){return e>=200&&e<300?"success":e>=400&&e<500&&!Bc.has(e)?"failure-discard":"failure-retryable"}const Yc=30*1e3;class Wc{constructor(s,t){this.delivery=s,this.payload={body:{resourceSpans:[]},headers:{"Bugsnag-Api-Key":t,"Content-Type":"application/json","Bugsnag-Span-Sampling":"1.0:0"}}}async getNewProbability(){for(;;){const s=await this.delivery.send(this.payload);if(s.samplingProbability!==void 0)return s.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise(s=>{setTimeout(s,Yc)})}}const Qs=24*60*60*1e3;class Er{static async create(s,t,r){const i=await s.load("bugsnag-sampling-probability");let a,o;return i===void 0?(t.probability=1,a=0,o=0):i.time<Date.now()-Qs?(t.probability=i.value,a=i.time,o=0):(t.probability=i.value,a=i.time,o=Qs-(Date.now()-a)),new Er(s,t,r,o,a)}constructor(s,t,r,i,a){this.timeout=void 0,this.persistence=s,this.sampler=t,this.probabilityFetcher=r,this.lastProbabilityTime=a,this.fetchNewProbabilityIn(i)}setProbability(s){return this.lastProbabilityTime=Date.now(),this.sampler.probability=s,this.fetchNewProbabilityIn(Qs),this.persistence.save("bugsnag-sampling-probability",{value:s,time:this.lastProbabilityTime})}fetchNewProbabilityIn(s){clearTimeout(this.timeout);const t=this.lastProbabilityTime;this.timeout=setTimeout(async()=>{const r=await this.probabilityFetcher.getNewProbability();t===this.lastProbabilityTime&&this.setProbability(r)},s)}}class zc{constructor(){this.spans=[]}add(s){this.spans.push(s)}}const Vc=24*60*6e4;class Xc{constructor(s,t){this.delivery=s,this.retryQueueMaxSize=t,this.requestQueue=Promise.resolve(),this.payloads=[]}add(s,t){this.payloads.push({payload:s,time:t});let r=this.payloads.reduce((i,{payload:a})=>i+dn(a),0);for(;r>this.retryQueueMaxSize;){const i=this.payloads.shift();if(!i)break;r-=dn(i.payload)}}async flush(){if(this.payloads.length===0)return;const s=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then(async()=>{for(const{payload:t,time:r}of s)if(!(Date.now()>=r+Vc))try{const{state:i}=await this.delivery.send(t);switch(i){case"success":case"failure-discard":break;case"failure-retryable":this.add(t,r);break;default:return i}}catch{}}),await this.requestQueue}}function dn(e){let s=0;for(let t=0;t<e.body.resourceSpans.length;++t){const r=e.body.resourceSpans[t].scopeSpans;for(let i=0;i<r.length;++i)s+=r[i].spans.length}return s}function hn(e){return Math.floor(e*4294967295)}class Kc{constructor(s){this._probability=s,this.scaledProbability=hn(s)}get probability(){return this._probability}set probability(s){this._probability=s,this.scaledProbability=hn(s)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(s){return s.samplingRate<=s.samplingProbability.scaled}}function Qc(e,s){return e===s?!0:e!==void 0&&s!==void 0?e.id===s.id&&e.traceId===s.traceId:!1}class Gc{constructor(s,t=[]){this.isInForeground=!0,this.onBackgroundStateChange=r=>{this.isInForeground=r==="in-foreground",this.contextStack.length=0},this.contextStack=t,s.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let s=this.contextStack.length-1;s>=0;--s)yield this.contextStack[s]}push(s){s.isValid()&&this.isInForeground&&this.contextStack.push(s)}pop(s){Qc(s,this.current)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&this.contextStack[this.contextStack.length-1].isValid()===!1;)this.contextStack.pop()}}function pn(e,s){return Gt(s)?s:s instanceof Date?e.convert(s):e.now()}class Zc{constructor(s,t,r,i,a,o,l,u){this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=c=>{this.isInForeground=c==="in-foreground",this.openSpans=new WeakSet},this.processor=s,this.sampler=t,this.idGenerator=r,this.spanAttributesSource=i,this.clock=a,this.logger=l,this.spanContextStorage=u,o.onStateChange(this.onBackgroundStateChange)}startSpan(s,t){const r=pn(this.clock,t.startTime),i=this.idGenerator.generate(64),a=Ei(t.parentContext)||t.parentContext===null?t.parentContext:this.spanContextStorage.current,o=a?a.id:void 0,l=a?a.traceId:this.idGenerator.generate(128),u=new Ai(this.spanAttributesSource());typeof t.isFirstClass=="boolean"&&u.set("bugsnag.span.first_class",t.isFirstClass);const c=new $c(i,l,s,r,u,o);return this.isInForeground&&(this.openSpans.add(c),t.makeCurrentContext!==!1&&this.spanContextStorage.push(c)),c}configure(s,t){this.processor=s,this.logger=t}endSpan(s,t){if(!this.openSpans.delete(s)){s.isValid()||this.logger.warn("Attempted to end a Span which has already ended.");return}const r=s.end(t,this.sampler.spanProbability);this.spanContextStorage.pop(s),this.sampler.sample(r)&&this.processor.add(r)}toPublicApi(s){return{get id(){return s.id},get traceId(){return s.traceId},isValid:()=>s.isValid(),end:t=>{const r=pn(this.clock,t);this.endSpan(s,r)}}}}function Jc(e){const s=new zc;let t=s;const r=e.spanContextStorage||new Gc(e.backgroundingListener);let i=e.schema.logger.defaultValue;const a=new Kc(1),o=new Zc(t,a,e.idGenerator,e.spanAttributesSource,e.clock,e.backgroundingListener,i,r),l=e.plugins(o,r);return{start:u=>{const c=Dc(u,e.schema),d=e.deliveryFactory(c.endpoint);Er.create(e.persistence,a,new Wc(d,c.apiKey)).then(h=>{t=new Lc(d,c,new Xc(d,c.retryQueueMaxSize),a,h,new qc(e.clock,c,e.resourceAttributesSource));for(const p of s.spans)t.add(p);e.backgroundingListener.onStateChange(p=>{t.flush()}),i=c.logger,o.configure(t,i)});for(const h of l)h.configure(c)},startSpan:(u,c)=>{const d=Ri(u,c,Oi,i),h=o.startSpan(d.name,d.options);return o.toPublicApi(h)},get currentSpanContext(){return r.current}}}class eu{constructor(){this.persistedItems=new Map}async load(s){return this.persistedItems.get(s)}async save(s,t){this.persistedItems.set(s,t)}}function tu(e,s){return e===void 0||s===void 0||e===0&&s===0}const su=(e,s,t,r)=>{function i(o,l,u){if(tu(l,u))return;const c=e.startSpan(`[PageLoadPhase/${o}]${t}`,{startTime:l,parentContext:r,makeCurrentContext:!1});c.setAttribute("bugsnag.span.category","page_load_phase"),c.setAttribute("bugsnag.phase",o),e.endSpan(c,u)}const a=s.getEntriesByType("navigation")[0];if(a){i("Unload",a.unloadEventStart,a.unloadEventEnd),i("Redirect",a.redirectStart,a.redirectEnd),i("LoadFromCache",a.fetchStart,a.domainLookupStart),i("DNSLookup",a.domainLookupStart,a.domainLookupEnd);const o=a.secureConnectionStart||a.connectEnd;i("TCPHandshake",a.connectStart,o),i("TLS",a.secureConnectionStart,a.connectEnd),i("HTTPRequest",a.requestStart,a.responseStart),i("HTTPResponse",a.responseStart,a.responseEnd),i("DomContentLoadedEvent",a.domContentLoadedEventStart,a.domContentLoadedEventEnd),i("LoadEvent",a.loadEventStart,a.loadEventEnd)}};class ru{constructor(s,t,r,i,a,o,l){this.wasBackgrounded=!1,this.document=s,this.location=t,this.spanFactory=r,this.webVitals=i,this.onSettle=a,this.performance=l,o.onStateChange(u=>{!this.wasBackgrounded&&u==="in-background"&&(this.wasBackgrounded=!0)})}configure(s){if(!s.autoInstrumentFullPageLoads||this.wasBackgrounded)return;const t=this.spanFactory.startSpan("[FullPageLoad]",{startTime:0,parentContext:null}),r=new URL(this.location.href);this.onSettle(i=>{if(this.wasBackgrounded)return;const a=s.routingProvider.resolveRoute(r);t.name+=a,su(this.spanFactory,this.performance,a,t),t.setAttribute("bugsnag.span.category","full_page_load"),t.setAttribute("bugsnag.browser.page.referrer",this.document.referrer),t.setAttribute("bugsnag.browser.page.title",this.document.title),t.setAttribute("bugsnag.browser.page.url",r.toString()),t.setAttribute("bugsnag.browser.page.route",a),this.webVitals.attachTo(t),this.spanFactory.endSpan(t,i)})}}class nu{constructor(s,t,r){this.spanFactory=s,this.fetchTracker=t,this.xhrTracker=r,this.configEndpoint="",this.trackRequest=i=>{if(!this.shouldTrackRequest(i))return;const a=this.spanFactory.startSpan(`[HTTP]/${i.method.toUpperCase()}`,{startTime:i.startTime,makeCurrentContext:!1});return a.setAttribute("bugsnag.span.category","network"),a.setAttribute("http.url",i.url),a.setAttribute("http.method",i.method),o=>{o.state==="success"&&(a.setAttribute("http.status_code",o.status),this.spanFactory.endSpan(a,o.endTime))}}}configure(s){s.autoInstrumentNetworkRequests&&(this.configEndpoint=s.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest))}shouldTrackRequest(s){return s.url!==this.configEndpoint}}function iu(e){switch(e){case"":return;case"http/1.0":return"1.0";case"http/1.1":return"1.1";case"h2":case"h2c":return"2.0";case"h3":return"3.0";case"spdy/1":case"spdy/2":case"spdy/3":return"SPDY";default:return e}}function au(e){return e&&Array.isArray(e.supportedEntryTypes)&&e.supportedEntryTypes.includes("resource")}class ou{constructor(s,t,r){this.spanFactory=s,this.spanContextStorage=t,this.PerformanceObserverClass=r}configure(s){if(!au(this.PerformanceObserverClass))return;new this.PerformanceObserverClass(r=>{const i=r.getEntries();for(const a of i){if(a.initiatorType==="fetch"||a.initiatorType==="xmlhttprequest")continue;const o=this.spanContextStorage.first;if(o){const l=new URL(a.name);l.search="";const u=l.href,c=this.spanFactory.startSpan(`[ResourceLoad]${u}`,{parentContext:o,startTime:a.startTime,makeCurrentContext:!1});c.setAttribute("bugsnag.span.category","resource_load"),c.setAttribute("http.url",a.name);const d=iu(a.nextHopProtocol);d&&c.setAttribute("http.flavor",d),a.encodedBodySize&&a.decodedBodySize&&(c.setAttribute("http.response_content_length",a.encodedBodySize),c.setAttribute("http.response_content_length_uncompressed",a.decodedBodySize)),a.responseStatus&&c.setAttribute("http.status_code",a.responseStatus),this.spanFactory.endSpan(c,a.responseEnd)}}}).observe({type:"resource",buffered:!0})}}const{startTime:lu,parentContext:cu,makeCurrentContext:uu}=Oi,du={startTime:lu,parentContext:cu,makeCurrentContext:uu,trigger:{getDefaultValue:e=>String(e),message:"should be a string",validate:ms}};class hu{constructor(s,t,r){this.spanFactory=s,this.location=t,this.document=r}configure(s){if(!s.autoInstrumentRouteChanges)return;let t=s.routingProvider.resolveRoute(new URL(this.location.href));s.routingProvider.listenForRouteChanges((r,i,a)=>{let o;if(r instanceof URL)o=r;else try{const h=String(r);o=new URL(h)}catch{return s.logger.warn(`Invalid span options
  - url should be a URL`),{id:"",traceId:"",isValid:()=>!1,end:()=>{}}}const l=Object.assign(Object.assign({},a),{trigger:i}),u=Ri("[RouteChange]",l,du,s.logger),c=s.routingProvider.resolveRoute(o);u.name+=c;const d=this.spanFactory.startSpan(u.name,u.options);return d.setAttribute("bugsnag.span.category","route_change"),d.setAttribute("bugsnag.browser.page.route",c),d.setAttribute("bugsnag.browser.page.url",r.toString()),d.setAttribute("bugsnag.browser.page.previous_route",t),d.setAttribute("bugsnag.browser.page.route_change.trigger",u.options.trigger),t=c,{id:d.id,traceId:d.traceId,isValid:d.isValid,end:h=>{d.setAttribute("bugsnag.browser.page.title",this.document.title),this.spanFactory.toPublicApi(d).end(h)}}})}}function pu(e){const s=[],t={onStateChange(r){s.push(r),e.visibilityState==="hidden"&&r("in-background")}};return e.addEventListener("visibilitychange",function(){const r=e.visibilityState==="hidden"?"in-background":"in-foreground";for(const i of s)i(r)}),t}const mu=3e5;function fu(e,s){let t=e.timeOrigin===void 0?e.timing.navigationStart:e.timeOrigin;return s.onStateChange(r=>{r==="in-foreground"&&Math.abs(Date.now()-(t+e.now()))>mu&&(t=Date.now()-e.now())}),{now:()=>e.now(),date:()=>new Date(t+e.now()),convert:r=>r.getTime()-t,toUnixTimestampNanoseconds:r=>Ic(t+r).toString()}}const gu=e=>ts(e)&&typeof e.resolveRoute=="function"&&typeof e.listenForRouteChanges=="function";function vu(e,s){return Object.assign(Object.assign({},un),{releaseStage:Object.assign(Object.assign({},un.releaseStage),{defaultValue:e==="localhost"?"development":"production"}),autoInstrumentFullPageLoads:{defaultValue:!0,message:"should be true|false",validate:Vt},autoInstrumentNetworkRequests:{defaultValue:!0,message:"should be true|false",validate:Vt},autoInstrumentRouteChanges:{defaultValue:!0,message:"should be true|false",validate:Vt},generateAnonymousId:{defaultValue:!0,message:"should be true|false",validate:Vt},routingProvider:{defaultValue:s,message:"should be a routing provider",validate:gu},settleIgnoreUrls:{defaultValue:[],message:"should be an array of string|RegExp",validate:kc}})}function Ar(e,s){if(e.indexOf("https://")===0||e.indexOf("http://")===0)return e;try{const t=new URL(e,s).href;return!e.endsWith("/")&&t.endsWith("/")?t.slice(0,-1):t}catch{return e}}const yu=e=>e.pathname,bu=(e,s)=>class{constructor(r=yu){this.resolveRoute=r}listenForRouteChanges(r){addEventListener("popstate",a=>{const o=new URL(s.href),l=r(o,"popstate");e(u=>{l.end(u)})});const i=history.pushState;history.pushState=function(...a){const o=a[2];if(o){const l=new URL(Ar(o.toString(),document.baseURI)),u=r(l,"pushState");e(c=>{u.end(c)})}i.apply(this,a)}}};function xu(e){const s=e.get("Bugsnag-Sampling-Probability");if(typeof s!="string")return;const t=Number.parseFloat(s);if(!(Number.isNaN(t)||t<0||t>1))return t}function wu(e,s,t){let r=!1;return s.onStateChange(i=>{r=i==="in-background"}),function(a){return{async send(o){o.headers["Bugsnag-Sent-At"]=t.date().toISOString();try{const l=await e(a,{method:"POST",keepalive:r,body:JSON.stringify(o.body),headers:o.headers});return{state:Uc(l.status),samplingProbability:xu(l.headers)}}catch{return{state:"failure-retryable"}}}}}}function ju(e){const s=e.toString(16);return s.length===1?"0"+s:s}const Su={generate(e){const s=new Uint8Array(e/8),t=window.crypto.getRandomValues(s);return Array.from(t,ju).join("")}};function Nu(e){try{if(e.localStorage)return new ku(e.localStorage)}catch{}return new eu}function Cu(e){return/^c[a-z0-9]{20,32}$/.test(e)}function _u(e,s){switch(e){case"bugsnag-sampling-probability":{const t=JSON.parse(s);return Pc(t)?t:void 0}case"bugsnag-anonymous-id":return Cu(s)?s:void 0;default:return e}}function Tu(e,s){switch(e){case"bugsnag-sampling-probability":return JSON.stringify(s);case"bugsnag-anonymous-id":return s;default:return e}}class ku{constructor(s){this.storage=s}async load(s){try{const t=this.storage.getItem(s);if(t)return _u(s,t)}catch{}}async save(s,t){try{this.storage.setItem(s,Tu(s,t))}catch{}}}class Hs{constructor(s){this.settled=!1,this.callbacks=new Set,this.clock=s}subscribe(s){this.callbacks.add(s),this.isSettled()&&s(this.clock.now())}unsubscribe(s){this.callbacks.delete(s)}isSettled(){return this.settled}settle(s){this.settled=!0;for(const t of this.callbacks)t(s)}}class Pu extends Hs{constructor(s,t){super(s),this.timeout=void 0,new MutationObserver(()=>{this.restart()}).observe(t,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;const s=this.clock.now();this.timeout=setTimeout(()=>{this.settle(s)},100)}}function Eu(e){return!!e&&e.entryType==="navigation"}class Au extends Hs{constructor(s,t,r,i){super(s),i.readyState==="complete"?setTimeout(()=>{this.settleUsingPerformance(r)},0):t("load",()=>{setTimeout(()=>{this.settleUsingPerformance(r)},0)})}settleUsingPerformance(s){const t=this.clock.now(),r=typeof s.getEntriesByType=="function"?s.getEntriesByType("navigation")[0]:void 0;let i;Eu(r)?i=r.loadEventEnd:i=s.timing.loadEventEnd-s.timing.navigationStart,(i<=0||i>t)&&(i=t),this.settle(i)}}class mn extends Hs{constructor(s,t){super(s),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,t.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(s){this.urlsToIgnore=s}onRequestStart(s){if(!this.shouldIgnoreUrl(s.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,t=>{if(--this.outstandingRequests===0){const r=this.clock.now();this.timeout=setTimeout(()=>{this.settle(r)},100)}}}shouldIgnoreUrl(s){return this.urlsToIgnore.some(t=>t.test(s))}}class Ou extends Hs{constructor(s,t){super(s),this.settlers=t;for(const r of t)r.subscribe(i=>{this.settlersAreSettled()?this.settle(i):this.settled=!1})}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(const s of this.settlers)if(!s.isSettled())return!1;return!0}}const Ru=60*1e3;function Iu(e,s,t,r,i){const a=new Pu(e,s.document),o=new mn(e,t),l=new mn(e,r),u=new Au(e,s.addEventListener,i,s.document),c=new Ou(e,[a,u,o,l]);function d(h){const p=P=>{clearTimeout(v),c.unsubscribe(p),h(P)},v=setTimeout(()=>{const P=e.now();c.unsubscribe(p),h(P)},Ru),w=c.isSettled()?100:0,_=e.now();setTimeout(()=>{c.isSettled()?p(_):c.subscribe(p)},w)}return d.configure=function(h){const p=h.settleIgnoreUrls.map(v=>typeof v=="string"?RegExp(v):v).concat(RegExp(h.endpoint));o.setUrlsToIgnore(p),l.setUrlsToIgnore(p)},d}class Ii{constructor(){this.callbacks=[]}onStart(s){this.callbacks.push(s)}start(s){const t=[];for(const r of this.callbacks){const i=r(s);i&&t.push(i)}return r=>{for(const i of t)i(r)}}}function Du(e,s,t,r){const i=Lu(t),a=i?t.url:String(t),o=!!r&&r.method||i&&t.method||"GET";return{url:Ar(a,e),method:o,startTime:s}}function Lu(e){return!!e&&typeof e=="object"&&!(e instanceof URL)}function Mu(e,s){const t=new Ii,r=e.fetch;return e.fetch=function(a,o){const l=Du(e.document.baseURI,s.now(),a,o),u=t.start(l);return r.call(this,a,o).then(c=>(u({status:c.status,endTime:s.now(),state:"success"}),c)).catch(c=>{throw u({error:c,endTime:s.now(),state:"error"}),c})},t}function Fu(e,s){const t=new Ii,r=new WeakMap,i=new WeakMap,a=e.XMLHttpRequest.prototype.open;e.XMLHttpRequest.prototype.open=function(u,c,...d){r.set(this,{method:u,url:Ar(String(c),e.document.baseURI)}),a.call(this,u,c,...d)};const o=e.XMLHttpRequest.prototype.send;return e.XMLHttpRequest.prototype.send=function(u){const c=r.get(this);if(c){const d=i.get(this);d&&this.removeEventListener("readystatechange",d);const h=t.start({method:c.method,url:c.url,startTime:s.now()}),p=v=>{if(this.readyState===e.XMLHttpRequest.DONE&&h){const w=this.status>0?{endTime:s.now(),status:this.status,state:"success"}:{endTime:s.now(),state:"error"};h(w)}};this.addEventListener("readystatechange",p),i.set(this,p)}o.call(this,u)},t}var Di=function(s,t){var r="000000000"+s;return r.substr(r.length-t)},Hu=Di,fn=typeof window=="object"?window:self,Li=0;for(var $u in fn)Object.hasOwnProperty.call(fn,$u)&&Li++;var qu=navigator.mimeTypes?navigator.mimeTypes.length:0,Bu=Hu((qu+navigator.userAgent.length).toString(36)+Li.toString(36),4),Uu=function(){return Bu},Mi=Uu,Fi=Di,as=0,Or=4,Os=36,Hi=Math.pow(Os,Or);function gn(){return Fi((Math.random()*Hi<<0).toString(Os),Or)}function Yu(){return as=as<Hi?as:0,as++,as-1}function $i(){var e="c",s=new Date().getTime().toString(Os),t=Fi(Yu().toString(Os),Or),r=Mi(),i=gn()+gn();return e+s+t+r+i}$i.fingerprint=Mi;var Wu=$i;const zu=fs(Wu);function Vu(e,s){let t,r;return function(a){const o=new Ac(a.releaseStage,a.appVersion,"bugsnag.performance.browser","0.3.0");if(o.set("browser.user_agent",e.userAgent),e.userAgentData&&(o.set("browser.platform",e.userAgentData.platform),o.set("browser.mobile",e.userAgentData.mobile)),a.generateAnonymousId)if(t||(t=s.load("bugsnag-anonymous-id").then(l=>{const u=l||zu();return l||s.save("bugsnag-anonymous-id",u),r=u,r})),r)o.set("device.id",r);else return t.then(l=>(o.set("device.id",l),o));return Promise.resolve(o)}}const Xu=(e,s)=>()=>{const t=new Map;return t.set("bugsnag.span.category","custom"),t.set("bugsnag.browser.page.url",s),t.set("bugsnag.browser.page.title",e),t};class Ku{constructor(s,t,r){if(this.performance=s,this.clock=t,this.observers=[],r&&Array.isArray(r.supportedEntryTypes)){const i=r.supportedEntryTypes;i.includes("largest-contentful-paint")&&this.observeLargestContentfulPaint(r),i.includes("layout-shift")&&this.observeLayoutShift(r)}}attachTo(s){const t=this.firstContentfulPaint();t&&s.addEvent("fcp",t);const r=this.timeToFirstByte();r&&s.addEvent("ttfb",r);const i=this.firstInputDelay();i&&(s.addEvent("fid_start",i.start),s.addEvent("fid_end",i.end)),this.cumulativeLayoutShift&&s.setAttribute("bugsnag.metrics.cls",this.cumulativeLayoutShift),this.largestContentfulPaint&&s.addEvent("lcp",this.largestContentfulPaint);for(const a of this.observers)a.disconnect()}firstContentfulPaint(){const s=this.performance.getEntriesByName("first-contentful-paint","paint")[0];if(s)return s.startTime}timeToFirstByte(){const s=this.performance.getEntriesByType("navigation")[0];let t;if(s?t=s.responseStart:t=this.performance.timing.responseStart-this.performance.timing.navigationStart,t>0&&t<=this.clock.now())return t}firstInputDelay(){const s=this.performance.getEntriesByType("first-input")[0];if(s)return{start:s.startTime,end:s.processingStart}}observeLargestContentfulPaint(s){const t=new s(r=>{const i=r.getEntries();i.length>0&&(this.largestContentfulPaint=i[i.length-1].startTime)});t.observe({type:"largest-contentful-paint",buffered:!0}),this.observers.push(t)}observeLayoutShift(s){let t;const r=new s(i=>{for(const a of i.getEntries())a.hadRecentInput||(t&&a.startTime-t.previousStartTime<1e3&&a.startTime-t.firstStartTime<5e3?(t.value+=a.value,t.previousStartTime=a.startTime):t={value:a.value,firstStartTime:a.startTime,previousStartTime:a.startTime});t&&(this.cumulativeLayoutShift===void 0||t.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=t.value)});r.observe({type:"layout-shift",buffered:!0}),this.observers.push(r)}}const Ts=pu(document),Zt=fu(performance,Ts),qi=Nu(window),Qu=Xu(document.title,window.location.href),Gu=Vu(navigator,qi),Bi=Mu(window,Zt),Ui=Fu(window,Zt),Zu=new Ku(performance,Zt,window.PerformanceObserver),hr=Iu(Zt,window,Bi,Ui,performance),Ju=bu(hr,window.location),ed=Jc({backgroundingListener:Ts,clock:Zt,resourceAttributesSource:Gu,spanAttributesSource:Qu,deliveryFactory:wu(window.fetch,Ts,Zt),idGenerator:Su,schema:vu(window.location.hostname,new Ju),plugins:(e,s)=>[hr,new ru(document,window.location,e,Zu,hr,Ts,performance),new ou(e,s,window.PerformanceObserver),new nu(e,Bi,Ui),new hu(e,window.location,document)],persistence:qi}),td=()=>{const e=s=>s instanceof Element?s.innerHTML?s.outerHTML.slice(0,s.outerHTML.indexOf(s.innerHTML)):s.outerHTML:s.textContent;if(typeof Node=="function"&&Node.prototype){const s=Node.prototype.removeChild;Node.prototype.removeChild=function(r){var i;return r.parentNode!==this?(console==null||console.error("Cannot remove a child from a different parent",r,this),(i=ar)==null||i.notify("removeChild: Cannot remove a child from a different parent",a=>{a.addMetadata("context",{child:e(r),this:e(this)})}),r):s.apply(this,[r])};const t=Node.prototype.insertBefore;Node.prototype.insertBefore=function(r,i){var a;return i&&i.parentNode!==this?(console==null||console.error("Cannot insert before a reference node from a different parent",i,this),(a=ar)==null||a.notify("insertBefore: Cannot insert before a reference node from a different parent",o=>{o.addMetadata("context",{child:e(i),this:e(this)})}),r):t.apply(this,[r,i])}}};var sd=Object.defineProperty,rd=Object.getOwnPropertyDescriptor,ss=(e,s,t,r)=>{for(var i=r>1?void 0:r?rd(s,t):s,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(s,t,i):o(i))||i);return r&&i&&sd(s,t,i),i};const Yi="wp-block-owid-prominent-link",nd="with-image";let ht=class extends Q.Component{get originalUrl(){return Fa(Ke.fromURL(this.props.href))}get originalSelectedEntities(){var s;return(s=Ha(this.originalUrl))!=null?s:[]}get entitiesInGlobalEntitySelection(){var s,t;return(t=(s=this.props.globalEntitySelection)==null?void 0:s.selectedEntityNames)!=null?t:[]}get updatedUrl(){const s=Ce.union(this.originalSelectedEntities,this.entitiesInGlobalEntitySelection);return s.length===0?this.originalUrl:Nr(this.originalUrl,s)}get style(){return this.props.style||"is-style-default"}render(){const s=[Yi,this.props.image?nd:null],t=()=>this.props.image?n.jsx("figure",{dangerouslySetInnerHTML:{__html:this.props.image}}):null,r=()=>{var l;return(l=this.props.content)!=null&&l.trim()?n.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:this.props.content}}):null},i=()=>n.jsxs(n.Fragment,{children:[t(),n.jsxs("div",{className:"content-wrapper",children:[this.props.title?n.jsxs("div",{className:"title",children:[n.jsx("span",{dangerouslySetInnerHTML:{__html:this.props.title}}),n.jsx(Y.FontAwesomeIcon,{icon:ks})]}):null,r()]})]}),a=()=>n.jsxs(n.Fragment,{children:[this.props.title?n.jsxs("h3",{className:"title",children:[n.jsx("span",{dangerouslySetInnerHTML:{__html:this.props.title}}),n.jsx(Y.FontAwesomeIcon,{icon:ks})]}):null,n.jsxs("div",{className:"content-wrapper",children:[t(),r()]})]}),o=this.updatedUrl.isGrapher?{target:"_blank"}:{};return n.jsx("div",{className:s.join(" "),"data-no-lightbox":!0,"data-style":this.style,"data-title":this.props.title,children:n.jsx("a",{href:this.updatedUrl.fullUrl,...o,children:this.style==="is-style-thin"?i():a()})})}};ss([le],ht.prototype,"originalUrl",1);ss([le],ht.prototype,"originalSelectedEntities",1);ss([le],ht.prototype,"entitiesInGlobalEntitySelection",1);ss([le],ht.prototype,"updatedUrl",1);ss([le],ht.prototype,"style",1);ht=ss([Ot],ht);const id=e=>{document.querySelectorAll(`.${Yi}`).forEach(s=>{var u,c,d;const t=(u=s.querySelector("a"))==null?void 0:u.href;if(!t)return;const r=s.getAttribute("data-style"),i=s.getAttribute("data-title"),a=((c=s.querySelector(".content"))==null?void 0:c.innerHTML)||null,o=((d=s.querySelector("figure"))==null?void 0:d.innerHTML)||null,l=n.jsx(ht,{href:t,style:r,title:i,content:a,image:o,globalEntitySelection:e});de.render(l,s.parentElement)})};var Wi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s="fas",t="arrow-down",r=384,i=512,a=[8595],o="f063",l="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z";e.definition={prefix:s,iconName:t,icon:[r,i,a,o,l]},e.faArrowDown=e.definition,e.prefix=s,e.iconName=t,e.width=r,e.height=i,e.ligatures=a,e.unicode=o,e.svgPathData=l,e.aliases=a})(Wi);var zi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s="fas",t="minus",r=448,i=512,a=[8211,8722,10134,"subtract"],o="f068",l="M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z";e.definition={prefix:s,iconName:t,icon:[r,i,a,o,l]},e.faMinus=e.definition,e.prefix=s,e.iconName=t,e.width=r,e.height=i,e.ligatures=a,e.unicode=o,e.svgPathData=l,e.aliases=a})(zi);var Vi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s="fas",t="plus",r=448,i=512,a=[10133,61543,"add"],o="2b",l="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z";e.definition={prefix:s,iconName:t,icon:[r,i,a,o,l]},e.faPlus=e.definition,e.prefix=s,e.iconName=t,e.width=r,e.height=i,e.ligatures=a,e.unicode=o,e.svgPathData=l,e.aliases=a})(Vi);const vn=({label:e,content:s,isExpandedDefault:t=!1,isStacked:r=!1,hasTeaser:i=!1})=>{const[a,o]=x.useState(t),l=()=>{o(!a)};return n.jsxs("div",{className:F("ExpandableToggle",{"ExpandableToggle--stacked":r}),children:[n.jsxs("button",{className:"ExpandableToggle__button",onClick:l,children:[n.jsx("h4",{className:"ExpandableToggle__title",children:e}),n.jsx(Y.FontAwesomeIcon,{className:"ExpandableToggle__icon",icon:a?zi.faMinus:Vi.faPlus})]}),n.jsx("div",{className:F("ExpandableToggle__content",{"ExpandableToggle__content--open":a,"ExpandableToggle__content--teaser":i}),children:s})]})},yn=({grapher:e,slug:s,className:t,id:r})=>s?n.jsx("div",{className:F("GrapherWithFallback",t),id:r,children:n.jsx(n.Fragment,{children:e?n.jsx(Qn,{grapher:e}):n.jsx("figure",{"data-grapher-src":!0,className:"GrapherWithFallback__fallback",children:n.jsx("img",{src:`${ti}/${s}.svg`,width:si,height:ri,loading:"lazy"})})})}):null,At=({authors:e,requireMax:s,forBibtex:t})=>{s&&!e.includes("Max Roser")&&(e=[...e,"Max Roser"]);let r=e.slice(0,-1).join(t?" and ":", ");return r.length===0?r=e[0]:r+=` and ${$a(e)}`,r};function ad({definitions:e}){return e?n.jsx("section",{className:"footnote-container grid grid-cols-12-full-width col-start-1 col-end-limit",children:n.jsxs("div",{className:"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12",children:[n.jsx("h3",{id:qa,children:"Endnotes"}),n.jsx("ol",{className:"footnote-list",children:Object.values(e).sort((s,t)=>s.index-t.index).map(s=>n.jsx("li",{id:`note-${s.index+1}`,className:"footnote-list__footnote",children:s.content.map((t,r)=>n.jsx(Be,{b:t},r))},s.index))})]})}):null}const Tt=({code:e,theme:s="dark",isTruncated:t=!1})=>{const[r,i]=x.useState(!1),[a,o]=x.useState(!1);x.useEffect(()=>{Ba().then(i)},[]);const l=async()=>{try{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)}catch(u){console.error("Couldn't copy to clipboard using navigator.clipboard",u)}};return n.jsxs("div",{className:`wp-code-snippet wp-code-snippet--${s}`,children:[n.jsx("pre",{className:"wp-block-code",children:n.jsx("code",{className:F("wp-code-snippet__code",{"wp-code-snippet__code--is-truncated":t}),children:e})}),r&&n.jsx("button",{className:F("code-copy-button",{"code-copy-button--has-copied":a}),onClick:l,"aria-label":"Copy to clipboard",children:a?"Copied!":n.jsx(Y.FontAwesomeIcon,{icon:Ua})})]})},od=()=>{document.querySelectorAll("div.wp-code-snippet").forEach(s=>{var r;const t=((r=s.querySelector(".wp-block-code code"))==null?void 0:r.textContent)||"";de.hydrate(n.jsx(Tt,{code:t}),s.parentElement)})},Xi=x.createContext(void 0),Ki=({children:e,debug:s=!1})=>n.jsx(Xi.Provider,{value:s,children:e}),ld=()=>{const e=Q.useContext(Xi);if(e===void 0)throw new Error("useDebug must be used within a DebugProvider");return e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pr=function(e,s){return pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},pr(e,s)};function cd(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");pr(e,s);function t(){this.constructor=e}e.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}var tt=function(){return tt=Object.assign||function(s){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=t[a])}return s},tt.apply(this,arguments)};function bn(e,s,t){if(t||arguments.length===2)for(var r=0,i=s.length,a;r<i;r++)(a||!(r in s))&&(a||(a=Array.prototype.slice.call(s,0,r)),a[r]=s[r]);return e.concat(a||s)}var Ue=function(e,s){return Number(e.toFixed(s))},ud=function(e,s){return typeof e=="number"?e:s},je=function(e,s,t){t&&typeof t=="function"&&t(e,s)},dd=function(e){return-Math.cos(e*Math.PI)/2+.5},hd=function(e){return e},pd=function(e){return e*e},md=function(e){return e*(2-e)},fd=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},gd=function(e){return e*e*e},vd=function(e){return--e*e*e+1},yd=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},bd=function(e){return e*e*e*e},xd=function(e){return 1- --e*e*e*e},wd=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},jd=function(e){return e*e*e*e*e},Sd=function(e){return 1+--e*e*e*e*e},Nd=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},Qi={easeOut:dd,linear:hd,easeInQuad:pd,easeOutQuad:md,easeInOutQuad:fd,easeInCubic:gd,easeOutCubic:vd,easeInOutCubic:yd,easeInQuart:bd,easeOutQuart:xd,easeInOutQuart:wd,easeInQuint:jd,easeOutQuint:Sd,easeInOutQuint:Nd},Gi=function(e){typeof e=="number"&&cancelAnimationFrame(e)},et=function(e){e.mounted&&(Gi(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Zi(e,s,t,r){if(e.mounted){var i=new Date().getTime(),a=1;et(e),e.animation=function(){if(!e.mounted)return Gi(e.animation);var o=new Date().getTime()-i,l=o/t,u=Qi[s],c=u(l);o>=t?(r(a),e.animation=null):e.animation&&(r(c),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function yt(e,s,t,r){var i=Cd(s);if(!(!e.mounted||!i)){var a=e.setTransformState,o=e.transformState,l=o.scale,u=o.positionX,c=o.positionY,d=s.scale-l,h=s.positionX-u,p=s.positionY-c;t===0?a(s.scale,s.positionX,s.positionY):Zi(e,r,t,function(v){var w=l+d*v,_=u+h*v,P=c+p*v;a(w,_,P)})}}function Cd(e){var s=e.scale,t=e.positionX,r=e.positionY;return!(isNaN(s)||isNaN(t)||isNaN(r))}function _d(e,s,t){var r=e.offsetWidth,i=e.offsetHeight,a=s.offsetWidth,o=s.offsetHeight,l=a*t,u=o*t,c=r-l,d=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:c,newContentHeight:u,newDiffHeight:d}}var Td=function(e,s,t,r,i,a,o){var l=e>s?t*(o?1:.5):0,u=r>i?a*(o?1:.5):0,c=e-s-l,d=l,h=r-i-u,p=u;return{minPositionX:c,maxPositionX:d,minPositionY:h,maxPositionY:p}},Rr=function(e,s){var t=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!t||!r)throw new Error("Components are not mounted");var a=_d(t,r,s),o=a.wrapperWidth,l=a.wrapperHeight,u=a.newContentWidth,c=a.newDiffWidth,d=a.newContentHeight,h=a.newDiffHeight,p=Td(o,u,c,l,d,h,!!i);return p},Jt=function(e,s){var t=Rr(e,s);return e.bounds=t,t};function $s(e,s,t,r,i,a,o){var l=t.minPositionX,u=t.minPositionY,c=t.maxPositionX,d=t.maxPositionY,h=0,p=0;o&&(h=i,p=a);var v=mr(e,l-h,c+h,r),w=mr(s,u-p,d+p,r);return{x:v,y:w}}var mr=function(e,s,t,r){return r?e<s?Ue(s,2):e>t?Ue(t,2):Ue(e,2):Ue(e,2)};function qs(e,s,t,r,i,a){var o=e.transformState,l=o.scale,u=o.positionX,c=o.positionY,d=r-l;if(typeof s!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:c};var h=u-s*d,p=c-t*d,v=$s(h,p,i,a,0,0,null);return v}function bs(e,s,t,r,i){var a=i?r:0,o=s-a;return!isNaN(t)&&e>=t?t:!isNaN(s)&&e<=o?o:e}var xn=function(e,s){var t=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,a=s.target,o=i==null?void 0:i.contains(a),l=r&&a&&o;if(!l)return!1;var u=Bs(a,t);return!u},wn=function(e){var s=e.isInitialized,t=e.isPanning,r=e.setup,i=r.panning.disabled,a=s&&t&&!i;return!!a},kd=function(e,s){var t=e.transformState,r=t.positionX,i=t.positionY;e.isPanning=!0;var a=s.clientX,o=s.clientY;e.startCoords={x:a-r,y:o-i}},Pd=function(e,s){var t=s.touches,r=e.transformState,i=r.positionX,a=r.positionY;e.isPanning=!0;var o=t.length===1;if(o){var l=t[0].clientX,u=t[0].clientY;e.startCoords={x:l-i,y:u-a}}};function Ed(e){var s=e.transformState,t=s.positionX,r=s.positionY,i=s.scale,a=e.setup,o=a.disabled,l=a.limitToBounds,u=a.centerZoomedOut,c=e.wrapperComponent;if(!(o||!c||!e.bounds)){var d=e.bounds,h=d.maxPositionX,p=d.minPositionX,v=d.maxPositionY,w=d.minPositionY,_=t>h||t<p,P=r>v||r<w,B=t>h?c.offsetWidth:e.setup.minPositionX||0,G=r>v?c.offsetHeight:e.setup.minPositionY||0,U=qs(e,B,G,i,e.bounds,l||u),W=U.x,S=U.y;return{scale:i,positionX:_?W:t,positionY:P?S:r}}}function Ad(e,s,t,r,i){var a=e.setup.limitToBounds,o=e.wrapperComponent,l=e.bounds,u=e.transformState,c=u.scale,d=u.positionX,h=u.positionY,p=s!==d,v=t!==h,w=!p||!v;if(!(!o||w||!l)){var _=$s(s,t,l,a,r,i,o),P=_.x,B=_.y;e.setTransformState(c,P,B)}}var Od=function(e,s,t){var r=e.startCoords,i=e.transformState,a=e.setup.panning,o=a.lockAxisX,l=a.lockAxisY,u=i.positionX,c=i.positionY;if(!r)return{x:u,y:c};var d=s-r.x,h=t-r.y,p=o?u:d,v=l?c:h;return{x:p,y:v}},Rs=function(e,s){var t=e.setup,r=e.transformState,i=r.scale,a=t.minScale;return s>0&&i>=a?s:0},Rd=function(e){var s=e.mounted,t=e.setup,r=t.disabled,i=t.velocityAnimation,a=e.transformState.scale,o=i.disabled,l=!o||a>1||!r||s;return!!l},Id=function(e){var s=e.mounted,t=e.velocity,r=e.bounds,i=e.setup,a=i.disabled,o=i.velocityAnimation,l=e.transformState.scale,u=o.disabled,c=!u||l>1||!a||s;return!(!c||!t||!r)};function Dd(e,s){var t=e.setup.velocityAnimation,r=t.equalToMove,i=t.animationTime,a=t.sensitivity;return r?i*s*a:i}function jn(e,s,t,r,i,a,o,l,u,c){if(i){if(s>o&&t>o){var d=o+(e-o)*c;return d>u?u:d<o?o:d}if(s<a&&t<a){var d=a+(e-a)*c;return d<l?l:d>a?a:d}}return r?s:mr(e,a,o,i)}function Ld(e,s){var t=1;return s?Math.min(t,e.offsetWidth/window.innerWidth):t}function Md(e,s){var t=Rd(e);if(t){var r=e.lastMousePosition,i=e.velocityTime,a=e.setup,o=e.wrapperComponent,l=a.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&o){var c=Ld(o,l),d=s.x-r.x,h=s.y-r.y,p=d/c,v=h/c,w=u-i,_=d*d+h*h,P=Math.sqrt(_)/w;e.velocity={velocityX:p,velocityY:v,total:P}}e.lastMousePosition=s,e.velocityTime=u}}function Fd(e){var s=e.velocity,t=e.bounds,r=e.setup,i=e.wrapperComponent,a=Id(e);if(!(!a||!s||!t||!i)){var o=s.velocityX,l=s.velocityY,u=s.total,c=t.maxPositionX,d=t.minPositionX,h=t.maxPositionY,p=t.minPositionY,v=r.limitToBounds,w=r.alignmentAnimation,_=r.zoomAnimation,P=r.panning,B=P.lockAxisY,G=P.lockAxisX,U=_.animationType,W=w.sizeX,S=w.sizeY,V=w.velocityAlignmentTime,H=V,z=Dd(e,u),Pe=Math.max(z,H),Ee=Rs(e,W),He=Rs(e,S),Ye=Ee*i.offsetWidth/100,$e=He*i.offsetHeight/100,st=c+Ye,We=d-Ye,lt=h+$e,ze=p-$e,ke=e.transformState,qe=new Date().getTime();Zi(e,U,Pe,function(Lt){var rt=e.transformState,Ae=rt.scale,Qe=rt.positionX,ge=rt.positionY,he=new Date().getTime()-qe,Oe=he/H,f=Qi[w.animationType],g=1-f(Math.min(1,Oe)),y=1-Lt,j=Qe+o*y,E=ge+l*y,R=jn(j,ke.positionX,Qe,G,v,d,c,We,st,g),I=jn(E,ke.positionY,ge,B,v,p,h,ze,lt,g);(Qe!==j||ge!==E)&&e.setTransformState(Ae,R,I)})}}function Sn(e,s){var t=e.transformState.scale;et(e),Jt(e,t),s.touches?Pd(e,s):kd(e,s)}function Nn(e,s,t){var r=e.startCoords,i=e.setup,a=i.alignmentAnimation,o=a.sizeX,l=a.sizeY;if(r){var u=Od(e,s,t),c=u.x,d=u.y,h=Rs(e,o),p=Rs(e,l);Md(e,{x:c,y:d}),Ad(e,c,d,h,p)}}function Hd(e){if(e.isPanning){var s=e.setup.panning.velocityDisabled,t=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var a=r==null?void 0:r.getBoundingClientRect(),o=i==null?void 0:i.getBoundingClientRect(),l=(a==null?void 0:a.width)||0,u=(a==null?void 0:a.height)||0,c=(o==null?void 0:o.width)||0,d=(o==null?void 0:o.height)||0,h=l<c||u<d,p=!s&&t&&(t==null?void 0:t.total)>.1&&h;p?Fd(e):Ji(e)}}function Ji(e){var s=e.transformState.scale,t=e.setup,r=t.minScale,i=t.alignmentAnimation,a=i.disabled,o=i.sizeX,l=i.sizeY,u=i.animationTime,c=i.animationType,d=a||s<r||!o&&!l;if(!d){var h=Ed(e);h&&yt(e,h,u,c)}}function ea(e,s,t){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,o=a.minScale,l=a.limitToBounds,u=a.zoomAnimation,c=u.disabled,d=u.animationTime,h=u.animationType,p=c||r>=o;if((r>=1||l)&&Ji(e),!(p||!i||!e.mounted)){var v=s||i.offsetWidth/2,w=t||i.offsetHeight/2,_=Ir(e,o,v,w);_&&yt(e,_,d,h)}}function Ir(e,s,t,r){var i=e.setup,a=i.minScale,o=i.maxScale,l=i.limitToBounds,u=bs(Ue(s,2),a,o,0,!1),c=Jt(e,u),d=qs(e,t,r,u,c,l),h=d.x,p=d.y;return{scale:u,positionX:h,positionY:p}}var Xt={previousScale:1,scale:1,positionX:0,positionY:0},$d=tt(tt({},Xt),{setComponents:function(){},contextInstance:null}),os={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},ta=function(e){var s,t,r,i;return{previousScale:(s=e.initialScale)!==null&&s!==void 0?s:Xt.scale,scale:(t=e.initialScale)!==null&&t!==void 0?t:Xt.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Xt.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Xt.positionY}},Cn=function(e){var s=tt({},os);return Object.keys(e).forEach(function(t){var r=typeof e[t]<"u",i=typeof os[t]<"u";if(i&&r){var a=Object.prototype.toString.call(os[t]),o=a==="[object Object]",l=a==="[object Array]";o?s[t]=tt(tt({},os[t]),e[t]):l?s[t]=bn(bn([],os[t]),e[t]):s[t]=e[t]}}),s},sa=function(e,s,t){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,o=a.maxScale,l=a.minScale,u=a.zoomAnimation,c=u.size;if(!i)throw new Error("Wrapper is not mounted");var d=r*Math.exp(s*t),h=bs(Ue(d,3),l,o,c,!1);return h};function ra(e,s,t,r,i){var a=e.wrapperComponent,o=e.transformState,l=o.scale,u=o.positionX,c=o.positionY;if(!a)return console.error("No WrapperComponent found");var d=a.offsetWidth,h=a.offsetHeight,p=(d/2-u)/l,v=(h/2-c)/l,w=sa(e,s,t),_=Ir(e,w,p,v);if(!_)return console.error("Error during zoom event. New transformation state was not calculated.");yt(e,_,r,i)}function na(e,s,t){var r=e.setup,i=e.wrapperComponent,a=r.limitToBounds,o=ta(e.props),l=e.transformState,u=l.scale,c=l.positionX,d=l.positionY;if(i){var h=Rr(e,o.scale),p=$s(o.positionX,o.positionY,h,a,0,0,i),v={scale:o.scale,positionX:p.x,positionY:p.y};u===o.scale&&c===o.positionX&&d===o.positionY||yt(e,v,s,t)}}function qd(e,s,t){var r=e.wrapperComponent,i=e.setup,a=i.limitToBounds,o=i.minScale,l=i.maxScale;if(!r)return Xt;var u=r.getBoundingClientRect(),c=Bd(s),d=c.x,h=c.y,p=s.offsetWidth,v=s.offsetHeight,w=r.offsetWidth/p,_=r.offsetHeight/v,P=bs(t||Math.min(w,_),o,l,0,!1),B=(u.width-p*P)/2,G=(u.height-v*P)/2,U=(u.left-d)*P+B,W=(u.top-h)*P+G,S=Rr(e,P),V=$s(U,W,S,a,0,0,r),H=V.x,z=V.y;return{positionX:H,positionY:z,scale:P}}function Bd(e){for(var s=e,t=0,r=0;s;)t+=s.offsetLeft,r+=s.offsetTop,s=s.offsetParent;return{x:t,y:r}}function Ud(e){if(e){if((e==null?void 0:e.offsetWidth)===void 0||(e==null?void 0:e.offsetHeight)===void 0)return console.error("Zoom node is not valid - it must contain offsetWidth and offsetHeight"),!1}else return console.error("Zoom node not found"),!1;return!0}var Yd=function(e){return function(s,t,r){s===void 0&&(s=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),ra(e,1,s,t,r)}},Wd=function(e){return function(s,t,r){s===void 0&&(s=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),ra(e,-1,s,t,r)}},zd=function(e){return function(s,t,r,i,a){i===void 0&&(i=300),a===void 0&&(a="easeOut");var o=e.transformState,l=o.positionX,u=o.positionY,c=o.scale,d=e.wrapperComponent,h=e.contentComponent,p=e.setup.disabled;if(!(p||!d||!h)){var v={positionX:isNaN(s)?l:s,positionY:isNaN(t)?u:t,scale:isNaN(r)?c:r};yt(e,v,i,a)}}},Vd=function(e){return function(s,t){s===void 0&&(s=200),t===void 0&&(t="easeOut"),na(e,s,t)}},Xd=function(e){return function(s,t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut");var i=e.transformState,a=e.wrapperComponent,o=e.contentComponent;if(a&&o){var l=ia(s||i.scale,a,o);yt(e,l,t,r)}}},Kd=function(e){return function(s,t,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),et(e);var a=e.wrapperComponent,o=typeof s=="string"?document.getElementById(s):s;if(a&&Ud(o)&&o&&a.contains(o)){var l=qd(e,o,t);yt(e,l,r,i)}}},fe=function(e){return{instance:e,state:e.transformState,zoomIn:Yd(e),zoomOut:Wd(e),setTransform:zd(e),resetTransform:Vd(e),centerView:Xd(e),zoomToElement:Kd(e)}},Gs=!1;function Zs(){try{var e={get passive(){return Gs=!0,!1}};return e}catch{return Gs=!1,Gs}}var Bs=function(e,s){var t=e.tagName.toUpperCase(),r=s.find(function(a){return a.toUpperCase()===t});if(r)return!0;var i=s.find(function(a){return e.classList.contains(a)});return!!i},_n=function(e){e&&clearTimeout(e)},Qd=function(e,s,t){return"translate3d("+e+"px, "+s+"px, 0) scale("+t+")"},ia=function(e,s,t){var r=t.offsetWidth*e,i=t.offsetHeight*e,a=(s.offsetWidth-r)/2,o=(s.offsetHeight-i)/2;return{scale:e,positionX:a,positionY:o}},Gd=function(e,s){var t=e.setup.wheel,r=t.disabled,i=t.wheelDisabled,a=t.touchPadDisabled,o=t.excluded,l=e.isInitialized,u=e.isPanning,c=s.target,d=l&&!u&&!r&&c;if(!d||i&&!s.ctrlKey||a&&s.ctrlKey)return!1;var h=Bs(c,o);return!h};function Zd(e,s){var t=e?e.deltaY<0?1:-1:0,r=ud(s,t);return r}function aa(e,s,t){var r=s.getBoundingClientRect(),i=0,a=0;if("clientX"in e)i=(e.clientX-r.left)/t,a=(e.clientY-r.top)/t;else{var o=e.touches[0];i=(o.clientX-r.left)/t,a=(o.clientY-r.top)/t}return(isNaN(i)||isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var Jd=function(e,s,t,r,i){var a=e.transformState.scale,o=e.wrapperComponent,l=e.setup,u=l.maxScale,c=l.minScale,d=l.zoomAnimation,h=d.size,p=d.disabled;if(!o)throw new Error("Wrapper is not mounted");var v=a+s*(a-a*t)*t;if(i)return v;var w=r?!1:!p,_=bs(Ue(v,3),c,u,h,w);return _},eh=function(e,s){var t=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,a=i.maxScale,o=i.minScale;return t?r<a||r>o||Math.sign(t.deltaY)!==Math.sign(s.deltaY)||t.deltaY>0&&t.deltaY<s.deltaY||t.deltaY<0&&t.deltaY>s.deltaY||Math.sign(t.deltaY)!==Math.sign(s.deltaY):!1},th=function(e,s){var t=e.setup.pinch,r=t.disabled,i=t.excluded,a=e.isInitialized,o=s.target,l=a&&!r&&o;if(!l)return!1;var u=Bs(o,i);return!u},sh=function(e){var s=e.setup.pinch.disabled,t=e.isInitialized,r=e.pinchStartDistance,i=t&&!s&&r;return!!i},rh=function(e,s,t){var r=t.getBoundingClientRect(),i=e.touches,a=Ue(i[0].clientX-r.left,5),o=Ue(i[0].clientY-r.top,5),l=Ue(i[1].clientX-r.left,5),u=Ue(i[1].clientY-r.top,5);return{x:(a+l)/2/s,y:(o+u)/2/s}},oa=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},nh=function(e,s){var t=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,a=i.maxScale,o=i.minScale,l=i.zoomAnimation,u=l.size,c=l.disabled;if(!t||r===null||!s)throw new Error("Pinch touches distance was not provided");if(s<0)return e.transformState.scale;var d=s/r,h=d*t;return bs(Ue(h,2),o,a,u,!c)},ih=160,ah=100,oh=function(e,s){var t=e.props,r=t.onWheelStart,i=t.onZoomStart;e.wheelStopEventTimer||(et(e),je(fe(e),s,r),je(fe(e),s,i))},lh=function(e,s){var t=e.props,r=t.onWheel,i=t.onZoom,a=e.contentComponent,o=e.setup,l=e.transformState,u=l.scale,c=o.limitToBounds,d=o.centerZoomedOut,h=o.zoomAnimation,p=o.wheel,v=h.size,w=h.disabled,_=p.step;if(!a)throw new Error("Component not mounted");s.preventDefault(),s.stopPropagation();var P=Zd(s,null),B=Jd(e,P,_,!s.ctrlKey);if(u!==B){var G=Jt(e,B),U=aa(s,a,u),W=w||v===0||d,S=c&&W,V=qs(e,U.x,U.y,B,G,S),H=V.x,z=V.y;e.previousWheelEvent=s,e.setTransformState(B,H,z),je(fe(e),s,r),je(fe(e),s,i)}},ch=function(e,s){var t=e.props,r=t.onWheelStop,i=t.onZoomStop;_n(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(ea(e,s.x,s.y),e.wheelAnimationTimer=null)},ah);var a=eh(e,s);a&&(_n(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,je(fe(e),s,r),je(fe(e),s,i))},ih))},uh=function(e,s){var t=oa(s);e.pinchStartDistance=t,e.lastDistance=t,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,et(e)},dh=function(e,s){var t=e.contentComponent,r=e.pinchStartDistance,i=e.transformState.scale,a=e.setup,o=a.limitToBounds,l=a.centerZoomedOut,u=a.zoomAnimation,c=u.disabled,d=u.size;if(!(r===null||!t)){var h=rh(s,i,t);if(!(!isFinite(h.x)||!isFinite(h.y))){var p=oa(s),v=nh(e,p);if(v!==i){var w=Jt(e,v),_=c||d===0||l,P=o&&_,B=qs(e,h.x,h.y,v,w,P),G=B.x,U=B.y;e.pinchMidpoint=h,e.lastDistance=p,e.setTransformState(v,G,U)}}}},hh=function(e){var s=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,ea(e,s==null?void 0:s.x,s==null?void 0:s.y)};function ph(e,s){var t=e.setup.doubleClick,r=t.disabled,i=t.mode,a=t.step,o=t.animationTime,l=t.animationType;if(!r){if(i==="reset")return na(e,o,l);var u=e.transformState.scale,c=e.contentComponent;if(!c)return console.error("No ContentComponent found");var d=i==="zoomOut"?-1:1,h=sa(e,d,a),p=aa(s,c,u),v=Ir(e,h,p.x,p.y);if(!v)return console.error("Error during zoom event. New transformation state was not calculated.");yt(e,v,o,l)}}var mh=function(e,s){var t=e.isInitialized,r=e.setup,i=e.wrapperComponent,a=r.doubleClick,o=a.disabled,l=a.excluded,u=s.target,c=i==null?void 0:i.contains(u),d=t&&u&&c&&!o;if(!d)return!1;var h=Bs(u,l);return!(h||!d)},la=Q.createContext($d),fh=function(e){cd(s,e);function s(){var t=e!==null&&e.apply(this,arguments)||this;return t.mounted=!0,t.transformState=ta(t.props),t.setup=Cn(t.props),t.wrapperComponent=null,t.contentComponent=null,t.isInitialized=!1,t.bounds=null,t.previousWheelEvent=null,t.wheelStopEventTimer=null,t.wheelAnimationTimer=null,t.isPanning=!1,t.startCoords=null,t.lastTouch=null,t.distance=null,t.lastDistance=null,t.pinchStartDistance=null,t.pinchStartScale=null,t.pinchMidpoint=null,t.velocity=null,t.velocityTime=null,t.lastMousePosition=null,t.animate=!1,t.animation=null,t.maxBounds=null,t.pressedKeys={},t.handleInitializeWrapperEvents=function(r){var i=Zs();r.addEventListener("wheel",t.onWheelZoom,i),r.addEventListener("dblclick",t.onDoubleClick,i),r.addEventListener("touchstart",t.onTouchPanningStart,i),r.addEventListener("touchmove",t.onTouchPanning,i),r.addEventListener("touchend",t.onTouchPanningStop,i)},t.handleInitialize=function(){var r=t.setup.centerOnInit;t.applyTransformation(),t.forceUpdate(),r&&(setTimeout(function(){t.mounted&&t.setCenter()},50),setTimeout(function(){t.mounted&&t.setCenter()},100),setTimeout(function(){t.mounted&&t.setCenter()},200))},t.onWheelZoom=function(r){var i=t.setup.disabled;if(!i){var a=Gd(t,r);if(a){var o=t.isPressingKeys(t.setup.wheel.activationKeys);o&&(oh(t,r),lh(t,r),ch(t,r))}}},t.onPanningStart=function(r){var i=t.setup.disabled,a=t.props.onPanningStart;if(!i){var o=xn(t,r);if(o){var l=t.isPressingKeys(t.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),et(t),Sn(t,r),je(fe(t),r,a))}}},t.onPanning=function(r){var i=t.setup.disabled,a=t.props.onPanning;if(!i){var o=wn(t);if(o){var l=t.isPressingKeys(t.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),Nn(t,r.clientX,r.clientY),je(fe(t),r,a))}}},t.onPanningStop=function(r){var i=t.props.onPanningStop;t.isPanning&&(Hd(t),je(fe(t),r,i))},t.onPinchStart=function(r){var i=t.setup.disabled,a=t.props,o=a.onPinchingStart,l=a.onZoomStart;if(!i){var u=th(t,r);u&&(uh(t,r),et(t),je(fe(t),r,o),je(fe(t),r,l))}},t.onPinch=function(r){var i=t.setup.disabled,a=t.props,o=a.onPinching,l=a.onZoom;if(!i){var u=sh(t);u&&(r.preventDefault(),r.stopPropagation(),dh(t,r),je(fe(t),r,o),je(fe(t),r,l))}},t.onPinchStop=function(r){var i=t.props,a=i.onPinchingStop,o=i.onZoomStop;t.pinchStartScale&&(hh(t),je(fe(t),r,a),je(fe(t),r,o))},t.onTouchPanningStart=function(r){var i=t.setup.disabled,a=t.props.onPanningStart;if(!i){var o=xn(t,r);if(o){var l=t.lastTouch&&+new Date-t.lastTouch<200;if(l&&r.touches.length===1)t.onDoubleClick(r);else{t.lastTouch=+new Date,et(t);var u=r.touches,c=u.length===1,d=u.length===2;c&&(et(t),Sn(t,r),je(fe(t),r,a)),d&&t.onPinchStart(r)}}}},t.onTouchPanning=function(r){var i=t.setup.disabled,a=t.props.onPanning;if(t.isPanning&&r.touches.length===1){if(i)return;var o=wn(t);if(!o)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];Nn(t,l.clientX,l.clientY),je(fe(t),r,a)}else r.touches.length>1&&t.onPinch(r)},t.onTouchPanningStop=function(r){t.onPanningStop(r),t.onPinchStop(r)},t.onDoubleClick=function(r){var i=t.setup.disabled;if(!i){var a=mh(t,r);a&&ph(t,r)}},t.clearPanning=function(r){t.isPanning&&t.onPanningStop(r)},t.setKeyPressed=function(r){t.pressedKeys[r.key]=!0},t.setKeyUnPressed=function(r){t.pressedKeys[r.key]=!1},t.isPressingKeys=function(r){return r.length?!!r.find(function(i){return t.pressedKeys[i]}):!0},t.setComponents=function(r,i){t.wrapperComponent=r,t.contentComponent=i,Jt(t,t.transformState.scale),t.handleInitializeWrapperEvents(r),t.handleInitialize(),t.handleRef(),t.isInitialized=!0,je(fe(t),void 0,t.props.onInit)},t.setTransformState=function(r,i,a){!isNaN(r)&&!isNaN(i)&&!isNaN(a)?(r!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=r),t.transformState.positionX=i,t.transformState.positionY=a,t.applyTransformation()):console.error("Detected NaN set state values")},t.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var r=ia(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(r.scale,r.positionX,r.positionY)}},t.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var r=t.transformState,i=r.scale,a=r.positionX,o=r.positionY,l=Qd(a,o,i);t.contentComponent.style.transform=l,t.handleRef()}},t.handleRef=function(){t.props.setRef(fe(t))},t}return s.prototype.componentDidMount=function(){var t=Zs();window.addEventListener("mousedown",this.onPanningStart,t),window.addEventListener("mousemove",this.onPanning,t),window.addEventListener("mouseup",this.onPanningStop,t),document.addEventListener("mouseleave",this.clearPanning,t),window.addEventListener("keyup",this.setKeyUnPressed,t),window.addEventListener("keydown",this.setKeyPressed,t),this.handleRef()},s.prototype.componentWillUnmount=function(){var t=Zs();window.removeEventListener("mousedown",this.onPanningStart,t),window.removeEventListener("mousemove",this.onPanning,t),window.removeEventListener("mouseup",this.onPanningStop,t),window.removeEventListener("keyup",this.setKeyUnPressed,t),window.removeEventListener("keydown",this.setKeyPressed,t),et(this)},s.prototype.componentDidUpdate=function(t){t!==this.props&&(Jt(this,this.transformState.scale),this.setup=Cn(this.props))},s.prototype.render=function(){var t=fe(this),r=this.props.children,i=typeof r=="function"?r(t):r;return Q.createElement(la.Provider,{value:tt(tt({},this.transformState),{setComponents:this.setComponents,contextInstance:this})},i)},s}(x.Component),gh=Q.forwardRef(function(e,s){var t=x.useState(null),r=t[0],i=t[1];return x.useImperativeHandle(s,function(){return r},[r]),Q.createElement(fh,tt({},e,{setRef:i}))});function vh(e,s){s===void 0&&(s={});var t=s.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var yh=`.transform-component-module_wrapper__1_Fgj {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__2jYgh {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__2jYgh img {
  pointer-events: none;
}
`,Tn={wrapper:"transform-component-module_wrapper__1_Fgj",content:"transform-component-module_content__2jYgh"};vh(yh);var bh=function(e){var s=e.children,t=e.wrapperClass,r=t===void 0?"":t,i=e.contentClass,a=i===void 0?"":i,o=e.wrapperStyle,l=e.contentStyle,u=x.useContext(la).setComponents,c=x.useRef(null),d=x.useRef(null);return x.useEffect(function(){var h=c.current,p=d.current;h!==null&&p!==null&&u&&u(h,p)},[]),Q.createElement("div",{ref:c,className:"react-transform-wrapper "+Tn.wrapper+" "+r,style:o},Q.createElement("div",{ref:d,className:"react-transform-component "+Tn.content+" "+a,style:l},s))};const ca="lightbox-image",xh=({children:e,containerNode:s,imgSrc:t})=>{const[r,i]=x.useState(!1),a=x.useRef(null),o=()=>{s&&de.unmountComponentAtNode(s)};return ni(o),n.jsxs("div",{className:"container",children:[!r&&n.jsx(Ya,{backgroundColor:"#000",color:"#ccc"}),n.jsx(gh,{doubleClick:{mode:"reset"},children:({zoomIn:l,zoomOut:u,resetTransform:c})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"content",ref:a,onClick:d=>{d.target===a.current&&o()},children:n.jsx(bh,{children:e(r,i)})}),n.jsxs("div",{className:"tools",children:[r&&n.jsxs(n.Fragment,{children:[n.jsx("button",{"aria-label":"Zoom in",onClick:()=>l(),children:n.jsx(Y.FontAwesomeIcon,{icon:Wa})}),n.jsx("button",{"aria-label":"Zoom out",onClick:()=>u(),children:n.jsx(Y.FontAwesomeIcon,{icon:za})}),n.jsx("button",{"aria-label":"Reset zoom",onClick:()=>c(),children:n.jsx(Y.FontAwesomeIcon,{icon:Va})}),n.jsx("a",{href:t,download:t.split("/").pop(),"aria-label":"Download high resolution image",children:n.jsx(Y.FontAwesomeIcon,{icon:Xa})})]}),n.jsx("button",{"aria-label":"Close",onClick:o,className:"close",children:n.jsx(Y.FontAwesomeIcon,{icon:ii})})]})]})})]})},wh=({src:e,alt:s,isLoaded:t,setIsLoaded:r})=>n.jsx(n.Fragment,{children:n.jsx("img",{onLoad:()=>{r(!0)},className:F({"lightbox__img--is-svg":e.endsWith(".svg")}),src:e,alt:s,style:{opacity:t?1:0,transition:"opacity 1s"}})}),kn=()=>{let e=document.querySelector(".lightbox");e||(e=document.createElement("div"),e.classList.add("lightbox"),document.body.appendChild(e)),Array.from(document.querySelectorAll(`.article-content img, .${ca}`)).forEach(s=>{s.closest("[data-no-lightbox]")||(s.classList.add("lightbox-enabled"),s.addEventListener("click",()=>{const t=s.getAttribute("data-high-res-src"),r=t?encodeURI(t):s.src,i=s.alt;r&&de.render(n.jsx(xh,{imgSrc:r,containerNode:e,children:(a,o)=>n.jsx(wh,{src:r,alt:i,isLoaded:a,setIsLoaded:o})}),e)}))})},jh=x.createContext(null),Js={didCatch:!1,error:null};class Sh extends x.Component{constructor(s){super(s),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Js}static getDerivedStateFromError(s){return{didCatch:!0,error:s}}resetErrorBoundary(){const{error:s}=this.state;if(s!==null){for(var t,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:a,reason:"imperative-api"}),this.setState(Js)}}componentDidCatch(s,t){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,s,t)}componentDidUpdate(s,t){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&t.error!==null&&Nh(s.resetKeys,i)){var a,o;(a=(o=this.props).onReset)===null||a===void 0||a.call(o,{next:i,prev:s.resetKeys,reason:"keys"}),this.setState(Js)}}render(){const{children:s,fallbackRender:t,FallbackComponent:r,fallback:i}=this.props,{didCatch:a,error:o}=this.state;let l=s;if(a){const u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(x.isValidElement(i))l=i;else if(typeof t=="function")l=t(u);else if(r)l=x.createElement(r,u);else throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return x.createElement(jh.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}}function Nh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==s.length||e.some((t,r)=>!Object.is(t,s[r]))}const Ch=({children:e,className:s})=>n.jsx(Sh,{FallbackComponent:t=>n.jsx(Us,{...t,className:s}),children:e}),Us=({error:e,resetErrorBoundary:s,className:t=""})=>{const r=ld();return n.jsxs("div",{className:t,style:{textAlign:"center",backgroundColor:"rgba(255,0,0,0.1)",padding:"20px",marginTop:"20px",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0},children:e.name}),r?n.jsxs(n.Fragment,{children:[n.jsx("div",{children:e.message}),s?n.jsx("div",{children:n.jsx("button",{style:{margin:"10px"},onClick:s,children:"Try again"})}):null]}):null]})},Dr=e=>`(max-width: 960px) 95vw, (min-width: 960px) ${Math.floor(1280*(e/12))}px`,er=Dr(5),Ns=Dr(6),Pn=Dr(7),En={default:Ns,"sticky-right-left-column":er,"sticky-right-right-column":Pn,"sticky-left-left-column":Pn,"sticky-left-right-column":er,"side-by-side":Ns,summary:Ns,thumbnail:"350px",datapage:Ns,"full-width":"100vw","key-insight":er};function xs(e){var p,v;const{filename:s,className:t="",containerType:r="default",shouldLightbox:i=!0}=e,{isPreviewing:a}=x.useContext(ns),o=Ih(s);if(!o)return a?n.jsx(Us,{className:t,error:{name:"Image error",message:`Image with filename "${s}" not found. This block will not render when the page is baked.`}}):null;const l=(p=e.alt)!=null?p:o.defaultAlt,u=r==="thumbnail"||!i?"":ca;if(a){const w=`${Ka}/${Qa}/${s}`;return n.jsx("img",{src:encodeURI(w),alt:l,className:F(u,t,"lazyload")})}if(s.endsWith(".svg")){const w=`${oi(s)}.png`,_=`${zs}${s}`;return n.jsxs("div",{className:t,children:[n.jsx("img",{src:encodeURI(_),alt:l,className:u}),r!=="thumbnail"?n.jsx("a",{className:"download-png-link",href:`${zs}${w}`,download:!0,children:"Download image"}):null]})}const c=ko(o.originalWidth),d=Po(c,s),h=`${zs}${s}`;return n.jsxs("picture",{className:t,children:[n.jsx("source",{srcSet:d,type:"image/webp",sizes:(v=En[r])!=null?v:En.default}),n.jsx("img",{src:encodeURI(h),alt:l,className:u,loading:"lazy"})]})}const tr={about:"about",coronavirus:"coronavirus",co2:"co2-and-greenhouse-gas-emissions",energy:"energy",forests:"forests-and-deforestation",biodiversity:"biodiversity",water:"clean-water-sanitation",explorers:"food-explorers"},An=()=>n.jsx("span",{className:"separator",children:n.jsx(Y.FontAwesomeIcon,{icon:Ls})}),_h=({items:e,className:s})=>n.jsxs("div",{className:s,children:[n.jsx("a",{href:"/",children:"Home"}),n.jsx(An,{}),e.map((t,r)=>{const i=r===e.length-1,a=!i&&t.href?n.jsx("a",{href:t.href,"data-track-note":"breadcrumb",children:t.label}):n.jsx("span",{children:t.label});return n.jsxs(Q.Fragment,{children:[a,!i&&n.jsx(An,{})]},t.label)})]});function On({content:e,authors:s,publishedAt:t,breadcrumbs:r}){const i=e["cover-color"]?{backgroundColor:`var(--${e["cover-color"]})`}:void 0,a=Rh(e["cover-color"]);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"centered-article-header__banner",style:i}),e["cover-image"]?n.jsx("div",{className:"centered-article-header__cover-image span-cols-14",children:n.jsx(xs,{filename:e["cover-image"],containerType:"full-width",shouldLightbox:!1})}):null,(r==null?void 0:r.length)&&n.jsx("div",{className:"centered-article-header__breadcrumbs-container col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12",children:n.jsx(_h,{items:r,className:`centered-article-header__breadcrumbs breadcrumbs-${a}`})}),n.jsxs("header",{className:F("centered-article-header align-center grid grid-cols-8 col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12"),children:[n.jsxs("div",{className:"centered-article-header__title-container col-start-2 span-cols-6",children:[e.supertitle?n.jsx("h3",{className:"centered-article-header__supertitle span-cols-8",children:e.supertitle}):null,n.jsx("h1",{className:"centered-article-header__title",children:e.title})]}),e.subtitle?n.jsx("h2",{className:"centered-article-header__subtitle col-start-2 span-cols-6",children:e.subtitle}):null,n.jsxs("div",{className:"centered-article-header__meta-container col-start-2 span-cols-6 grid grid-cols-2",children:[n.jsxs("div",{className:"span-cols-1 span-sm-cols-2",children:[n.jsxs("div",{className:"centered-article-header__byline",children:["By: ",n.jsx("a",{href:"/team",children:At({authors:s})})]}),n.jsx("div",{className:"centered-article-header__dateline body-3-medium-italic",children:e.dateline||t&&Ga(t)})]}),n.jsxs("div",{className:"span-cols-1 span-sm-cols-2",children:[n.jsxs("a",{href:"#article-citation",className:"body-1-regular display-block",children:[n.jsx(Y.FontAwesomeIcon,{icon:Za}),"Cite this article"]}),n.jsxs("a",{href:"#article-licence",className:"body-3-medium display-block",children:[n.jsx(Y.FontAwesomeIcon,{icon:Ja}),"Reuse our work freely"]})]})]})]})]})}function Th({content:e,authors:s}){return n.jsxs("header",{className:"topic-page-header grid span-cols-14 grid-cols-12-full-width",children:[n.jsx("h1",{className:"display-1-semibold col-start-2 span-cols-8",children:e.title}),n.jsx("p",{className:"topic-page-header__subtitle body-1-regular col-start-2 span-cols-8",children:e.subtitle}),n.jsxs("p",{className:"topic-page-header__byline col-start-2 span-cols-8 col-sm-start-2 span-sm-cols-12",children:["By ",n.jsx("a",{href:"/team",children:At({authors:s})})]})]})}function kh(e){return e.content.type===Yr.Article?n.jsx(On,{...e}):e.content.type===Yr.TopicPage?n.jsx(Th,{...e}):n.jsx(On,{...e})}function Ph(e){let s=0,t=0;for(;t+=e.offsetLeft,s+=e.offsetTop,!!e.offsetParent;)e=e.offsetParent;return{x:t,y:s}}const Rn=54,In=16;class Lr extends Q.Component{constructor(){super(...arguments),this.ulRef=x.createRef(),this.resizeObserver=null,this.state={currentHeadingIndex:void 0,headingPositions:[],links:this.props.links},this.handleResize=()=>{window.requestAnimationFrame(()=>this.setHeadingPositions())},this.handleScroll=Ce.throttle(()=>{this.setCurrentHeading()},50)}filterValidLinks(){const s=this.state.links.filter(t=>t.target.startsWith("#")&&document.querySelector(t.target));this.setState({links:s})}setCurrentHeading(){const{scrollY:s}=window;let t=0;for(let i=0;i<this.state.headingPositions.length;i++){const o=this.state.headingPositions[i].yPosition-Rn-In-32;if(s<=o)break;t=i}const r=this.ulRef.current;if(r){const i=r.parentElement;if(i&&i.scrollWidth<r.scrollWidth){const o=r.children[t],l=32;r.scrollTo({behavior:"smooth",left:o.offsetLeft-l})}}this.setState({currentHeadingIndex:t})}setHeadingPositions(){const s=[];this.state.links.forEach(({target:t},r)=>{const i=document.querySelector(t);if(i){const{y:a}=Ph(i);s.push({id:t,yPosition:a})}else{const a=r===0?0:s[r-1].yPosition;s.push({id:t,yPosition:a+1})}}),this.setState({headingPositions:s},()=>{this.setCurrentHeading()})}componentDidMount(){this.filterValidLinks(),window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(document.body)}componentWillUnmount(){var s;window.removeEventListener("scroll",this.handleScroll),(s=this.resizeObserver)==null||s.disconnect()}render(){return this.state.links?n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
                    [id] {
                         scroll-margin-top:${Rn+In}px;
                    }
                    .wp-sticky-container {
                        top: 70px;
                    }`}),n.jsx("ul",{className:F("sticky-nav-container",this.props.className),ref:this.ulRef,children:this.state.links.map((s,t)=>n.jsx("li",{children:n.jsx("a",{tabIndex:0,className:F({active:t===this.state.currentHeadingIndex}),href:s.target,children:s.text})},s.target))})]}):null}}const Eh=()=>{const e=document.querySelector(".sticky-nav");if(e){const s=document.querySelectorAll(".sticky-nav a"),t=[];for(const r of s){const i=r.innerText,a=r.hash;t.push({text:i,target:a})}de.hydrate(n.jsx(Lr,{links:t}),e)}},rs=x.createContext({linkedDocuments:{},imageMetadata:{},linkedCharts:{},relatedCharts:[]}),ns=x.createContext({isPreviewing:!1});function Ah({content:e,publishedAt:s,slug:t,breadcrumbs:r,linkedCharts:i={},linkedDocuments:a={},imageMetadata:o={},relatedCharts:l=[],isPreviewing:u=!1}){const c=`${At({authors:e.authors})} (${s==null?void 0:s.getFullYear()}) - "${e.title}". Published online at OurWorldInData.org. Retrieved from: '${`${be}/${t}`}' [Online Resource]`,d=`@article{owid-${t.replace(/\//g,"-")},
    author = {${At({authors:e.authors,forBibtex:!0})}},
    title = {${e.title}},
    journal = {Our World in Data},
    year = {${s==null?void 0:s.getFullYear()}},
    note = {${be}/${t}}
}`,h=e["sticky-nav"];return n.jsx(rs.Provider,{value:{linkedDocuments:a,imageMetadata:o,linkedCharts:i,relatedCharts:l},children:n.jsx(ns.Provider,{value:{isPreviewing:u},children:n.jsxs("article",{className:F("centered-article-container grid grid-cols-12-full-width",{[`centered-article-container--${e.type}`]:e.type}),children:[n.jsx(kh,{content:e,authors:e.authors,publishedAt:s,breadcrumbs:r!=null?r:void 0}),e.type==="topic-page"&&h?n.jsx("nav",{className:"sticky-nav sticky-nav--dark span-cols-14 grid grid-cols-12-full-width",children:n.jsx(Lr,{links:h,className:"span-cols-12 col-start-2"})}):null,e.summary?n.jsxs("details",{className:"article-summary col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12",open:!0,children:[n.jsx("summary",{children:"Summary"}),n.jsx(ot,{blocks:e.summary,containerType:"summary"})]}):null,e.body?n.jsx(ot,{toc:e.toc,blocks:e.body}):null,e.refs&&!Ce.isEmpty(e.refs.definitions)?n.jsx(ad,{definitions:e.refs.definitions}):null,n.jsx("section",{id:to,className:"grid grid-cols-12-full-width col-start-1 col-end-limit",children:n.jsxs("div",{className:"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12",children:[n.jsx("h3",{children:"Cite this work"}),n.jsx("p",{children:"Our articles and data visualizations rely on work from many different people and organizations. When citing this topic page, please also cite the underlying data sources. This topic page can be cited as:"}),n.jsx("div",{children:n.jsx(Tt,{code:c})}),n.jsx("p",{children:"BibTeX citation"}),n.jsx("div",{children:n.jsx(Tt,{code:d})})]})}),n.jsx("section",{id:so,className:"grid grid-cols-12-full-width col-start-1 col-end-limit",children:n.jsxs("div",{className:"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12",children:[n.jsx("img",{src:`${be}/owid-logo.svg`,className:"img-raw",alt:"Our World in Data logo"}),n.jsx("h3",{children:"Reuse this work freely"}),n.jsxs("p",{children:["All visualizations, data, and code produced by Our World in Data are completely open access under the"," ",n.jsx("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",children:"Creative Commons BY license"}),". You have the permission to use, distribute, and reproduce these in any medium, provided the source and authors are credited."]}),n.jsx("p",{children:"The data produced by third parties and made available by Our World in Data is subject to the license terms from the original third-party authors. We will always indicate the original source of the data in our documentation, so you should always check the license of any such third-party data before use and redistribution."}),n.jsxs("p",{children:["All of"," ",n.jsx("a",{href:"/how-to-use-our-world-in-data#how-to-embed-interactive-charts-in-your-article",children:"our charts can be embedded"})," ","in any site."]})]})})]})})})}const Oh=(e,s)=>{const t=document.querySelector("#owid-document-root"),r=eo(window._OWID_GDOC_PROPS);de.hydrate(n.jsx(Q.StrictMode,{children:n.jsx(Ki,{debug:e,children:n.jsx(Ah,{...r,isPreviewing:s})})}),t)},Rh=e=>{switch(e){case"sdg-color-1":case"sdg-color-3":case"sdg-color-4":case"sdg-color-5":case"sdg-color-8":case"sdg-color-10":case"sdg-color-13":case"sdg-color-14":case"sdg-color-16":case"sdg-color-17":return"white";case"sdg-color-2":case"sdg-color-6":case"sdg-color-7":case"sdg-color-9":case"sdg-color-11":case"sdg-color-12":case"sdg-color-15":case"amber":case void 0:return"blue"}},ws=e=>{const{linkedDocuments:s}=x.useContext(rs);let t,r;if(Ms(e)!=="gdoc")return{linkedDocument:r};const a=Ke.fromURL(e),o=a.queryStr,l=a.hash,u=li(e);if(r=s==null?void 0:s[u],r)r.published||(t=`Article with slug "${r.slug}" isn't published.`);else return t=`Google doc URL ${e} isn't registered.`,{errorMessage:t};return{linkedDocument:{...r,slug:`${r.slug}${o}${l}`},errorMessage:t}},Mr=e=>{const{linkedCharts:s}=x.useContext(rs),t=Ms(e);if(t!=="grapher"&&t!=="explorer")return{};const r=Ke.fromURL(e).queryStr,i=li(e),a=s==null?void 0:s[i];return a?{linkedChart:{...a,resolvedUrl:`${a.resolvedUrl}${r}`}}:{errorMessage:`${t} chart with slug ${i} not found`}},Ih=e=>{const{imageMetadata:s}=x.useContext(rs);return e?s[e]:void 0},Dh=({span:e})=>{const s=Ms(e.url),{linkedDocument:t}=ws(e.url),{linkedChart:r}=Mr(e.url);return s==="url"?n.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"span-link",children:se(e.children)}):r?n.jsx("a",{href:r.resolvedUrl,className:"span-link",children:se(e.children)}):t&&t.published&&t.slug?n.jsx("a",{href:`/${t.slug}`,className:"span-link",children:se(e.children)}):n.jsx(n.Fragment,{children:se(e.children)})};function ua(e,s=void 0){return ai(e).with({spanType:"span-simple-text"},t=>n.jsx(Q.Fragment,{children:t.text},s)).with({spanType:"span-link"},t=>n.jsx(Dh,{span:t},s)).with({spanType:"span-ref"},t=>n.jsx("a",{href:t.url,className:"ref",children:se(t.children)},s)).with({spanType:"span-dod"},t=>n.jsx("span",{children:n.jsx("a",{"data-id":`${t.id}`,className:"dod-span",children:se(t.children)})},s)).with({spanType:"span-newline"},()=>n.jsx("br",{},s)).with({spanType:"span-italic"},t=>n.jsx("em",{children:se(t.children)},s)).with({spanType:"span-bold"},t=>n.jsx("strong",{children:se(t.children)},s)).with({spanType:"span-underline"},t=>n.jsx("u",{children:se(t.children)},s)).with({spanType:"span-subscript"},t=>n.jsx("sub",{children:se(t.children)},s)).with({spanType:"span-superscript"},t=>n.jsx("sup",{children:se(t.children)},s)).with({spanType:"span-quote"},t=>n.jsx("q",{children:se(t.children)},s)).with({spanType:"span-fallback"},t=>n.jsx(Q.Fragment,{children:se(t.children)},s)).exhaustive()}function se(e){return e.map(ua)}function Fr({d:e,className:s}){const t=x.useRef(null);Ds(0,t);const{linkedChart:r}=Mr(e.url);if(!r)return null;const i=Ke.fromURL(e.url),a=r.resolvedUrl,o=i.isExplorer,l=i.queryParams.hideControls!=="true",u=e.height||(o&&l?700:575);let c={};const d=e.title||e.subtitle;if(d){const h=e.controls||[],p=e.tabs||[],v=h.includes(Je.all),w=p.includes(ls.all),_=[...h,...p].map(Lh).filter(Ce.identity);c=Ce.merge({},v?{}:ro,w?{}:no,..._,{hideRelatedQuestion:!0},{title:e.title,subtitle:e.subtitle}),c.title&&(c.forceHideAnnotationFieldsInTitle={entity:!0,time:!0,changeInPrefix:!0})}return n.jsxs("div",{className:F(e.position,s),style:{gridRow:e.row,gridColumn:e.column},ref:t,children:[n.jsx("figure",{"data-grapher-src":o?void 0:a,"data-explorer-src":o?a:void 0,"data-grapher-config":d&&!o?JSON.stringify(c):void 0,style:{width:"100%",border:"0px none",height:u}},a),e.caption?n.jsx("figcaption",{children:se(e.caption)}):null]})}const Lh=e=>{switch(e){case Je.relativeToggle:return{hideRelativeToggle:!1};case Je.timeline:return{hideTimeline:!1,map:{hideTimeline:!1}};case Je.facetControl:return{hideFacetControl:!1};case Je.entitySelector:return{hideEntityControls:!1};case Je.zoomToggle:return{hideZoomToggle:!1};case Je.noDataAreaToggle:return{hideNoDataAreaToggle:!1};case Je.alignAxisScalesToggle:return{hideFacetYDomainToggle:!1};case Je.xLogLinearSelector:return{hideXScaleToggle:!1};case Je.yLogLinearSelector:return{hideYScaleToggle:!1};case ls.chart:return{hasChartTab:!0};case ls.map:return{hasMapTab:!0};case ls.table:return{hasTableTab:!0};case ls.download:return{hasDownloadTab:!0};default:return null}};function Mh({d:e,className:s=""}){const{items:t}=e,[r,i]=x.useState(0),[a,o]=x.useState(t[0]),l=!!a.technical.length,u=t.length-1,c=x.useRef(null);return Ds(r,c),n.jsxs("div",{className:F(s,"chart-story grid grid-cols-8"),children:[n.jsx("div",{className:"chart-story__nav-hud span-cols-8 overline-black-caps align-center ",children:`Chart ${r+1} of ${t.length}`}),n.jsx("button",{disabled:r===0,className:"chart-story__nav-arrow chart-story__nav-arrow--left span-cols-1 align-center ",onClick:()=>{o(t[Math.max(0,r-1)]),i(Math.max(0,r-1))},children:n.jsx(Y.FontAwesomeIcon,{icon:io})}),n.jsx("div",{className:"chart-story__narrative-text span-cols-6 h3-bold align-center",children:se(a.narrative.value)}),n.jsx("button",{disabled:r===u,className:"chart-story__nav-arrow chart-story__nav-arrow--right span-cols-1 col-start-8 align-center",onClick:()=>{o(t[Math.min(u,r+1)]),i(Math.min(u,r+1))},children:n.jsx(Y.FontAwesomeIcon,{icon:ao})}),n.jsx("div",{className:"chart-story__chart span-cols-8",ref:c,children:n.jsx(Fr,{d:a.chart})}),l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"chart-story__technical-text span-cols-8 overline-black-caps",children:"About this chart"}),n.jsx("div",{className:"chart-story__technical-details span-cols-8 grid grid-cols-8",children:n.jsx("ul",{className:"span-cols-6 col-start-2",children:a.technical.map((d,h)=>n.jsx("li",{className:"body-3-medium",children:se(d.value)},h))})})]}):null]})}function fr(){return fr=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fr.apply(this,arguments)}function Fh(e,s){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(s.indexOf(i)>=0)&&(t[i]=e[i]);return t}const gr=new Map,Cs=new WeakMap;let Dn=0,Hh;function $h(e){return e?(Cs.has(e)||(Dn+=1,Cs.set(e,Dn.toString())),Cs.get(e)):"0"}function qh(e){return Object.keys(e).sort().filter(s=>e[s]!==void 0).map(s=>`${s}_${s==="root"?$h(e.root):e[s]}`).toString()}function Bh(e){let s=qh(e),t=gr.get(s);if(!t){const r=new Map;let i;const a=new IntersectionObserver(o=>{o.forEach(l=>{var u;const c=l.isIntersecting&&i.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(u=r.get(l.target))==null||u.forEach(d=>{d(c,l)})})},e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:s,observer:a,elements:r},gr.set(s,t)}return t}function Uh(e,s,t={},r=Hh){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const u=e.getBoundingClientRect();return s(r,{isIntersecting:r,target:e,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:i,observer:a,elements:o}=Bh(t);let l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(s),a.observe(e),function(){l.splice(l.indexOf(s),1),l.length===0&&(o.delete(e),a.unobserve(e)),o.size===0&&(a.disconnect(),gr.delete(i))}}const Yh=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Ln(e){return typeof e.children!="function"}class Wh extends x.Component{constructor(s){super(s),this.node=null,this._unobserveCb=null,this.handleNode=t=>{this.node&&(this.unobserve(),!t&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=t||null,this.observeNode()},this.handleChange=(t,r)=>{t&&this.props.triggerOnce&&this.unobserve(),Ln(this.props)||this.setState({inView:t,entry:r}),this.props.onChange&&this.props.onChange(t,r)},this.state={inView:!!s.initialInView,entry:void 0}}componentDidUpdate(s){(s.rootMargin!==this.props.rootMargin||s.root!==this.props.root||s.threshold!==this.props.threshold||s.skip!==this.props.skip||s.trackVisibility!==this.props.trackVisibility||s.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:s,root:t,rootMargin:r,trackVisibility:i,delay:a,fallbackInView:o}=this.props;this._unobserveCb=Uh(this.node,this.handleChange,{threshold:s,root:t,rootMargin:r,trackVisibility:i,delay:a},o)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!Ln(this.props)){const{inView:a,entry:o}=this.state;return this.props.children({inView:a,entry:o,ref:this.handleNode})}const s=this.props,{children:t,as:r}=s,i=Fh(s,Yh);return x.createElement(r||"div",fr({ref:this.handleNode},i),t)}}function zh({d:e,className:s=""}){const[t,r]=x.useState(e.blocks[0].url),i=x.useRef(null),[a,o]=x.useState(0);return Ds(a,i),n.jsxs("section",{className:F("scroller",s),children:[n.jsx("div",{className:"scroller__paragraph-container span-cols-6 col-start-1 span-sm-cols-12",children:e.blocks.map((l,u)=>n.jsx(Wh,{className:"scroller__paragraph-intersection-wrapper",threshold:.67,onChange:c=>{c&&(r(l.url),o(u))},children:n.jsx("p",{className:"scroller__paragraph",children:se(l.text.value)})},u))}),t?n.jsx("div",{className:"scroller__chart-container span-cols-6 col-start-7 span-sm-cols-12 col-sm-start-1",ref:i,children:n.jsx("figure",{className:"scroller__chart","data-grapher-src":t,style:{width:"100%",height:"550px",border:"0px none"}},t)}):null]})}function Vh({d:e,className:s=""}){return n.jsx("blockquote",{className:s,children:e.text.map(t=>t.text).join(`
`)})}function Xh({url:e}){const{linkedDocument:s}=ws(e);return s?n.jsxs("aside",{className:"recirc-article-container",children:[n.jsx("h3",{className:"h3-bold",children:n.jsx("a",{href:`/${s.slug}`,children:s.content.title})}),s.content.authors?n.jsx("div",{className:"body-3-medium-italic",children:At({authors:s.content.authors})}):null]}):null}function Kh({d:e,className:s=""}){return n.jsx("div",{className:s,children:n.jsxs("div",{className:"recirc-content",children:[n.jsx("span",{className:"recirc-content__heading overline-black-caps",children:ua(e.title)}),e.links.map(({url:t})=>n.jsx(Xh,{url:t},t))]})})}function Qh({d:e,className:s=""}){return n.jsx("ul",{className:s,children:e.items.map((t,r)=>n.jsx("li",{children:se(t.value)},r))})}function Gh({d:e,className:s=""}){return n.jsx("ol",{className:s,children:e.items.map((t,r)=>n.jsx("li",{children:se(t.value)},r))})}function Zh({d:e,className:s=""}){return n.jsx("ul",{className:F("sdg-grid",s),children:e.items.map((t,r)=>n.jsx(Jh,{number:r+1,goal:t.goal,link:t.link},r))})}const Jh=({number:e,goal:s,link:t})=>{const r=e.toString().padStart(2,"0"),i=`${be}/images/sdg-icons/sdg-icon-${r}.svg`;return n.jsx("li",{className:"span-cols-2 span-lg-cols-4 span-sm-cols-8 col-sm-start-3",style:{"--sdg-color":`var(--sdg-color-${e})`},children:n.jsxs("a",{href:t,children:[n.jsx("div",{className:"sdg-grid__icon",style:{mask:`url(${i}) no-repeat center`,WebkitMask:`url(${i}) no-repeat center`}}),n.jsxs("h4",{className:"overline-black-caps",children:["SDG ",e]}),n.jsx("span",{className:"h3-bold goal",children:s})]})},e)};function ep(e){return e.every(s=>{const t=s.spanType==="span-newline",i=s.spanType==="span-simple-text"&&s.text==="";return t||i})}function da({d:e,className:s=""}){return ep(e.value)?null:n.jsx("p",{className:s,children:se(e.value)})}function tp(e){const s=parseFloat(e);return!isNaN(s)&&isFinite(s)}function Mn(e){return typeof e=="string"&&e[e.length-1]==="%"&&tp(e.substring(0,e.length-1))}function sr(e,s){s===0&&(e!=null&&e.style)&&(e.style.display="none")}function sp(e,s){s===0&&(e!=null&&e.style)&&(e.style.display="")}const rp={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"};function Fn(e,s){return[e.static,s===0&&e.staticHeightZero,s>0&&e.staticHeightSpecific,s==="auto"&&e.staticHeightAuto].filter(t=>t).join(" ")}const np=["animateOpacity","animationStateClasses","applyInlineTransitions","children","className","contentClassName","delay","duration","easing","height","onHeightAnimationEnd","onHeightAnimationStart","style"],ha=e=>{const{animateOpacity:s=!1,animationStateClasses:t={},applyInlineTransitions:r=!0,children:i,className:a="",contentClassName:o,delay:l=0,duration:u=500,easing:c="ease",height:d,onHeightAnimationEnd:h,onHeightAnimationStart:p,style:v}=e,w=Object.assign({},e);np.forEach(Ae=>{delete w[Ae]});const _=x.useRef(d),P=x.useRef(null),B=x.useRef(),G=x.useRef(),U=x.useRef(Object.assign(Object.assign({},rp),t)),W=typeof window<"u",S=x.useRef(W&&window.matchMedia?window.matchMedia("(prefers-reduced-motion)").matches:!1),V=S.current?0:l,H=S.current?0:u;let z=d,Pe="visible";typeof z=="number"?(z=d<0?0:d,Pe="hidden"):Mn(z)&&(z=d==="0%"?0:d,Pe="hidden");const[Ee,He]=x.useState(z),[Ye,$e]=x.useState(Pe),[st,We]=x.useState(!1),[lt,ze]=x.useState(Fn(U.current,d));x.useEffect(()=>{sr(P.current,Ee)},[]),x.useEffect(()=>{if(d!==_.current&&P.current){sp(P.current,_.current),P.current.style.overflow="hidden";const Ae=P.current.offsetHeight;P.current.style.overflow="";const Qe=H+V;let ge,he,Oe="hidden",f;const g=_.current==="auto";typeof d=="number"?(ge=d<0?0:d,he=ge):Mn(d)?(ge=d==="0%"?0:d,he=ge):(ge=Ae,he="auto",Oe=void 0),g&&(he=ge,ge=Ae);const y=[U.current.animating,(_.current==="auto"||d<_.current)&&U.current.animatingUp,(d==="auto"||d>_.current)&&U.current.animatingDown,he===0&&U.current.animatingToHeightZero,he==="auto"&&U.current.animatingToHeightAuto,he>0&&U.current.animatingToHeightSpecific].filter(E=>E).join(" "),j=Fn(U.current,he);He(ge),$e("hidden"),We(!g),ze(y),clearTimeout(G.current),clearTimeout(B.current),g?(f=!0,G.current=setTimeout(()=>{He(he),$e(Oe),We(f),p==null||p(he)},50),B.current=setTimeout(()=>{We(!1),ze(j),sr(P.current,he),h==null||h(he)},Qe)):(p==null||p(ge),G.current=setTimeout(()=>{He(he),$e(Oe),We(!1),ze(j),d!=="auto"&&sr(P.current,ge),h==null||h(ge)},Qe))}return _.current=d,()=>{clearTimeout(G.current),clearTimeout(B.current)}},[d]);const ke=Object.assign(Object.assign({},v),{height:Ee,overflow:Ye||(v==null?void 0:v.overflow)});st&&r&&(ke.transition=`height ${H}ms ${c} ${V}ms`,v!=null&&v.transition&&(ke.transition=`${v.transition}, ${ke.transition}`),ke.WebkitTransition=ke.transition);const qe={};s&&(qe.transition=`opacity ${H}ms ${c} ${V}ms`,qe.WebkitTransition=qe.transition,Ee===0&&(qe.opacity=0));const rt=typeof w["aria-hidden"]<"u"?w["aria-hidden"]:d===0;return Q.createElement("div",Object.assign({},w,{"aria-hidden":rt,className:`${lt} ${a}`,style:ke}),Q.createElement("div",{className:o,style:qe,ref:P},i))};function ip({toc:e,className:s=""}){const[t,r]=x.useState(0),[i,a]=x.useState(!1),o=()=>{r(t===0?"auto":0)};return n.jsxs("nav",{className:F(s,"sdg-toc",{open:i}),role:"button",onClick:o,"aria-haspopup":"true","aria-controls":"sdg-toc-menu","data-track-note":"sdg_toc_toggle",children:[n.jsxs("button",{id:"sdg-toc-menu-button",className:"sdg-toc-toggle span-cols-6 span-md-cols-8 span-sm-cols-10",onClick:o,"aria-haspopup":"true","aria-controls":"sdg-toc-menu","data-track-note":"sdg_toc_toggle",children:[n.jsx("span",{children:"List of targets and indicators"}),n.jsx("span",{children:n.jsx(Y.FontAwesomeIcon,{icon:i?oo:ii})})]}),n.jsx(ha,{className:"sdg-toc-content span-cols-6 span-md-cols-8 span-sm-cols-10",height:t,onHeightAnimationStart:l=>{l!==0&&a(!0)},onHeightAnimationEnd:l=>{l===0&&a(!1)},animateOpacity:!0,children:n.jsx("ul",{id:"sdg-toc-menu",role:"menu","aria-labelledby":"sdg-toc-menu-button",children:e.map(({title:l,supertitle:u,isSubheading:c,slug:d},h)=>n.jsxs("li",{className:c?"subsection":"section",role:"none",children:[n.jsxs("a",{href:`#${d}`,"data-track-note":"sdg_toc_link",role:"menuitem",onClick:p=>p.stopPropagation(),children:[u?n.jsx("span",{className:"supertitle",children:u}):null,l]}),!c&&n.jsx(Y.FontAwesomeIcon,{icon:lo})]},h))})})]})}const ap=({className:e})=>n.jsxs("div",{className:e,children:[n.jsxs("h4",{children:[n.jsx(Y.FontAwesomeIcon,{icon:co}),"No data for this indicator"]}),n.jsxs("p",{children:["We are currently not aware of data for this indicator. You can notify us of available data for this indicator via our"," ",n.jsx("a",{href:"/feedback",children:"feedback form"}),"."]})]});function op({item:e}){return e.length===1&&e[0].spanType==="span-link"?n.jsxs("a",{href:e[0].url,children:[se(e[0].children)," ",n.jsx(Y.FontAwesomeIcon,{icon:ks})]}):null}const lp=({items:e,className:s})=>n.jsxs("div",{className:s,children:[n.jsx("h4",{children:"Additional charts"}),n.jsx("ul",{children:e.map((t,r)=>n.jsx("li",{children:n.jsx(op,{item:t})},r))})]}),cp=e=>{const s=Ms(e.url),{linkedDocument:t,errorMessage:r}=ws(e.url),{linkedChart:i,errorMessage:a}=Mr(e.url),o=r||a,{isPreviewing:l}=x.useContext(ns);if(o)return l?n.jsx("div",{className:e.className,children:n.jsx(Us,{className:"span-cols-6 span-md-cols-10 span-sm-cols-12",error:{name:"Error with prominent link",message:`${o} This block won't render when the page is published`}})}):null;let u=e.url,c=e.title,d=e.description,h=e.thumbnail;s==="gdoc"?(u=`/${t==null?void 0:t.slug}`,c=c!=null?c:t==null?void 0:t.content.title,d=d!=null?d:t==null?void 0:t.content.excerpt,h=h!=null?h:t==null?void 0:t.content["featured-image"]):(s==="grapher"||s==="explorer")&&(u=`${i==null?void 0:i.resolvedUrl}`,c=c!=null?c:i==null?void 0:i.title,h=h!=null?h:i==null?void 0:i.thumbnail,d=(d!=null?d:s==="grapher")?"See the data in our interactive visualization":"");const p=s==="url"?{target:"_blank",rel:"noopener noreferrer"}:void 0,v=h?"col-sm-start-4 col-md-start-3 col-start-2 col-end-limit":"col-start-1 col-end-limit";return n.jsxs("a",{className:F(e.className,"prominent-link"),href:u,...p,children:[h?n.jsx("div",{className:"prominent-link__image span-sm-cols-3 span-md-cols-2",children:n.jsx(xs,{filename:h,containerType:"thumbnail"})}):null,n.jsxs("div",{className:v,children:[n.jsx("h3",{className:"h3-bold",children:c}),d?n.jsx("p",{className:"body-3-medium",children:d}):null]})]})},pa=e=>{const r="calc(100% - 40px)",[i,a]=x.useState(100),o=x.useRef(null),l=x.useRef(null),u=i===100,{className:c,buttonVariant:d="full",...h}=e,p=()=>{const _=o.current,P=l.current;if(_&&P&&!u){const B=_.getBoundingClientRect().top,G=P.getBoundingClientRect().top;window.scrollTo({top:window.scrollY+B-G+100+40/2,behavior:"smooth"}),setTimeout(()=>{a(u?r:100)},1e3)}else a(u?r:100)},w={WebkitMaskImage:`linear-gradient(180deg, #000 0%, ${u?"transparent":"#000"})`,transition:"height 200ms",height:i};return n.jsxs("div",{className:F("expandable-paragraph",c),children:[n.jsx("div",{style:w,ref:o,...h,className:"expandable-paragraph__content"}),n.jsx("button",{className:F("expandable-paragraph__expand-button",`expandable-paragraph__expand-button--${d}`),style:{height:40,position:"relative",top:u?void 0:-40},onClick:p,ref:l,children:u?"Show more":"Show less"})]})},up=()=>{document.querySelectorAll(".expandable-paragraph").forEach(s=>{const t=s.innerHTML;de.hydrate(n.jsx(pa,{dangerouslySetInnerHTML:{__html:t},buttonVariant:"slim"}),s.parentElement)})};function dp({text:e,url:s}){const{linkedDocument:t,errorMessage:r}=ws(s),{isPreviewing:i}=x.useContext(ns);if(r&&i)return n.jsx("li",{children:r});const a=(t==null?void 0:t.content.title)||e,o=t!=null&&t.slug?`/${t==null?void 0:t.slug}`:s;return n.jsx("li",{children:n.jsx("a",{href:o,children:a})})}function hp(e){var s;return n.jsxs("div",{className:e.className,id:"introduction",children:[n.jsx("div",{className:"topic-page-intro__content body-1-regular span-cols-6 span-md-cols-8 span-sm-cols-12",children:e.content.map((t,r)=>n.jsx(da,{d:t},r))}),n.jsxs("div",{className:"topic-page-intro__links col-start-9 span-cols-4 col-md-start-1 span-md-cols-12",children:[e.downloadButton?n.jsx("div",{className:"topic-page-intro__download-button",children:n.jsx("a",{href:e.downloadButton.url,target:"_blank",rel:"noopener noreferrer",children:e.downloadButton.text})}):null,(s=e.relatedTopics)!=null&&s.length?n.jsxs("aside",{className:"topic-page-intro__related-topics",children:[n.jsx("h4",{className:"overline-black-caps",children:"Related topics"}),n.jsx("ul",{children:e.relatedTopics.map(t=>n.jsx(dp,{...t},t.url))})]}):null]})]})}var vr={exports:{}};(function(e,s){(function(t,r){r(s,x)})(wr,function(t,r){function i(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var a=i(r);const o="react-horizontal-scrolling-menu",l="-separator",u=`${o}-${l}`,c=`${o}--item`,d=`${o}--scroll-container`,h=`${o}--wrapper`,p=`${o}--inner-wrapper`,v=`${o}--header`,w=`${o}--arrow-left`,_=`${o}--arrow-right`,P=`${o}--footer`,B="itemId",G="data-key",U="data-index";var W=Object.freeze({__proto__:null,rootClassName:o,separatorString:l,separatorClassName:u,itemClassName:c,scrollContainerClassName:d,wrapperClassName:h,innerWrapperClassName:p,headerClassName:v,arrowLeftClassName:w,arrowRightClassName:_,footerClassName:P,id:B,dataKeyAttribute:G,dataIndexAttribute:U});function S({className:m="",children:b,onScroll:C=()=>{},scrollRef:k}){const T=a.default.useMemo(()=>`${d} ${m}`,[m]);return a.default.createElement("div",{className:T,onScroll:C,ref:k},b)}var V=a.default.memo(function({className:m,id:b,index:C,refs:k}){const T=a.default.useRef(null);return k[C]=T,a.default.createElement("div",Object.assign({className:m},{[G]:b,[U]:C},{ref:T}))}),H=a.default.memo(function({children:m,className:b,id:C,index:k,refs:T}){const N=a.default.useRef(null);return T[String(k)]=N,a.default.createElement("div",Object.assign({className:b},{[G]:C,[U]:k},{ref:N}),m)});function z(m){return typeof m=="object"&&m!=null&&m.nodeType===1}function Pe(m,b){return(!b||m!=="hidden")&&m!=="visible"&&m!=="clip"}function Ee(m,b){if(m.clientHeight<m.scrollHeight||m.clientWidth<m.scrollWidth){var C=getComputedStyle(m,null);return Pe(C.overflowY,b)||Pe(C.overflowX,b)||function(k){var T=function(N){if(!N.ownerDocument||!N.ownerDocument.defaultView)return null;try{return N.ownerDocument.defaultView.frameElement}catch{return null}}(k);return!!T&&(T.clientHeight<k.scrollHeight||T.clientWidth<k.scrollWidth)}(m)}return!1}function He(m,b,C,k,T,N,A,D){return N<m&&A>b||N>m&&A<b?0:N<=m&&D<=C||A>=b&&D>=C?N-m-k:A>b&&D<C||N<m&&D>C?A-b+T:0}var Ye,$e=function(m,b){var C=window,k=b.scrollMode,T=b.block,N=b.inline,A=b.boundary,D=b.skipOverflowHiddenElements,$=typeof A=="function"?A:function(at){return at!==A};if(!z(m))throw new TypeError("Invalid target");for(var X,O,L=document.scrollingElement||document.documentElement,ee=[],J=m;z(J)&&$(J);){if((J=(O=(X=J).parentElement)==null?X.getRootNode().host||null:O)===L){ee.push(J);break}J!=null&&J===document.body&&Ee(J)&&!Ee(document.documentElement)||J!=null&&Ee(J,D)&&ee.push(J)}for(var ve=C.visualViewport?C.visualViewport.width:innerWidth,we=C.visualViewport?C.visualViewport.height:innerHeight,Se=window.scrollX||pageXOffset,_e=window.scrollY||pageYOffset,Re=m.getBoundingClientRect(),ct=Re.height,bt=Re.width,nt=Re.top,Mt=Re.right,is=Re.bottom,Ft=Re.left,Ie=T==="start"||T==="nearest"?nt:T==="end"?is:nt+ct/2,De=N==="center"?Ft+bt/2:N==="end"?Mt:Ft,Ge=[],Ht=0;Ht<ee.length;Ht++){var pe=ee[Ht],Le=pe.getBoundingClientRect(),xt=Le.height,Ve=Le.width,ut=Le.top,$t=Le.right,wt=Le.bottom,me=Le.left;if(k==="if-needed"&&nt>=0&&Ft>=0&&is<=we&&Mt<=ve&&nt>=ut&&is<=wt&&Ft>=me&&Mt<=$t)return Ge;var qt=getComputedStyle(pe),Bt=parseInt(qt.borderLeftWidth,10),Ut=parseInt(qt.borderTopWidth,10),Yt=parseInt(qt.borderRightWidth,10),Wt=parseInt(qt.borderBottomWidth,10),Z=0,oe=0,ye="offsetWidth"in pe?pe.offsetWidth-pe.clientWidth-Bt-Yt:0,ie="offsetHeight"in pe?pe.offsetHeight-pe.clientHeight-Ut-Wt:0,it="offsetWidth"in pe?pe.offsetWidth===0?0:Ve/pe.offsetWidth:0,jt="offsetHeight"in pe?pe.offsetHeight===0?0:xt/pe.offsetHeight:0;if(L===pe)Z=T==="start"?Ie:T==="end"?Ie-we:T==="nearest"?He(_e,_e+we,we,Ut,Wt,_e+Ie,_e+Ie+ct,ct):Ie-we/2,oe=N==="start"?De:N==="center"?De-ve/2:N==="end"?De-ve:He(Se,Se+ve,ve,Bt,Yt,Se+De,Se+De+bt,bt),Z=Math.max(0,Z+_e),oe=Math.max(0,oe+Se);else{Z=T==="start"?Ie-ut-Ut:T==="end"?Ie-wt+Wt+ie:T==="nearest"?He(ut,wt,xt,Ut,Wt+ie,Ie,Ie+ct,ct):Ie-(ut+xt/2)+ie/2,oe=N==="start"?De-me-Bt:N==="center"?De-(me+Ve/2)+ye/2:N==="end"?De-$t+Yt+ye:He(me,$t,Ve,Bt,Yt+ye,De,De+bt,bt);var Me=pe.scrollLeft,Ze=pe.scrollTop;Ie+=Ze-(Z=Math.max(0,Math.min(Ze+Z/jt,pe.scrollHeight-xt/jt+ie))),De+=Me-(oe=Math.max(0,Math.min(Me+oe/it,pe.scrollWidth-Ve/it+ye)))}Ge.push({el:pe,top:Z,left:oe})}return Ge};function st(m){return m===Object(m)&&Object.keys(m).length!==0}function We(m,b){var C=m.isConnected||m.ownerDocument.documentElement.contains(m);if(st(b)&&typeof b.behavior=="function")return b.behavior(C?$e(m,b):[]);if(C){var k=function(T){return T===!1?{block:"end",inline:"nearest"}:st(T)?T:{block:"start",inline:"nearest"}}(b);return function(T,N){N===void 0&&(N="auto");var A="scrollBehavior"in document.body.style;T.forEach(function(D){var $=D.el,X=D.top,O=D.left;$.scroll&&A?$.scroll({top:X,left:O,behavior:N}):($.scrollTop=X,$.scrollLeft=O)})}($e(m,k),k.behavior)}}var lt=function(){return Ye||(Ye="performance"in window?performance.now.bind(performance):Date.now),Ye()};function ze(m){var b=lt(),C=Math.min((b-m.startTime)/m.duration,1),k=m.ease(C),T=m.startX+(m.x-m.startX)*k,N=m.startY+(m.y-m.startY)*k;m.method(T,N),T!==m.x||N!==m.y?requestAnimationFrame(function(){return ze(m)}):m.cb()}function ke(m,b,C,k,T,N){var A,D,$,X;k===void 0&&(k=600),T===void 0&&(T=function(O){return 1+--O*O*O*O*O}),A=m,D=m.scrollLeft,$=m.scrollTop,X=function(O,L){m.scrollLeft=Math.ceil(O),m.scrollTop=Math.ceil(L)},ze({scrollable:A,method:X,startTime:lt(),startX:D,startY:$,x:b,y:C,duration:k,ease:T,cb:N})}var qe=function(m){return m&&!m.behavior||m.behavior==="smooth"},Lt=function(m,b){var C=b||{};return qe(C)?We(m,{block:C.block,inline:C.inline,scrollMode:C.scrollMode,boundary:C.boundary,behavior:function(k){return Promise.all(k.reduce(function(T,N){var A=N.el,D=N.left,$=N.top,X=A.scrollLeft,O=A.scrollTop;return X===D&&O===$?T:[].concat(T,[new Promise(function(L){return ke(A,D,$,C.duration,C.ease,function(){return L({el:A,left:[X,D],top:[O,$]})})})])},[]))}}):Promise.resolve(We(m,b))};const rt=m=>Object.values(m).map(b=>b.current).filter(Boolean);function Ae(m,b,C,k,T,N){var A;const D=((A=m==null?void 0:m.entry)===null||A===void 0?void 0:A.target)||m,$=b||"smooth";if(D)return N?D==null?void 0:D.scrollIntoView({behavior:$,inline:C||"end",block:k||"nearest"}):Lt(D,Object.assign({behavior:$,inline:C||"end",block:k||"nearest",duration:500},T))}const Qe=m=>document.querySelector(`[${G}='${m}']`),ge=m=>document.querySelector(`[${U}='${m}']`);function he(m){return a.default.isValidElement(m)&&m||typeof m=="function"&&a.default.createElement(m,null)||null}const Oe=m=>m.filter(b=>!new RegExp(`.*${l}$`).test(b)),f=m=>{var b;return String(((b=m==null?void 0:m.props)===null||b===void 0?void 0:b[B])||String((m==null?void 0:m.key)||"").replace(/^\.\$/,""))};function g({children:m,itemClassName:b="",refs:C,separatorClassName:k=""}){const T=a.default.Children.toArray(m).filter(Boolean),N=T.length,A=a.default.useMemo(()=>`${c} ${b}`,[b]),D=a.default.useMemo(()=>`${u} ${k}`,[k]);return a.default.createElement(a.default.Fragment,null,T.map(($,X)=>{const O=f($),L=O+l,ee=X+1===N;return[a.default.createElement(H,{className:A,id:O,key:"menuItem__"+O,refs:C,index:X},$),!ee&&a.default.createElement(V,{className:D,id:L,refs:C,key:L,index:X+.1})]}))}const y=typeof window<"u"?a.default.useLayoutEffect:a.default.useEffect;function j({items:m,itemsChanged:b,refs:C,options:k}){const T=a.default.useRef(),[N,A]=a.default.useState([]),D=a.default.useRef(+setTimeout(()=>{},0)),$=a.default.useCallback(X=>{m.set(function(O,L){return[...O].map(ee=>{var J,ve,we,Se;const _e=ee.target,Re=String((ve=(J=_e==null?void 0:_e.dataset)===null||J===void 0?void 0:J.key)!==null&&ve!==void 0?ve:"");return[Re,{index:String((Se=(we=_e==null?void 0:_e.dataset)===null||we===void 0?void 0:we.index)!==null&&Se!==void 0?Se:""),key:Re,entry:ee,visible:ee.intersectionRatio>=L.ratio}]})}(X,k)),clearTimeout(D.current),D.current=+setTimeout(()=>requestAnimationFrame(()=>{A(O=>{const L=m.getVisible().map(ee=>ee[1].key);return JSON.stringify(O)!==JSON.stringify(L)?L:O})}),k.throttle)},[m,k]);return y(()=>{const X=rt(C),O=T.current||new IntersectionObserver($,k);return T.current=O,X.forEach(L=>O.observe(L)),()=>{clearTimeout(D.current),O.disconnect(),T.current=void 0}},[$,b,k,C]),{visibleElementsWithSeparators:N}}const E=m=>a.default.Children.toArray(m).map(f).filter(Boolean);class R extends Map{toArr(){return this.sort([...this])}toItems(){return this.toArr().map(([b])=>b)}toItemsWithoutSeparators(){return Oe(this.toItems())}toItemsKeys(){return this.toItems()}sort(b){return b.sort(([,C],[,k])=>+C.index-+k.index)}set(b,C){return Array.isArray(b)?this.sort(b).forEach(([k,T])=>{super.set(String(k),T)}):super.set(String(b),C),this}first(){var b;return(b=this.toArr()[0])===null||b===void 0?void 0:b[1]}last(){var b,C;return(C=(b=this.toArr().slice(-1))===null||b===void 0?void 0:b[0])===null||C===void 0?void 0:C[1]}filter(b){return this.toArr().filter(b)}find(b){return this.toArr().find(b)}findIndex(b){return this.toArr().findIndex(b)}getCurrentPos(b,C){const k=this.toArr().filter(N=>{var A;return C?!(!((A=N==null?void 0:N[0])===null||A===void 0)&&A.includes(l)):N}),T=k.findIndex(([N,A])=>N===b||A===b);return[k,T]}prev(b,C){var k;const[T,N]=this.getCurrentPos(b,!!C);return N!==-1?(k=T[N-1])===null||k===void 0?void 0:k[1]:void 0}next(b,C){var k;const[T,N]=this.getCurrentPos(b,!!C);return N!==-1?(k=T[N+1])===null||k===void 0?void 0:k[1]:void 0}getVisible(){return this.filter(b=>b[1].visible)}getVisibleElements(){return this.filter(b=>!b[0].includes(l)&&b[1].visible)}}const I={ratio:.9,rootMargin:"5px",threshold:[.05,.5,.75,.95],throttle:100},M=a.default.createContext({}),ne=m=>m.reduce((b,C)=>b.concat(C).concat(`${C}${l}`),[]).slice(0,-1);t.ScrollMenu=function({LeftArrow:m,RightArrow:b,children:C,Header:k,Footer:T,transitionDuration:N=500,transitionEase:A,transitionBehavior:D,onInit:$=()=>{},onUpdate:X=()=>{},onMouseDown:O,onMouseUp:L,onMouseMove:ee,onScroll:J=()=>{},onWheel:ve=()=>{},options:we=I,scrollContainerClassName:Se="",itemClassName:_e="",separatorClassName:Re="",wrapperClassName:ct="",apiRef:bt={current:{}},RTL:nt,noPolyfill:Mt}){const is=he(m),Ft=he(b),Ie=he(k),De=he(T),Ge=a.default.useRef(null),[Ht]=a.default.useState({}),pe=a.default.useMemo(()=>Object.assign(Object.assign(Object.assign({},I),we),{root:Ge.current}),[we,Ge.current]),Le=a.default.useRef(new R).current,xt=function(Z,oe){const[ye,ie]=a.default.useState(""),it=a.default.useMemo(()=>E(Z),[Z]);return a.default.useEffect(()=>{const jt=it.filter(Boolean).join("");oe.toItemsWithoutSeparators().filter(Me=>!it.includes(Me)).forEach(Me=>{var Ze,at;const Ys=((Ze=oe.last())===null||Ze===void 0?void 0:Ze.key)===Me&&((at=oe.prev(Me))===null||at===void 0?void 0:at.key)||"";oe.delete(Ys),oe.delete(`${Me}${l}`),oe.delete(Me)}),ie(jt)},[it,oe]),ye}(C,Le),{visibleElementsWithSeparators:Ve}=j({items:Le,itemsChanged:xt,options:pe,refs:Ht}),ut=!!Ve.length,$t=a.default.useMemo(()=>function(Z,oe=[],ye,ie,it,jt){var Me,Ze;const at=Oe(oe),Ys=!!(!((Me=Z.first())===null||Me===void 0)&&Me.visible),Na=!!(!((Ze=Z.last())===null||Ze===void 0)&&Ze.visible),qr=K=>{var te;return(te=Z.find(Ne=>Ne[1].key===String(K)))===null||te===void 0?void 0:te[1]},Br=()=>{var K,te;return Z.prev((te=(K=Z.getVisible())===null||K===void 0?void 0:K[0])===null||te===void 0?void 0:te[1])},Ur=()=>{var K,te,Ne,Te;return Z.next((Te=(Ne=(te=(K=Z.getVisible())===null||K===void 0?void 0:K.slice)===null||te===void 0?void 0:te.call(K,-1))===null||Ne===void 0?void 0:Ne[0])===null||Te===void 0?void 0:Te[1])};return{getItemById:qr,getItemElementById:Qe,getItemByIndex:K=>{var te;return(te=Z.find(Ne=>String(Ne[1].index)===String(K)))===null||te===void 0?void 0:te[1]},getItemElementByIndex:ge,getNextItem:Ur,getNextElement:()=>{var K,te,Ne,Te;return Z.next((Te=(Ne=(te=(K=Z.getVisibleElements())===null||K===void 0?void 0:K.slice)===null||te===void 0?void 0:te.call(K,-1))===null||Ne===void 0?void 0:Ne[0])===null||Te===void 0?void 0:Te[1],!0)},getPrevItem:Br,getPrevElement:()=>{var K,te;return Z.prev((te=(K=Z.getVisibleElements())===null||K===void 0?void 0:K[0])===null||te===void 0?void 0:te[1],!0)},isFirstItemVisible:Ys,isItemVisible:K=>at.includes(String(K)),isLastItem:K=>Z.last()===qr(K),isLastItemVisible:Na,scrollNext:(K,te,Ne,{duration:Te,ease:Xe,boundary:St=ye==null?void 0:ye.current}={})=>{const Nt=K!=null?K:ie==null?void 0:ie.behavior;return Ae(Ur(),Nt,te||"start",Ne||"nearest",{boundary:St,duration:Te!=null?Te:ie==null?void 0:ie.duration,ease:Xe!=null?Xe:ie==null?void 0:ie.ease},it||jt)},scrollPrev:(K,te,Ne,{duration:Te,ease:Xe,boundary:St=ye==null?void 0:ye.current}={})=>{const Nt=K!=null?K:ie==null?void 0:ie.behavior;return Ae(Br(),Nt,te||"end",Ne||"nearest",{boundary:St,duration:Te!=null?Te:ie==null?void 0:ie.duration,ease:Xe!=null?Xe:ie==null?void 0:ie.ease},it||jt)},scrollToItem:(K,te,Ne,Te,Xe)=>{var St,Nt;return Ae(K,te!=null?te:ie==null?void 0:ie.behavior,Ne,Te,Object.assign(Object.assign({boundary:ye==null?void 0:ye.current},Xe),{duration:(St=Xe==null?void 0:Xe.duration)!==null&&St!==void 0?St:ie==null?void 0:ie.duration,ease:(Nt=Xe==null?void 0:Xe.ease)!==null&&Nt!==void 0?Nt:ie==null?void 0:ie.ease}))},visibleElements:at,visibleElementsWithSeparators:oe,visibleItems:oe,visibleItemsWithoutSeparators:at}}(Le,Ve,Ge,{duration:N,ease:A,behavior:D},nt,Mt),[Le,Ve,xt,nt,Mt]),wt=a.default.useCallback(()=>Object.assign(Object.assign({},$t),{initComplete:ut,items:Le,visibleElementsWithSeparators:Ve,scrollContainer:Ge}),[$t,ut,Le,Ve,Ge]),[me,qt]=a.default.useState(wt);(function({cb:Z=()=>{},condition:oe,hash:ye}){a.default.useEffect(()=>{oe&&Z()},[ye,oe])})({cb:()=>X(me),condition:function({cb:Z,condition:oe}){const[ye,ie]=a.default.useState(!1);return a.default.useEffect(()=>{oe&&!ye&&(ie(!0),Z())},[oe,ye]),ye}({cb:()=>$(me),condition:ut}),hash:JSON.stringify(Ve.concat(String(me==null?void 0:me.isFirstItemVisible)).concat(String(me==null?void 0:me.isLastItemVisible)))}),a.default.useEffect(()=>qt(wt()),[wt]),bt.current=me;const Bt=a.default.useCallback(Z=>J(me,Z),[J,me]),Ut=a.default.useCallback(Z=>ve(me,Z),[ve,me]),Yt=a.default.useMemo(()=>`${h} ${ct}`,[ct]),Wt=a.default.useMemo(()=>`${Se}${nt?" rtl":""}`,[nt,Se]);return a.default.createElement("div",{className:Yt,onWheel:Ut,onMouseDown:O==null?void 0:O(me),onMouseUp:L==null?void 0:L(me),onMouseMove:ee==null?void 0:ee(me)},a.default.createElement(M.Provider,{value:me},a.default.createElement("div",{className:v},Ie),a.default.createElement("div",{className:p},a.default.createElement("div",{className:w},is),a.default.createElement(S,{className:Wt,onScroll:Bt,scrollRef:Ge},a.default.createElement(g,{refs:Ht,itemClassName:_e,separatorClassName:Re},C)),a.default.createElement("div",{className:_},Ft)),a.default.createElement("div",{className:P},De)))},t.VisibilityContext=M,t.constants=W,t.getItemsPos=m=>{var b;const C=(T=>T.filter((N,A,D)=>{const $=A===0,X=A===D.length-1,O=new RegExp(l).test(N);return!(($||X)&&O)}))(m),k=C[Math.floor(C.length/2)];return{first:C==null?void 0:C[0],center:k,last:(b=C.slice(-1))===null||b===void 0?void 0:b[0]}},t.slidingWindow=function(m,b){const C=Oe(m),k=Oe(b);return{prev:()=>ne(function(T,N){const A=T.findIndex(ee=>ee===(N==null?void 0:N[0])),D=N.length,$=A-D,X=$<0,O=X?0:$,L=T.slice(O,X?D:A);return L.length===D?L:T.slice(A,D)}(C,k)),next:()=>ne(function(T,N){const A=T.findIndex(ee=>{var J;return ee===((J=N.slice(-1))===null||J===void 0?void 0:J[0])}),D=N.length,$=A+D+1,X=$>T.length-1,O=X?T.length-1:$,L=T.slice(X?O-D+1:A+1,O);return L.length===D?L:T.slice(T.length-D,T.length+D)}(C,k))}},Object.defineProperty(t,"__esModule",{value:!0})})})(vr,vr.exports);var Hr=vr.exports;const ma="wp-block-owid-key-insights",Hn="insight",fa="thumbs",ga="thumb",va="slides",yr="slide",pp="content",mp=({title:e,onClick:s,selected:t})=>n.jsx("button",{onClick:s,role:"tab","aria-selected":t,className:ga,children:e}),ya=({titles:e})=>{const[s,t]=x.useState("0"),[r,i]=x.useState(null),[a,o]=x.useState(""),l=Q.useRef({}),u=x.useCallback(c=>{var d,h;if(c!==null){const p=(d=c.parentElement)==null?void 0:d.parentElement,v=p==null?void 0:p.querySelector(`.${va}`);i(v),o((h=p==null?void 0:p.previousElementSibling)==null?void 0:h.getAttribute("id"))}},[]);return x.useEffect(()=>{if(!r)return;const c=Wr();if(!c.queryParams.insight)return;const d=Array.from(r.querySelectorAll(`.${yr}`)).findIndex(h=>h.querySelector(`#${c.queryParams[Hn]}`));d!==-1&&t(d.toString())},[r]),x.useEffect(()=>{const c=l.current.getItemById(s);c&&l.current.scrollToItem(c,"smooth","center","nearest")},[s]),x.useEffect(()=>{r&&r.querySelectorAll(`.${yr}`).forEach((c,d)=>{var h;if(d===Number(s)){c.setAttribute("data-active","true");const p=Wr(),v=(h=c.querySelector("h4"))==null?void 0:h.getAttribute("id");if(!v)return;uo(p.updateQueryParams({[Hn]:v}).update({hash:`#${a}`}))}else c.setAttribute("data-active","false")})},[s]),n.jsx("div",{className:fa,role:"tablist",ref:u,children:n.jsx(Hr.ScrollMenu,{LeftArrow:fp,RightArrow:gp,transitionDuration:200,apiRef:l,children:e.map((c,d)=>{const h=`${d}`;return n.jsx(mp,{title:c,itemId:h,onClick:()=>{t(h)},selected:h===s},h)})})})},ba=({children:e,disabled:s,onClick:t,className:r})=>{const i=["arrow",r];return n.jsx("button",{disabled:s,onClick:t,className:i.join(" "),children:e})},fp=()=>{const{isFirstItemVisible:e,scrollPrev:s,visibleItemsWithoutSeparators:t,initComplete:r}=x.useContext(Hr.VisibilityContext),[i,a]=x.useState(!r||r&&e);return x.useEffect(()=>{t.length&&a(e)},[e,t]),i?null:n.jsx(ba,{disabled:!1,onClick:()=>s(),className:"left",children:n.jsx(Y.FontAwesomeIcon,{icon:Ls,flip:"horizontal"})})},gp=()=>{const{isLastItemVisible:e,scrollNext:s,visibleItemsWithoutSeparators:t}=x.useContext(Hr.VisibilityContext),[r,i]=x.useState(!t.length&&e);return x.useEffect(()=>{t.length&&i(e)},[e,t]),r?null:n.jsx(ba,{disabled:!1,onClick:()=>s(),className:"right",children:n.jsx(Y.FontAwesomeIcon,{icon:Ls})})},vp=()=>{document.querySelectorAll(`.${ma} .${fa}`).forEach(e=>{const s=Array.from(e.querySelectorAll(`.${ga}`)).map(r=>r.textContent||"");if(!s.length)return;const t=e.parentElement;de.hydrate(n.jsx(ya,{titles:s}),t)})},yp=({insights:e,heading:s,className:t})=>{function r({filename:i,url:a}){return i?n.jsx(xs,{filename:i,containerType:"sticky-right-left-column"}):a?n.jsx(Fr,{d:{url:a,type:"chart",parseErrors:[]}}):null}return n.jsxs("div",{className:t,children:[n.jsxs("h1",{className:"article-block__heading h1-semibold",id:zr,children:[s,n.jsx("a",{className:"deep-link",href:`#${zr}`})]}),n.jsx("div",{className:ma,children:n.jsxs("div",{children:[n.jsx(ya,{titles:e.map(({title:i})=>i)}),n.jsx("div",{className:va,children:e.map(({title:i,content:a,filename:o,url:l},u)=>n.jsx("div",{className:F(yr,"grid grid-cols-12 span-cols-12"),"data-active":u===0,role:"tabpanel",tabIndex:0,children:n.jsxs("div",{className:"grid span-cols-12",children:[n.jsxs("div",{className:"article-block__key-insights-content-column span-cols-5 span-md-cols-12",children:[n.jsx("h4",{id:Wn(i),children:i}),n.jsx("div",{className:pp,children:n.jsx(ot,{blocks:a,containerType:"key-insight"})})]}),n.jsx("div",{className:"span-cols-7 span-md-cols-12",children:r({filename:o,url:l})})]})},u))})]})})]})};function _s(e){let{value:{url:s,title:t,subtitle:r,authors:i,filename:a},shouldHideThumbnail:o=!1,isSmall:l=!1,shouldHideSubtitle:u=!1,className:c}=e;const{linkedDocument:d,errorMessage:h}=ws(s),{isPreviewing:p}=x.useContext(ns);return p&&h?n.jsxs("div",{className:F(c,"research-and-writing-link--error"),children:[n.jsx("p",{children:h}),n.jsx("p",{children:"This block won't render during baking"})]}):(d&&(s=`/${d.slug}`,t=d.content.title||t,i=d.content.authors||i,r=d.content.excerpt||r,a=d.content["featured-image"]||a),n.jsx("a",{href:s,className:F("research-and-writing-link",c),target:"_blank",rel:"noopener noreferrer",children:n.jsxs("div",{children:[a&&!o?n.jsx("figure",{children:n.jsx(xs,{filename:a,shouldLightbox:!1,containerType:l?"thumbnail":"default"})}):null,n.jsx("h3",{children:t}),r&&!u?n.jsx("p",{className:"research-and-writing-link__description body-1-regular",children:r}):null,i?n.jsx("p",{className:"research-and-writing-link__authors body-3-medium-italic",children:At({authors:i})}):null]})}))}function bp(e){const{primary:s,secondary:t,more:r,rows:i,className:a}=e;return n.jsxs("div",{className:F(a,"grid"),children:[n.jsxs("h1",{className:"article-block__heading span-cols-12 h1-semibold",id:Vr,children:["Research & Writing",n.jsx("a",{className:"deep-link",href:`#${Vr}`})]}),n.jsx(_s,{className:"span-cols-6 span-md-cols-6 span-sm-cols-12",...s}),n.jsx(_s,{className:"span-cols-3 span-md-cols-6 span-sm-cols-12",...t}),n.jsx("div",{className:"span-cols-3 span-md-cols-12",children:n.jsxs("div",{className:"research-and-writing-more",children:[n.jsx("h5",{className:"overline-black-caps",children:r.heading}),r.articles.map((o,l)=>n.jsx(_s,{shouldHideThumbnail:!0,shouldHideSubtitle:!0,...o},l))]})}),i.map((o,l)=>n.jsxs("div",{className:"span-cols-12 research-and-writing-row",children:[n.jsx("h5",{className:"overline-black-caps",children:o.heading}),n.jsxs("div",{className:"grid grid-cols-4 research-and-writing-row__link-container",children:[o.articles.length===2?n.jsx("div",{}):null,o.articles.map((u,c)=>n.jsx(_s,{shouldHideSubtitle:!0,isSmall:!0,className:"span-cols-1",...u},c))]})]},l))]})}function xp(e,s){const t=[];return s.forEach(r=>{const i=e.findIndex(a=>a.slug===r);if(i!==-1){const a=e.splice(i,1)[0];a&&(a.isKeyChart=!0,t.push(a))}}),t.push(...e),t}function wp(e){const{heading:s,top:t,className:r}=e,{relatedCharts:i}=x.useContext(rs),a=t.map(l=>Ke.fromURL(l.url).slug),o=xp(i,a);return n.jsxs("div",{className:F(r),children:[n.jsxs("h1",{className:"article-block__heading h1-semibold",id:Xr,children:[s,n.jsx("a",{className:"deep-link",href:`#${Xr}`})]}),n.jsx(Pr,{charts:o})]})}const $n={default:{align:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","all-charts":"col-start-2 span-cols-12","aside-left":"col-start-2 span-cols-3 span-md-cols-10 col-md-start-3","aside-right":"col-start-11 span-cols-3 span-md-cols-10 col-md-start-3","chart-story":"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2",chart:"col-start-4 span-cols-8 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2",explorer:"col-start-2 span-cols-12 span-md-cols-12 col-md-start-2",default:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2",divider:"col-start-2 span-cols-12","gray-section":"span-cols-14 grid grid-cols-12-full-width",heading:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","horizontal-rule":"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2",html:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","image--narrow":"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 col-sm-start-2 span-sm-cols-12 ","image--wide":"col-start-4 span-cols-8 col-md-start-2 span-md-cols-12 col-sm-start-2 span-sm-cols-12 ","image-caption":"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","key-insights":"col-start-2 span-cols-12",list:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","numbered-list":"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","prominent-link":"grid grid-cols-6 span-cols-6 col-start-5 span-md-cols-10 col-md-start-3 grid-md-cols-10 span-sm-cols-12 col-sm-start-2 grid-sm-cols-12","pull-quote":"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2",recirc:"col-start-11 span-cols-3 span-rows-3 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","research-and-writing":"col-start-2 span-cols-12",scroller:"grid span-cols-12 col-start-2","sdg-grid":"grid col-start-2 span-cols-12 col-lg-start-3 span-lg-cols-10 span-sm-cols-12 col-sm-start-2","sdg-toc":"grid grid-cols-8 col-start-4 span-cols-8 grid-md-cols-10 col-md-start-3 span-md-cols-10 grid-sm-cols-12 span-sm-cols-12 col-sm-start-2","side-by-side":"grid span-cols-12 col-start-2","sticky-left-left-column":"grid grid-cols-7 span-cols-7 span-md-cols-12 grid-md-cols-12","sticky-left-right-column":"grid grid-cols-5 span-cols-5 span-md-cols-12 grid-md-cols-12","sticky-left":"grid span-cols-12 col-start-2","sticky-right-left-column":"grid span-cols-5 grid grid-cols-5 span-md-cols-12 grid-md-cols-12","sticky-right-right-column":"span-cols-7 span-md-cols-12","sticky-right":"grid span-cols-12 col-start-2",text:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2","topic-page-intro":"grid col-start-2 span-cols-12"},datapage:{default:"col-start-2 span-cols-6 col-lg-start-2 span-lg-cols-7 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",chart:"span-cols-8 span-lg-cols-9 span-md-cols-12"},"sticky-right-left-column":{chart:"span-cols-5 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",explorer:"span-cols-5 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",default:"span-cols-5 col-start-1 span-md-cols-12","prominent-link":"grid grid-cols-5 span-cols-5 span-md-cols-10 grid-md-cols-10 span-sm-cols-12 grid-sm-cols-12"},"sticky-right-right-column":{chart:"span-cols-7 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",explorer:"span-cols-7 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",default:"span-cols-7 span-md-cols-10 span-md-cols-12","prominent-link":"grid grid-cols-6 span-cols-6 span-md-cols-12 grid-md-cols-12"},"sticky-left-left-column":{chart:"span-cols-7 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",explorer:"span-cols-7 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",default:"span-cols-7 span-md-cols-12","prominent-link":"grid grid-cols-6 span-cols-6 span-md-cols-12 grid-md-cols-12"},"sticky-left-right-column":{chart:"span-cols-5 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",explorer:"span-cols-5 col-start-1 span-md-cols-10 col-md-start-2 span-sm-cols-12 col-sm-start-1",default:"span-cols-5 span-md-cols-12","prominent-link":"grid grid-cols-5 span-cols-5 span-md-cols-10 grid-md-cols-10 span-sm-cols-12 grid-sm-cols-12"},"side-by-side":{default:"span-cols-6 span-sm-cols-12"},summary:{default:"col-start-5 span-cols-6 col-md-start-3 span-md-cols-10 span-sm-cols-12 col-sm-start-2"},"key-insight":{default:"col-start-1 span-cols-5 col-md-start-1 span-md-cols-12","prominent-link":"grid grid-cols-6 span-cols-6 span-md-cols-12 grid-md-cols-12"}};function q(e="default",s="default"){const t=Ce.get($n,[s,e],Ce.get($n,[s,"default"]));return F(`article-block__${e}`,t)}function Be({b:e,containerType:s="default",toc:t}){if(e.type=e.type.toLowerCase(),e.parseErrors.filter(({isWarning:i})=>!i).length>0)return n.jsx(Us,{className:q("default",s),error:{name:`Error in ${e.type}`,message:e.parseErrors[0].message}});const r=ai(e).with({type:"aside"},({caption:i,position:a="right"})=>n.jsx("figure",{className:F("body-3-medium-italic",q(`aside-${a}`)),children:i?n.jsx("figcaption",{children:se(i)}):null})).with({type:"all-charts"},i=>n.jsx(wp,{...i,className:q("all-charts",s)})).with({type:"chart"},i=>{const{isExplorer:a}=Ke.fromURL(i.url),o=a?"explorer":"chart";return n.jsx(Fr,{className:q(o,s),d:i})}).with({type:"scroller"},i=>n.jsx(zh,{className:q("scroller",s),d:i})).with({type:"callout"},i=>n.jsxs("div",{className:q("callout",s),children:[i.title?n.jsx("h4",{className:"h4-semibold",children:i.title}):null,i.text.map((a,o)=>n.jsx(Be,{b:a},o))]})).with({type:"chart-story"},i=>n.jsx(Mh,{d:i,className:q("chart-story",s)})).with({type:"image"},i=>n.jsxs("figure",{className:F("article-block__image",q(`image--${i.size}`,s)),children:[n.jsx(xs,{filename:i.filename,alt:i.alt,containerType:s}),i.caption?n.jsx("figcaption",{className:q("image-caption",s),children:se(i.caption)}):null]})).with({type:"pull-quote"},i=>n.jsx(Vh,{className:q("pull-quote",s),d:i})).with({type:"recirc"},i=>n.jsx(Kh,{className:q("recirc",s),d:i})).with({type:"numbered-list"},i=>n.jsx(Gh,{className:q("numbered-list",s),d:i})).with({type:"list"},i=>n.jsx(Qh,{className:q("list",s),d:i})).with({type:"text"},i=>n.jsx(da,{d:i,className:q("text",s)})).with({type:"simple-text"},i=>i.value).with({type:"heading",level:1},i=>n.jsxs("h1",{className:F("h1-semibold",q("heading",s)),id:zt(i.text),children:[se(i.text),n.jsx("a",{className:"deep-link",href:`#${zt(i.text)}`})]})).with({type:"heading",level:2},i=>{const{supertitle:a,text:o}=i,l=a?lr(`${Ct(a)}-${Ct(o)}`):zt(i.text);return n.jsxs(n.Fragment,{children:[a?n.jsx("div",{className:q("divider",s)}):null,n.jsxs("h2",{className:F("h2-bold",q("heading",s),{"has-supertitle":a?Ct(a):""}),id:l,children:[a?n.jsx("div",{className:"article-block__heading-supertitle overline-black-caps",children:se(a)}):null,se(o),n.jsx("a",{className:"deep-link",href:`#${l}`})]})]})}).with({type:"heading",level:3},i=>{const{supertitle:a,text:o}=i,l=a?lr(`${Ct(a)}-${Ct(o)}`):zt(i.text);return n.jsxs("h3",{className:F("h3-bold",q("heading",s),{"has-supertitle":a?Ct(a):void 0}),id:l,children:[a?n.jsx("div",{className:"article-block__heading-supertitle overline-black-caps",children:se(a)}):null,se(o),n.jsx("a",{className:"deep-link",href:`#${l}`})]})}).with({type:"heading",level:4},i=>n.jsx("h4",{className:F("h4-semibold",q("heading",s)),id:zt(i.text),children:se(i.text)})).with({type:"heading",level:5},i=>n.jsx("h5",{className:F("overline-black-caps",q("heading",s)),id:zt(i.text),children:se(i.text)})).with({type:"heading"},()=>null).with({type:"html"},i=>n.jsx("div",{className:q("html",s),dangerouslySetInnerHTML:{__html:i.value}})).with({type:"horizontal-rule"},()=>n.jsx("hr",{className:q("horizontal-rule",s)})).with({type:"sdg-grid"},i=>n.jsx(Zh,{className:q("sdg-grid",s),d:i})).with({type:"sticky-right"},i=>n.jsxs("div",{className:q("sticky-right",s),children:[n.jsx("div",{className:q("sticky-right-left-column",s),children:i.left.map((a,o)=>n.jsx(Be,{b:a,containerType:"sticky-right-left-column"},o))}),n.jsx("div",{className:q("sticky-right-right-column",s),children:n.jsx("div",{className:"sticky-column-wrapper grid grid-cols-7 span-cols-7 grid-md-cols-12 span-md-cols-12",children:i.right.map((a,o)=>n.jsx(Be,{b:a,containerType:"sticky-right-right-column"},o))})})]})).with({type:"sticky-left"},i=>n.jsxs("div",{className:q("sticky-left",s),children:[n.jsx("div",{className:q("sticky-left-left-column",s),children:n.jsx("div",{className:"sticky-column-wrapper grid grid-cols-7 span-cols-7 grid-md-cols-12 span-md-cols-12",children:i.left.map((a,o)=>n.jsx(Be,{b:a,containerType:"sticky-left-left-column"},o))})}),n.jsx("div",{className:q("sticky-left-right-column",s),children:i.right.map((a,o)=>n.jsx(Be,{b:a,containerType:"sticky-left-right-column"},o))})]})).with({type:"side-by-side"},i=>n.jsxs("div",{className:q("side-by-side",s),children:[n.jsx("div",{className:"grid grid-cols-6 span-cols-6 span-sm-cols-12",children:i.left.map((a,o)=>n.jsx(Be,{b:a,containerType:"side-by-side"},o))}),n.jsx("div",{className:"grid grid-cols-6 span-cols-6 span-sm-cols-12",children:i.right.map((a,o)=>n.jsx(Be,{b:a,containerType:"side-by-side"},o))})]})).with({type:"gray-section"},i=>n.jsx("div",{className:q("gray-section"),children:i.items.map((a,o)=>n.jsx(Be,{b:a},o))})).with({type:"prominent-link"},i=>n.jsx(cp,{className:q("prominent-link",s),...i})).with({type:"sdg-toc"},()=>t?n.jsx(ip,{toc:t,className:q("sdg-toc",s)}):null).with({type:"missing-data"},()=>n.jsx(ap,{className:q("missing-data",s)})).with({type:"additional-charts"},i=>n.jsx(lp,{items:i.items,className:q("additional-charts",s)})).with({type:"expandable-paragraph"},i=>n.jsx(pa,{className:q("expandable-paragraph",s),children:i.items.map((a,o)=>n.jsx(Be,{b:a},o))})).with({type:"topic-page-intro"},i=>n.jsx(hp,{...i,className:q("topic-page-intro",s)})).with({type:"key-insights"},i=>n.jsx(yp,{...i,className:q("key-insights",s)})).with({type:"research-and-writing"},i=>n.jsx(bp,{...i,className:q("research-and-writing",s)})).with({type:"align"},i=>n.jsx("div",{className:F(`align-${i.alignment}`,q("align",s)),children:i.content.map((a,o)=>n.jsx(Be,{b:a},o))})).exhaustive();return n.jsx(Ch,{className:q("default",s),children:r})}const ot=({blocks:e,containerType:s="default",toc:t})=>n.jsx(n.Fragment,{children:e.map((r,i)=>n.jsx(Be,{b:r,containerType:s,toc:t},i))}),jp="owid-datapageJson-root",Sp=({datapageJson:e,datapageGdoc:s,datapageGdocContent:t,grapherConfig:r,isPreviewing:i=!1})=>{var B,G,U,W;const[a,o]=Q.useState(void 0),l=e.variantSource&&e.variantMethods?`${e.variantMethods} - ${e.variantSource}`:e.variantSource||e.variantMethods;x.useEffect(()=>{o(new Sr(r))},[r]);const{linkedDocuments:u={},imageMetadata:c={},linkedCharts:d={},relatedCharts:h=[]}=s||{},p="#reuse-this-work",v=[{text:"Explore the Data",target:"#explore-the-data"},{text:"Research & Writing",target:"#research-and-writing"},{text:"Related Data",target:"#related-data"},{text:"All Charts",target:"#all-charts"},{text:"FAQs",target:"#faqs"},{text:"Sources & Processing",target:"#sources-and-processing"},{text:"Reuse This Work",target:p}],w=(B=e.relatedData)==null?void 0:B.some(S=>S.featured),_=(G=e.relatedData)==null?void 0:G.some(S=>!S.featured),P=`related-data__category ${w&&_?"related-data__category--grid span-cols-4 span-lg-cols-6 span-sm-cols-3":"related-data__category--columns span-cols-8 span-lg-cols-12"} `;return n.jsx(rs.Provider,{value:{linkedDocuments:u,imageMetadata:c,linkedCharts:d,relatedCharts:h},children:n.jsxs(ns.Provider,{value:{isPreviewing:i},children:[n.jsx("div",{className:"DataPageContent__grapher-for-embed",children:n.jsx(yn,{grapher:a,slug:r.slug})}),n.jsxs("div",{className:"DataPageContent",children:[n.jsx("div",{className:"bg-blue-10",children:n.jsxs("div",{className:"header__wrapper wrapper grid grid-cols-12 ",children:[n.jsxs("div",{className:"header__left span-cols-8 span-sm-cols-12",children:[n.jsx("div",{className:"header__supertitle",children:"Data"}),n.jsx("h1",{className:"header__title",children:e.title}),n.jsx("div",{className:"header__source",children:l})]}),n.jsxs("div",{className:"header__right col-start-9 span-cols-4 span-sm-cols-12",children:[n.jsx("div",{className:"topic-tags__label",children:"See all data and research on:"}),n.jsx("div",{className:"topic-tags",children:e.topicTagsLinks.map(S=>n.jsx("a",{href:S.url,children:S.title},S.url))})]})]})}),n.jsx("nav",{className:"sticky-nav sticky-nav--dark",children:n.jsx(Lr,{links:v,className:"wrapper"})}),n.jsxs("div",{className:"chart-key-info",children:[n.jsx(yn,{grapher:a,slug:r.slug,className:"wrapper",id:"explore-the-data"}),n.jsxs("div",{className:"key-info__wrapper wrapper grid grid-cols-12",children:[n.jsxs("div",{className:"key-info__left col-start-2 span-cols-7 span-lg-cols-8 span-sm-cols-12",children:[((t==null?void 0:t.keyInfoText)||e.subtitle)&&n.jsxs("div",{className:"key-info__curated",children:[n.jsx("h2",{className:"key-info__title",children:t!=null&&t.keyInfoText?"What you should know about this indicator":"About this data"}),n.jsx("div",{className:"key-info__content",children:t!=null&&t.keyInfoText?n.jsx(ot,{blocks:t.keyInfoText,containerType:"datapage"}):e.subtitle?n.jsx("div",{children:e.subtitle}):null}),(t==null?void 0:t.faqs)&&n.jsxs("a",{className:"key-info__learn-more",href:"#faqs",children:["Learn more in the FAQs",n.jsx(Y.FontAwesomeIcon,{icon:Wi.faArrowDown})]})]}),((U=e.descriptionFromSource)==null?void 0:U.title)&&(t==null?void 0:t.descriptionFromSource)&&n.jsx(vn,{label:e.descriptionFromSource.title,content:n.jsx(ot,{blocks:t.descriptionFromSource,containerType:"datapage"}),isExpandedDefault:!(e.subtitle||t.keyInfoText)})]}),n.jsxs("div",{className:"key-info__right grid grid-cols-3 grid-lg-cols-4 grid-sm-cols-12 span-cols-3 span-lg-cols-4 span-sm-cols-12",children:[n.jsxs("div",{className:"key-data span-cols-3 span-lg-cols-4 span-sm-cols-12",children:[n.jsx("div",{className:"key-data__title",children:"Source"}),n.jsx("div",{children:e.nameOfSource}),e.owidProcessingLevel&&n.jsx("div",{dangerouslySetInnerHTML:{__html:e.owidProcessingLevel}})]}),n.jsxs("div",{className:"key-data span-cols-3 span-lg-cols-4 span-sm-cols-6",children:[n.jsx("div",{className:"key-data__title",children:"Date range"}),n.jsx("div",{children:e.dateRange})]}),n.jsxs("div",{className:"key-data span-cols-3 span-lg-cols-4 span-sm-cols-6",children:[n.jsx("div",{className:"key-data__title",children:"Last updated"}),n.jsx("div",{children:e.lastUpdated})]}),n.jsxs("div",{className:"key-data span-cols-3 span-lg-cols-4 span-sm-cols-6",children:[n.jsx("div",{className:"key-data__title",children:"Next expected update"}),n.jsx("div",{children:e.nextUpdate})]})]})]})]}),n.jsxs("div",{className:"wrapper",children:[e.relatedResearch&&e.relatedResearch.length>0&&n.jsxs("div",{className:"section-wrapper grid",children:[n.jsx("h2",{className:"related-research__title span-cols-3 span-lg-cols-12",id:"research-and-writing",children:"Related research and writing"}),n.jsx("div",{className:"related-research__items grid grid-cols-9 grid-lg-cols-12 span-cols-9 span-lg-cols-12",children:e.relatedResearch.map(S=>n.jsxs("a",{href:S.url,className:"related-research__item grid grid-cols-4 grid-lg-cols-6 grid-sm-cols-12 span-cols-4 span-lg-cols-6 span-sm-cols-12",children:[n.jsx("img",{src:encodeURI(S.imageUrl),alt:"",className:"span-lg-cols-2 span-sm-cols-3"}),n.jsxs("div",{className:"span-cols-3 span-lg-cols-4 span-sm-cols-9",children:[n.jsx("h3",{className:"related-article__title",children:S.title}),n.jsx("div",{className:"related-article__authors body-3-medium-italic",children:At({authors:S.authors})})]})]},S.url))})]}),!!((W=e.relatedData)!=null&&W.length)&&n.jsxs("div",{className:"section-wrapper grid",children:[n.jsx("h2",{className:"related-data__title span-cols-3 span-lg-cols-12",id:"related-data",children:"Related data"}),n.jsxs("div",{className:F("related-data__items",{"related-data__items--two-cols":w&&_},"grid","grid-cols-9","grid-lg-cols-12","span-cols-9","span-lg-cols-12"),children:[w&&n.jsx("div",{className:P,children:e.relatedData.filter(S=>S.featured).map(S=>n.jsxs("a",{href:S.url,className:"related-data-item related-data-item--medium col-start-1 col-end-limit",children:[S.type&&n.jsx("div",{className:"related-data-item__type",children:S.type}),n.jsx("h3",{className:"related-data-item__title",children:S.title}),S.source&&n.jsx("div",{className:"related-data-item__source",children:S.source}),n.jsx("div",{className:"related-data-item__content",children:S.content})]},S.url))}),_&&n.jsx("div",{className:P,children:e.relatedData.filter(S=>!S.featured).map(S=>n.jsxs("a",{href:S.url,className:"related-data-item related-data-item--small col-start-1 col-end-limit",children:[n.jsx("h4",{className:"related-data-item__title",children:S.title}),S.source&&n.jsx("div",{className:"related-data-item__source",children:S.source})]},S.url))})]})]}),e.allCharts&&e.allCharts.length>0?n.jsxs("div",{className:"section-wrapper section-wrapper__related-charts",children:[n.jsx("h2",{className:"related-charts__title",id:"all-charts",children:"Explore charts that include this data"}),n.jsx("div",{children:n.jsx(Pr,{charts:e.allCharts})})]}):null]}),n.jsx("div",{className:"bg-gray-10",children:n.jsxs("div",{className:"wrapper",children:[(t==null?void 0:t.faqs)&&n.jsxs("div",{className:"section-wrapper section-wrapper__faqs grid",children:[n.jsx("h2",{className:"faqs__title span-cols-2 span-lg-cols-3 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",id:"faqs",children:"Frequently Asked Questions"}),n.jsx("div",{className:"faqs__items grid grid-cols-10 grid-lg-cols-9 grid-md-cols-12 span-cols-10 span-lg-cols-9 span-md-cols-12 span-sm-cols-12",children:n.jsx(ot,{blocks:t.faqs,containerType:"datapage"})})]}),n.jsxs("div",{className:"section-wrapper grid",children:[n.jsx("h2",{className:"data-sources-processing__title span-cols-2 span-lg-cols-3 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",id:"sources-and-processing",children:"Sources and Processing"}),e.sources.length>0&&n.jsxs("div",{className:"data-sources grid span-cols-12",children:[n.jsx("h3",{className:"data-sources__heading span-cols-2 span-lg-cols-3 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:"This data is based on the following sources"}),n.jsx("div",{className:"col-start-4 span-cols-6 col-lg-start-5 span-lg-cols-7 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:e.sources.map((S,V,H)=>{const z=t==null?void 0:t[`sourceDescription${V+1}`];return n.jsx("div",{className:"data-sources__source-item",children:n.jsx(vn,{label:S.sourceName,isStacked:V!==H.length-1,hasTeaser:!0,content:n.jsxs(n.Fragment,{children:[z&&n.jsx(ot,{blocks:z,containerType:"datapage"}),(S.sourceRetrievedOn||S.sourceRetrievedFromUrl)&&n.jsxs("div",{className:"grid source__key-data",style:{gridTemplateColumns:"minmax(0,1fr) minmax(0,2fr)"},children:[S.sourceRetrievedOn&&n.jsxs("div",{className:"key-data",children:[n.jsx("div",{className:"key-data__title--dark",children:"Retrieved on"}),n.jsx("div",{children:S.sourceRetrievedOn})]}),S.sourceRetrievedFromUrl&&n.jsxs("div",{className:"key-data key-data--hide-overflow",children:[n.jsx("div",{className:"key-data__title--dark",children:"Retrieved from"}),n.jsx("div",{children:n.jsx("a",{href:S.sourceRetrievedFromUrl,target:"_blank",rel:"noreferrer",children:S.sourceRetrievedFromUrl})})]}),S.sourceCitation&&n.jsxs("div",{className:"key-data",style:{gridColumn:"span 2"},children:[n.jsx("div",{className:"key-data__title--dark",children:"Citation"}),"This is the citation of the original data obtained from the source, prior to any processing or adaptation by Our World in Data. To cite data downloaded from this page, please use the suggested citation given in"," ",n.jsx("a",{href:p,children:"Reuse This Work"})," ","below.",n.jsx(Tt,{code:S.sourceCitation,theme:"light",isTruncated:!0})]})]})]})})},S.sourceName)})})]}),n.jsxs("div",{className:"data-processing grid span-cols-12",children:[n.jsx("h3",{className:"data-processing__heading span-cols-2 span-lg-cols-3 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:"How we process data at Our World in Data"}),n.jsxs("div",{className:"col-start-4 span-cols-6 col-lg-start-5 span-lg-cols-7 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:[n.jsxs("div",{className:"data-processing__content",children:[n.jsx("p",{className:"data-processing__paragraph",children:"All data and visualizations on Our World in Data rely on data sourced from one or several original data providers. Preparing this original data involves several processing steps. Depending on the data, this can include standardizing country names and world region definitions, converting units, calculating derived indicators such as per capita measures, as well as adding or adapting metadata such as the name or the description given to an indicator."}),n.jsx("p",{className:"data-processing__paragraph",children:"At the link below you can find a detailed description of the structure of our data pipeline, including links to all the code used to prepare data across Our World in Data."})]}),n.jsx("a",{href:"https://docs.owid.io/projects/etl/en/latest/",target:"_blank",rel:"nopener noreferrer",className:"data-processing__link",children:"Read about our data pipeline"})]})]}),(t==null?void 0:t.variableProcessingInfo)&&n.jsxs("div",{className:"variable-processing-info col-start-4 span-cols-6 col-lg-start-5 span-lg-cols-7 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:[n.jsx("h5",{className:"variable-processing-info__header",children:"Notes on our processing step for this indicator"}),n.jsx("div",{className:"variable-processing-info__description",children:n.jsx(ot,{blocks:t.variableProcessingInfo,containerType:"datapage"})})]})]}),n.jsxs("div",{className:"section-wrapper grid",children:[n.jsx("h2",{className:"reuse__title span-cols-2 span-lg-cols-3 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",id:"reuse-this-work",children:"Reuse this work"}),n.jsx("div",{className:"col-start-4 span-cols-6 col-lg-start-5 span-lg-cols-7 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:n.jsxs("ul",{className:"reuse__content",children:[n.jsx("li",{className:"reuse__list-item",children:"All data produced by third-party providers and made available by Our World in Data are subject to the license terms from the original providers. Our work would not be possible without the data providers we rely on, so we ask you to always cite them appropriately (see below). This is crucial to allow data providers to continue doing their work, enhancing, maintaining and updating valuable data."}),n.jsxs("li",{className:"reuse__list-item",children:["All data, visualizations, and code produced by Our World in Data are completely open access under the"," ",n.jsx("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",className:"reuse__link",children:"Creative Commons BY license"}),". You have the permission to use, distribute, and reproduce these in any medium, provided the source and authors are credited."]})]})}),(e.citationDataInline||e.citationDataFull||e.citationDatapage)&&n.jsxs("div",{className:"citations grid span-cols-12",children:[n.jsx("h3",{className:"citations__heading span-cols-2 span-lg-cols-3 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:"Citations"}),n.jsxs("div",{className:"col-start-4 span-cols-6 col-lg-start-5 span-lg-cols-7 col-md-start-2 span-md-cols-10 col-sm-start-1 span-sm-cols-12",children:[(e.citationDataInline||e.citationDataFull)&&n.jsxs("div",{className:"citations-section",children:[n.jsx("h5",{className:"citation__how-to-header citation__how-to-header--data",children:"How to cite this data"}),e.citationDataInline&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"citation__paragraph",children:[n.jsx("span",{className:"citation__type",children:"In-line citation"}),n.jsx("br",{}),"If you have limited space (e.g. in data visualizations, on Twitter), you can use this abbreviated in-line citation:"]}),n.jsx(Tt,{code:e.citationDataInline,theme:"light"})]}),e.citationDataFull&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"citation__paragraph",children:n.jsx("span",{className:"citation__type",children:"Full citation"})}),n.jsx(Tt,{code:e.citationDataFull,theme:"light"})]})]}),e.citationDatapage&&n.jsxs("div",{className:"citations-section",children:[n.jsx("h5",{className:"citation__how-to-header",children:"How to cite this page"}),n.jsx("p",{className:"citation__paragraph",children:"To cite this page overall, including any descriptions of the data authored by Our World in Data, please use the following citation:"}),n.jsx(Tt,{code:e.citationDatapage,theme:"light"})]})]})]})]})]})})]})]})})},Np=e=>{const s=document.querySelector(`#${jp}`),t=window._OWID_DATAPAGE_PROPS,r={...window._OWID_GRAPHER_CONFIG,isEmbeddedInADataPage:!0,bindUrlToWindow:!0};de.hydrate(n.jsx(Ki,{debug:e,children:n.jsx(Sp,{...t,grapherConfig:r,isPreviewing:e})}),s)},Cp=({index:e,htmlContent:s,triggerTarget:t})=>{const r=(i,a)=>{a.type==="click"&&a.preventDefault()};return n.jsx(ho,{appendTo:()=>document.body,content:s&&n.jsx("div",{children:n.jsx("div",{dangerouslySetInnerHTML:{__html:s}})}),interactive:!0,placement:"bottom",theme:"owid-footnote",trigger:"mouseenter focus click",triggerTarget:t,onTrigger:r,onUntrigger:r,children:n.jsx("sup",{children:e})})};function _p(e){var i;const s=(i=e.closest("a.ref"))==null?void 0:i.getAttribute("href");if(!s)return null;const t=po(s.split("-")[1]);if(t===void 0)return null;const r=document.querySelector(s);return r!=null&&r.innerHTML?{index:t,href:s,htmlContent:r.innerHTML}:null}function qn(){document.querySelectorAll("a.ref").forEach(s=>{const t=_p(s);Ce.isNil(t)||de.hydrate(n.jsx(Cp,{index:t.index,htmlContent:t.htmlContent,triggerTarget:s}),s)})}const Tp=new Rt;var $r=(e=>(e.Homepage="homepage",e.Floating="floating",e))($r||{});const xa=({context:e})=>{const s="1",t="2",r=`mce-group[85302]-85302-0${e?"-"+e:""}`,i=`mce-group[85302]-85302-1${e?"-"+e:""}`,[a,o]=x.useState([s,t]),l=a.length!==0,u=c=>{c.target.checked?o([c.target.value,...a]):o(a.filter(d=>d!==c.target.value))};return n.jsxs("form",{action:"https://ourworldindata.us8.list-manage.com/subscribe/post?u=18058af086319ba6afad752ec&id=2e166c1fc1",method:"post",id:"mc-embedded-subscribe-form",name:"mc-embedded-subscribe-form",target:"_blank",children:[n.jsx("span",{className:"NewsletterSubscriptionForm__header",children:"Receive our latest work by email."}),n.jsxs("div",{className:"owid-checkbox-block",children:[n.jsx("input",{type:"checkbox",value:s,name:`group[85302][${s}]`,id:r,checked:a.includes(s),onChange:u}),n.jsxs("label",{htmlFor:r,children:[n.jsx("div",{className:"label-title",children:"Immediate updates"}),n.jsx("div",{className:"label-text",children:"Receive an email from us whenever we publish new work (maximum 1 per day)."})]})]}),n.jsxs("div",{className:"owid-checkbox-block",children:[n.jsx("input",{type:"checkbox",value:t,name:`group[85302][${t}]`,id:i,checked:a.includes(t),onChange:u}),n.jsxs("label",{htmlFor:i,children:[n.jsx("div",{className:"label-title",children:"Biweekly digest"}),n.jsx("div",{className:"label-text",children:"Receive an overview of our recent work and highlights of our other work every two weeks."})]})]}),a.length===0&&n.jsx("div",{className:"alert",children:"Please select at least one option."}),n.jsxs("div",{className:"NewsletterSubscription__email-submit",children:[n.jsx("input",{placeholder:"Your email address",type:"email",className:"NewsletterSubscription__email",name:"EMAIL"}),n.jsx("button",{type:"submit",disabled:!l,onClick:()=>Tp.logSiteClick("newsletter-subscribe",`Subscribe [${e!=null?e:"other-contexts"}]`),className:"NewsletterSubscription__submit",children:"Subscribe"})]}),n.jsx("input",{type:"hidden",name:"b_18058af086319ba6afad752ec_2e166c1fc1",tabIndex:-1}),n.jsxs("div",{className:"NewsletterSubscription__privacy",children:["By subscribing you are agreeing to the terms of our"," ",n.jsx("a",{href:"/privacy-policy",children:"privacy policy"}),"."]})]})},wa=({topic:e})=>n.jsx("li",{className:"SiteNavigationTopic",children:n.jsx("a",{href:`/${e.slug}`,"data-track-note":"header_navigation",children:n.jsx("span",{className:"label",children:e.title})})});typeof window>"u"&&(Q.useLayoutEffect=()=>{});const kp=({topics:e,onClose:s,className:t})=>{const[r,i]=x.useState(e[0]),[a,o]=x.useState(1);x.useLayoutEffect(()=>{if(r){const u=br(r),c=Math.ceil(u.length/10);o(c)}},[r]);const l=u=>{u.stopPropagation()};return e.length>0?n.jsxs("div",{className:F("SiteNavigationTopics",t),onClick:s,children:[n.jsxs("div",{className:"categories",onClick:l,children:[n.jsx("div",{className:"heading",children:"Browse by topic"}),n.jsx("ul",{children:e.map(u=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>{i(u)},className:F({active:u===r}),children:[n.jsx("span",{children:u.name}),n.jsx(Y.FontAwesomeIcon,{icon:ks})]})},u.slug))})]}),r&&n.jsx("ul",{className:F("topics",{"columns-medium":a===2,"columns-large":a>2}),onClick:l,children:br(r).map(u=>n.jsx(wa,{topic:u},u.slug))})]}):null},br=e=>[...e.entries,...e.subcategories.flatMap(s=>s.entries)],Pp=({baseUrl:e})=>n.jsxs("div",{className:"site-logos",children:[n.jsx("div",{className:"logo-owid",children:n.jsxs("a",{href:"/",children:["Our World",n.jsx("br",{})," in Data"]})}),n.jsxs("div",{className:"logos-wrapper",children:[n.jsx("a",{href:"https://www.oxfordmartin.ox.ac.uk/global-development",className:"oxford-logo",children:n.jsx("img",{src:`${e}/oms-logo.png`,alt:"Oxford Martin School logo"})}),n.jsx("a",{href:"https://global-change-data-lab.org/",className:"gcdl-logo",children:n.jsx("img",{src:`${e}/gcdl-logo.png`,alt:"Global Change Data Lab logo"})})]})]}),ja=()=>n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx("a",{href:"/charts",children:"Charts and Explorers"})}),n.jsx("li",{children:n.jsx("a",{href:"/sdgs",children:"Sustainable Development Goals Tracker"})}),n.jsx("li",{children:n.jsx("a",{href:"/teaching",children:"Teaching Hub"})})]}),Ep=({query:e,setQuery:s,isActive:t,onClose:r,onActivate:i})=>{const[a,o]=Q.useState(null),l=Q.useRef(null);return Q.useEffect(()=>{(async()=>{o(e?await ji(e):null)})()},[e]),x.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:F("SiteSearchNavigation",{active:t}),children:[n.jsx("input",{name:"search",placeholder:"Search for a topic or chart...",onChange:u=>s(u.currentTarget.value),onFocus:i,className:F({active:t}),value:e,ref:l}),n.jsx("div",{className:"icon",children:t?n.jsx("button",{onClick:u=>{u.preventDefault(),r()},children:n.jsx(Y.FontAwesomeIcon,{icon:or})}):n.jsx(Y.FontAwesomeIcon,{icon:Kr})})]}),!t&&n.jsx("button",{onClick:i,"data-track-note":"mobile_search_button",className:"SiteSearchNavigation__mobile-toggle hide-lg-up",children:n.jsx(Y.FontAwesomeIcon,{icon:Kr})}),t&&a&&n.jsx(kt,{results:a})]})},Kt=({children:e,isActive:s,onToggle:t,withCaret:r=!1,dropdown:i,className:a})=>n.jsxs("div",{className:F("SiteNavigationToggle",a,{active:s}),children:[n.jsxs("button",{onClick:t,className:F("SiteNavigationToggle__button",{active:s}),children:[e,r&&n.jsx(Y.FontAwesomeIcon,{className:"SiteNavigationToggle__caret",icon:s?mo:fo})]}),s&&i&&n.jsx("div",{className:"SiteNavigationToggle__dropdown",children:i})]}),Ap=({category:e,isActive:s,toggleCategory:t})=>{const r=x.useRef(null);return x.useEffect(()=>{s&&r.current&&r.current.scrollIntoView({behavior:"smooth"})},[s]),n.jsx("li",{className:"SiteMobileCategory",ref:r,children:n.jsx(Kt,{isActive:s,onToggle:()=>t(e),dropdown:n.jsx("ul",{children:br(e).map(i=>n.jsx(wa,{topic:i},i.slug))}),withCaret:!0,children:e.name})},e.slug)},Op=({topics:e,menu:s,toggleMenu:t,className:r})=>{const[i,a]=x.useState(null),o=l=>{a(i===l?null:l)};return n.jsx("div",{className:F("SiteMobileMenu",r),children:n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("span",{className:"section__header",children:"Browse by topic"}),n.jsx("ul",{className:"section__dropdown--topics",children:e.map(l=>n.jsx(Ap,{category:l,isActive:i===l,toggleCategory:o},l.slug))})]}),n.jsx("li",{children:n.jsx("a",{href:"/latest",className:"section__header",children:"Latest"})}),n.jsx("li",{children:n.jsx(Kt,{isActive:s===cs.Resources,onToggle:()=>t(s===cs.Resources?cs.Topics:cs.Resources),dropdown:n.jsx(ja,{}),withCaret:!0,className:"SiteNavigationToggle--lvl1",children:"Resources"})}),n.jsx("li",{children:n.jsx("a",{href:"/about",className:"section__header",children:"About"})}),n.jsx("li",{children:n.jsx("a",{href:"/donate",className:"donate",children:"Donate"})})]})})};var cs=(e=>(e.Topics="topics",e.Resources="resources",e.About="about",e.Subscribe="subscribe",e.Search="search",e))(cs||{});const Rp=({baseUrl:e})=>{const[s,t]=Q.useState(null),[r,i]=x.useState([]),[a,o]=Q.useState(""),l=s!==null&&["topics","resources","about"].includes(s),u=()=>{t(null),o("")},c=d=>{s===d?u():t(d)};return x.useEffect(()=>{a&&t("search")},[a]),x.useEffect(()=>{(async()=>{const p=await(await fetch(`${be}/headerMenu.json`,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}})).json();i(p.categories)})()},[]),ni(u),n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:"overlay",onClick:u}),n.jsx("div",{className:"site-navigation",children:n.jsx("div",{className:"wrapper",children:n.jsxs("div",{className:F("site-navigation-bar",{"search-active":s==="search"}),children:[n.jsx(Kt,{isActive:l,onToggle:()=>c("topics"),className:"SiteNavigationToggle--mobile-menu hide-sm-up",dropdown:n.jsx(Op,{menu:s,toggleMenu:c,topics:r,className:"hide-sm-up"}),children:n.jsx(Y.FontAwesomeIcon,{icon:l?or:ei})}),n.jsx(Pp,{baseUrl:e}),n.jsx("nav",{className:"site-primary-links hide-sm-only",children:n.jsxs("ul",{children:[n.jsx("li",{children:n.jsxs(Kt,{isActive:s==="topics",onToggle:()=>c("topics"),dropdown:n.jsx(kp,{onClose:u,topics:r,className:"hide-sm-only"}),className:"topics",children:[n.jsx(Y.FontAwesomeIcon,{icon:go,style:{marginRight:"8px"}}),"Browse by topic"]})}),n.jsx("li",{children:n.jsx("a",{href:"/latest",children:"Latest"})}),n.jsx("li",{className:"with-relative-dropdown",children:n.jsx(Kt,{isActive:s==="resources",onToggle:()=>c("resources"),dropdown:n.jsx(ja,{}),withCaret:!0,children:"Resources"})}),n.jsx("li",{children:n.jsx("a",{href:"/about",children:"About"})})]})}),n.jsxs("div",{className:"site-search-cta",children:[n.jsx(Ep,{query:a,isActive:s==="search",setQuery:o,onClose:u,onActivate:()=>t("search")}),n.jsxs(Kt,{isActive:s==="subscribe",onToggle:()=>c("subscribe"),dropdown:n.jsx(xa,{context:$r.Floating}),className:"newsletter-subscription",children:[n.jsx("span",{className:"hide-lg-down",children:"Subscribe"}),n.jsx(Y.FontAwesomeIcon,{className:"hide-lg-up",icon:s==="subscribe"?or:vo})]}),n.jsx("a",{href:"/donate",className:"donate","data-track-note":"header_navigation",children:"Donate"})]})]})})})]})},rr=e=>{de.render(n.jsx(Rp,{baseUrl:e}),document.querySelector(".site-navigation-root"))},Ip="site-tools",Dp=()=>{const e=yo();return n.jsxs("div",{className:`hide-wrapper${e===bo.Down&&" hide"||""}`,children:[n.jsx(Et,{}),n.jsxs("a",{className:"prompt","data-track-note":"page_open_jobs",href:"/jobs",children:[n.jsx(Y.FontAwesomeIcon,{icon:xo})," Jobs"]})]})},nr=()=>{de.render(n.jsx(Dp,{}),document.querySelector(`.${Ip}`));const e=document.querySelector(".homepage-subscribe .newsletter-subscription .root");e&&de.hydrate(n.jsx(xa,{context:$r.Homepage}),e)};async function ir(){const e=await fetch(`${be}/dods.json`,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}}).then(r=>r.json());window.details=e,document.addEventListener("mouseover",s,{passive:!0}),document.addEventListener("touchstart",s,{passive:!0});function s(r){const i=r.target;i!=null&&i.classList.contains("dod-span")&&t(i)}function t(r){var l,u;const i=(l=r.attributes.getNamedItem("data-id"))==null?void 0:l.nodeValue;if(!i)return;const a=(u=window.details)==null?void 0:u[i];if(!a)return;const o=wo.renderToStaticMarkup(n.jsx("div",{className:"dod-container",children:n.jsx(ot,{blocks:a.text})}));r._tippy?r._tippy.show():jo(r,{content:o,allowHTML:!0,interactive:!0,hideOnClick:!1,arrow:!1,theme:"light dod",appendTo:document.body})}}const Lp="DataToken",Mp=({timestampUrl:e})=>{const[s,t]=x.useState(null);return x.useEffect(()=>{(async()=>{if(!e)return;const i=await fetch(e);if(!i.ok)return;const o=(await i.text()).trim(),l=o.length<20?hs(`${o}Z`):hs(o);l.isValid()&&t(l)})()},[e]),s&&n.jsxs("span",{children:["Last update: ",n.jsx("strong",{children:s.fromNow()}),"."]})},Fp=({url:e})=>{const[s,t]=x.useState(null);return x.useEffect(()=>{(async()=>{if(!e)return;const i=await fetch(e);i.ok&&t(await i.text())})()},[e]),s&&n.jsx("div",{dangerouslySetInnerHTML:{__html:s}})},Hp=Fp,$p={LastUpdated:{component:Mp,wrapper:e=>n.jsx("span",{children:e})},FullWidthRawHtml:{component:Hp,wrapper:e=>n.jsx("div",{className:"wp-block-full-content-width",children:e})}},qp=()=>{document.querySelectorAll(`[data-type=${Lp}]`).forEach(s=>{var a;const t=s.getAttribute("data-token");if(!t)return;const r=JSON.parse(s.innerHTML),i=(a=$p[t])==null?void 0:a.component;i&&de.render(n.jsx(i,{...r}),s.parentElement)})},Bp=[{project:"coronavirus",pageTitle:"Coronavirus Pandemic",landingPageSlug:tr.coronavirus},{project:"co2",pageTitle:"CO2",landingPageSlug:tr.co2},{project:"energy",pageTitle:"Energy",landingPageSlug:tr.energy}],Up=Bp.map(e=>({...e,rootPath:`${e.project}/country`,genericProfileSlug:`${e.project}-country-profile`})),Yp=new Rt,Wp=e=>{const[s,t]=x.useState(!1),r=Ce.sortBy(Vn,"name");return n.jsx(So,{options:r.map(i=>({label:i.name,value:i.slug})),onChange:i=>{i&&(Yp.logCountryProfileSearch(i.value),t(!0),window.location.href=`${e.countryProfileRootPath}/${i.value}`)},isLoading:s,placeholder:"Search for a country..."})};function zp(){document.querySelectorAll(".wp-block-search-country-profile").forEach(s=>{const t=s.getAttribute("data-project");if(t){const r=Up.find(i=>i.project===t);r&&de.render(n.jsx(Wp,{countryProfileRootPath:r.rootPath}),s)}})}const Sa="wp-block-owid-additional-information",Vp="merge-left",Xp=({content:e,title:s,image:t,variation:r,defaultOpen:i})=>{const[a,o]=x.useState(i?"auto":0),[l,u]=x.useState(i),c=x.useRef(null),d=[Sa];x.useEffect(()=>{const w=()=>{o("auto"),l||u(!0)};c.current&&us.observeFigures(c.current),window.addEventListener("beforeprint",()=>{w()})},[l]);const h=()=>{o(a===0?"auto":0),l||u(!0)};t&&d.push("with-image"),a!==0&&d.push("open");const p=()=>n.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:e||""}}),v=()=>n.jsxs("div",{className:"content-wrapper",children:[t?n.jsx("figure",{dangerouslySetInnerHTML:{__html:t||""}}):null,n.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:e||""}})]});return n.jsxs("div",{"data-variation":r,"data-default-open":i,ref:c,className:d.join(" "),children:[n.jsxs("h3",{className:"additional-information__heading",onClick:h,"data-track-note":"additional_information_toggle",children:[n.jsx(Y.FontAwesomeIcon,{icon:Ls}),s]}),n.jsx(ha,{height:a,animateOpacity:!0,duration:250,children:r===Vp?v():p()})]})},Kp=()=>{document.querySelectorAll(`.${Sa}`).forEach(e=>{const s=e.parentElement,t=e.querySelector("h3"),r=t?t.textContent:null,i=e.getAttribute("data-variation")||"",a=e.getAttribute("data-default-open")==="true",o=e.querySelector(".content-wrapper > figure"),l=o?o.innerHTML:null,u=e.querySelector(".content"),c=u?u.innerHTML:null;de.hydrate(n.jsx(Xp,{content:c,title:r,image:l,variation:i,defaultOpen:a}),s)})},Qp=e=>{const{debug:s,context:t,isPreviewing:r}=e||{};switch(t){case js.dataPage:Np(r);case js.grapherPage:case js.explorerPage:rr(be),nr(),Xs(),ir();break;case js.gdocsDocument:Oh(s,r),rr(be),qn(),ir(),kn(),nr(),Xs();break;default:rr(be),qp(),zp(),Kp(),vp(),up(),od(),Eh(),us.setUpGlobalEntitySelectorForEmbeds(),us.embedAll(),kn(),id(us.selection),qn(),nr(),Xs(),ir();break}};window.Grapher=Sr;window.Explorer=No;window.CoreTable=Co;window.runChartsIndexPage=$o;window.runSearchPage=Hl;window.runNotFoundPage=ql;window.runFeedbackPage=tc;window.runDonateForm=pc;window.runCountryProfilePage=yc;window.runTableOfContents=wc;window.runRelatedCharts=Sc;window.MultiEmbedderSingleton=us;window.runSiteFooterScripts=Qp;td();try{ar.start({apiKey:Qr,plugins:[new Cc]});const e=Math.random()<.05;ed.start({apiKey:Qr,autoInstrumentFullPageLoads:!1,autoInstrumentRouteChanges:!1,autoInstrumentNetworkRequests:e})}catch{console.error("Failed to initialize Bugsnag")}const Gp=new Rt(To);var Bn;(Bn=document.querySelector("html"))==null||Bn.classList.add("js");if(document.cookie.includes("wordpress")||document.cookie.includes("wp-settings")||document.cookie.includes(_o.isAdmin)){const e=document.getElementById("wpadminbar");e&&(e.style.display="")}Gp.startClickTracking();
//# sourceMappingURL=owid.mjs.map
